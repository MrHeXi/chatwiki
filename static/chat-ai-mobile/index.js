const __vite__fileDeps=["assets/js/en-US-DVVvWjnX.js","assets/js/vue-chunks-DTK9OVjH.js","assets/js/axios-B4uVmeYG.js","assets/js/qs-DrHefV6n.js","assets/js/dayjs-C4iS2aBk.js","assets/js/crypto-js-BJ7SvduI.js","assets/js/zh-CN-CT4baa4s.js","assets/js/index-DwXYxRKI.js","assets/css/index-cOql1q-t.css","assets/js/index-D1WVIW8c.js","assets/css/index-DWQ5Mvu3.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var sn=Object.defineProperty;var cn=(e,t,n)=>t in e?sn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var j=(e,t,n)=>(cn(e,typeof t!="symbol"?t+"":t,n),n);import{o as je,a as we,i as ln,w as A,r as y,b as ze,n as kt,c as Me,u as ge,d as Fe,e as z,f as F,g as Z,p as qe,h as un,j as N,k as g,l as Tt,m as dn,q as ce,T as xt,s as It,v as $t,t as fn,F as mn,x as At,y as hn,z as Ue,A as gn,B as pn,C as vn,D as Le,E as yn,R as bn,G as _n,H as wn,I as tt,J as Cn}from"./assets/js/vue-chunks-DTK9OVjH.js";import{a as Sn}from"./assets/js/axios-B4uVmeYG.js";import{q as En}from"./assets/js/qs-DrHefV6n.js";import"./assets/js/dayjs-C4iS2aBk.js";import"./assets/js/crypto-js-BJ7SvduI.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();if(typeof window<"u"){let e=function(){var t=document.body,n=document.getElementById("__svg__icons__dom__");n||(n=document.createElementNS("http://www.w3.org/2000/svg","svg"),n.style.position="absolute",n.style.width="0",n.style.height="0",n.id="__svg__icons__dom__",n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n.setAttribute("xmlns:link","http://www.w3.org/1999/xlink")),n.innerHTML='<symbol fill="none"  viewBox="0 0 20 20" id="paper-airplane"><path d="M17.5 3.333 12.543 17.5 9.71 11.125 3.334 8.292l14.167-4.959ZM17.5 3.333 9.71 11.125" stroke="currentColor" stroke-width="1.625" stroke-linecap="round" stroke-linejoin="round" /></symbol>',t.insertBefore(n,t.lastChild)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e()}function On(){}const M=Object.assign,He=typeof window<"u",Ce=e=>e!==null&&typeof e=="object",q=e=>e!=null,Be=e=>typeof e=="function",Pn=e=>Ce(e)&&Be(e.then)&&Be(e.catch),Lt=e=>typeof e=="number"||/^\d+(\.\d+)?$/.test(e),kn=()=>He?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function nt(e,t){const n=t.split(".");let o=e;return n.forEach(r=>{var a;o=Ce(o)&&(a=o[r])!=null?a:""}),o}function Tn(e,t,n){return t.reduce((o,r)=>(o[r]=e[r],o),{})}const pe=null,x=[Number,String],V={type:Boolean,default:!0},xn=e=>({type:Number,default:e}),E=e=>({type:String,default:e});var Ve=typeof window<"u",In=e=>e===window,ot=(e,t)=>({top:0,left:0,right:e,bottom:t,width:e,height:t}),Rs=e=>{const t=ge(e);if(In(t)){const n=t.innerWidth,o=t.innerHeight;return ot(n,o)}return t!=null&&t.getBoundingClientRect?t.getBoundingClientRect():ot(0,0)};function Ds(e){const t=Fe(e,null);if(t){const n=Z(),{link:o,unlink:r,internalChildren:a}=t;o(n),je(()=>r(n));const s=z(()=>a.indexOf(n));return{parent:t,index:s}}return{parent:null,index:y(-1)}}function $n(e){const t=[],n=o=>{Array.isArray(o)&&o.forEach(r=>{var a;un(r)&&(t.push(r),(a=r.component)!=null&&a.subTree&&(t.push(r.component.subTree),n(r.component.subTree.children)),r.children&&n(r.children))})};return n(e),t}var rt=(e,t)=>{const n=e.indexOf(t);return n===-1?e.findIndex(o=>t.key!==void 0&&t.key!==null&&o.type===t.type&&o.key===t.key):n};function An(e,t,n){const o=$n(e.subTree.children);n.sort((a,s)=>rt(o,a.vnode)-rt(o,s.vnode));const r=n.map(a=>a.proxy);t.sort((a,s)=>{const i=r.indexOf(a),c=r.indexOf(s);return i-c})}function Ns(e){const t=F([]),n=F([]),o=Z();return{children:t,linkChildren:a=>{qe(e,Object.assign({link:c=>{c.proxy&&(n.push(c),t.push(c.proxy),An(o,t,n))},unlink:c=>{const l=n.indexOf(c);t.splice(l,1),n.splice(l,1)},children:t,internalChildren:n},a))}}}function Bt(e){let t;ze(()=>{e(),kt(()=>{t=!0})}),Me(()=>{t&&e()})}function Rt(e,t,n={}){if(!Ve)return;const{target:o=window,passive:r=!1,capture:a=!1}=n;let s=!1,i;const c=d=>{if(s)return;const h=ge(d);h&&!i&&(h.addEventListener(e,t,{capture:a,passive:r}),i=!0)},l=d=>{if(s)return;const h=ge(d);h&&i&&(h.removeEventListener(e,t,a),i=!1)};je(()=>l(o)),we(()=>l(o)),Bt(()=>c(o));let u;return ln(o)&&(u=A(o,(d,h)=>{l(h),c(d)})),()=>{u==null||u(),l(o),s=!0}}var ue,Te;function Ln(){if(!ue&&(ue=y(0),Te=y(0),Ve)){const e=()=>{ue.value=window.innerWidth,Te.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:ue,height:Te}}var Bn=/scroll|auto|overlay/i,Rn=Ve?window:void 0;function Dn(e){return e.tagName!=="HTML"&&e.tagName!=="BODY"&&e.nodeType===1}function Nn(e,t=Rn){let n=e;for(;n&&n!==t&&Dn(n);){const{overflowY:o}=window.getComputedStyle(n);if(Bn.test(o))return n;n=n.parentNode}return t}kn();const jn=e=>e.stopPropagation();function Ke(e,t){(typeof e.cancelable!="boolean"||e.cancelable)&&e.preventDefault(),t&&jn(e)}const{width:js,height:zs}=Ln();function $(e){if(q(e))return Lt(e)?`${e}px`:String(e)}function zn(e){if(q(e)){if(Array.isArray(e))return{width:$(e[0]),height:$(e[1])};const t=$(e);return{width:t,height:t}}}function Mn(e){const t={};return e!==void 0&&(t.zIndex=+e),t}const Fn=/-(\w)/g,Dt=e=>e.replace(Fn,(t,n)=>n.toUpperCase()),qn=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,""),{hasOwnProperty:Un}=Object.prototype;function Hn(e,t,n){const o=t[n];q(o)&&(!Un.call(e,n)||!Ce(o)?e[n]=o:e[n]=Nt(Object(e[n]),o))}function Nt(e,t){return Object.keys(t).forEach(n=>{Hn(e,t,n)}),e}var jt={name:"姓名",tel:"电话",save:"保存",clear:"清空",cancel:"取消",confirm:"确认",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,t)=>`${e}年${t}月`,rangePrompt:e=>`最多选择 ${e} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:e=>`${e}折`,condition:e=>`满${e}元可用`},vanCouponCell:{title:"优惠券",count:e=>`${e}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}};const at=y("zh-CN"),st=F({"zh-CN":jt}),zt={messages(){return st[at.value]},use(e,t){at.value=e,this.add({[e]:t})},add(e={}){Nt(st,e)}};var Vn=zt;function Kn(e){const t=Dt(e)+".";return(n,...o)=>{const r=Vn.messages(),a=nt(r,t+n)||nt(r,n);return Be(a)?a(...o):a}}function Re(e,t){return t?typeof t=="string"?` ${e}--${t}`:Array.isArray(t)?t.reduce((n,o)=>n+Re(e,o),""):Object.keys(t).reduce((n,o)=>n+(t[o]?Re(e,o):""),""):""}function Wn(e){return(t,n)=>(t&&typeof t!="string"&&(n=t,t=""),t=t?`${e}__${t}`:e,`${t}${Re(t,n)}`)}function U(e){const t=`van-${e}`;return[t,Wn(t),Kn(t)]}const We="van-hairline",Ms=`${We}--top`,Fs=`${We}--left`,Gn=`${We}--surround`,Yn="van-haptics-feedback",it=5;function Jn(e,{args:t=[],done:n,canceled:o,error:r}){if(e){const a=e.apply(null,t);Pn(a)?a.then(s=>{s?n():o&&o()}).catch(r||On):a?n():o&&o()}else n()}function H(e){return e.install=t=>{const{name:n}=e;n&&(t.component(n,e),t.component(Dt(`-${n}`),e))},e}const Mt=Symbol();function qs(e){const t=Fe(Mt,null);t&&A(t,n=>{n&&e()})}function Ft(e){const t=Z();t&&M(t.proxy,e)}const Xn={to:[String,Object],url:String,replace:Boolean};function Zn({to:e,url:t,replace:n,$router:o}){e&&o?o[n?"replace":"push"](e):t&&(n?location.replace(t):location.href=t)}function Qn(){const e=Z().proxy;return()=>Zn(e)}const[eo,ct]=U("badge"),to={dot:Boolean,max:x,tag:E("div"),color:String,offset:Array,content:x,showZero:V,position:E("top-right")};var no=N({name:eo,props:to,setup(e,{slots:t}){const n=()=>{if(t.content)return!0;const{content:i,showZero:c}=e;return q(i)&&i!==""&&(c||i!==0&&i!=="0")},o=()=>{const{dot:i,max:c,content:l}=e;if(!i&&n())return t.content?t.content():q(c)&&Lt(l)&&+l>+c?`${c}+`:l},r=i=>i.startsWith("-")?i.replace("-",""):`-${i}`,a=z(()=>{const i={background:e.color};if(e.offset){const[c,l]=e.offset,{position:u}=e,[d,h]=u.split("-");t.default?(typeof l=="number"?i[d]=$(d==="top"?l:-l):i[d]=d==="top"?$(l):r(l),typeof c=="number"?i[h]=$(h==="left"?c:-c):i[h]=h==="left"?$(c):r(c)):(i.marginTop=$(l),i.marginLeft=$(c))}return i}),s=()=>{if(n()||e.dot)return g("div",{class:ct([e.position,{dot:e.dot,fixed:!!t.default}]),style:a.value},[o()])};return()=>{if(t.default){const{tag:i}=e;return g(i,{class:ct("wrapper")},{default:()=>[t.default(),s()]})}return s()}}});const oo=H(no);let qt=2e3;const ro=()=>++qt,ao=e=>{qt=e},[Ut,so]=U("config-provider"),Ht=Symbol(Ut),io={tag:E("div"),theme:E("light"),zIndex:Number,themeVars:Object,themeVarsDark:Object,themeVarsLight:Object,themeVarsScope:E("local"),iconPrefix:String};function co(e){return e.replace(/([a-zA-Z])(\d)/g,"$1-$2")}function lo(e){const t={};return Object.keys(e).forEach(n=>{const o=co(qn(n));t[`--van-${o}`]=e[n]}),t}function de(e={},t={}){Object.keys(e).forEach(n=>{e[n]!==t[n]&&document.documentElement.style.setProperty(n,e[n])}),Object.keys(t).forEach(n=>{e[n]||document.documentElement.style.removeProperty(n)})}var uo=N({name:Ut,props:io,setup(e,{slots:t}){const n=z(()=>lo(M({},e.themeVars,e.theme==="dark"?e.themeVarsDark:e.themeVarsLight)));if(He){const o=()=>{document.documentElement.classList.add(`van-theme-${e.theme}`)},r=(a=e.theme)=>{document.documentElement.classList.remove(`van-theme-${a}`)};A(()=>e.theme,(a,s)=>{s&&r(s),o()},{immediate:!0}),Me(o),we(r),Tt(r),A(n,(a,s)=>{e.themeVarsScope==="global"&&de(a,s)}),A(()=>e.themeVarsScope,(a,s)=>{s==="global"&&de({},n.value),a==="global"&&de(n.value,{})}),e.themeVarsScope==="global"&&de(n.value,{})}return qe(Ht,e),dn(()=>{e.zIndex!==void 0&&ao(e.zIndex)}),()=>g(e.tag,{class:so(),style:e.themeVarsScope==="local"?n.value:void 0},{default:()=>{var o;return[(o=t.default)==null?void 0:o.call(t)]}})}});const[fo,lt]=U("icon"),mo=e=>e==null?void 0:e.includes("/"),ho={dot:Boolean,tag:E("i"),name:String,size:x,badge:x,color:String,badgeProps:Object,classPrefix:String};var go=N({name:fo,props:ho,setup(e,{slots:t}){const n=Fe(Ht,null),o=z(()=>e.classPrefix||(n==null?void 0:n.iconPrefix)||lt());return()=>{const{tag:r,dot:a,name:s,size:i,badge:c,color:l}=e,u=mo(s);return g(oo,ce({dot:a,tag:r,class:[o.value,u?"":`${o.value}-${s}`],style:{color:l,fontSize:$(i)},content:c},e.badgeProps),{default:()=>{var d;return[(d=t.default)==null?void 0:d.call(t),u&&g("img",{class:lt("image"),src:s},null)]}})}}});const Se=H(go),[po,se]=U("loading"),vo=Array(12).fill(null).map((e,t)=>g("i",{class:se("line",String(t+1))},null)),yo=g("svg",{class:se("circular"),viewBox:"25 25 50 50"},[g("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),bo={size:x,type:E("circular"),color:String,vertical:Boolean,textSize:x,textColor:String};var _o=N({name:po,props:bo,setup(e,{slots:t}){const n=z(()=>M({color:e.color},zn(e.size))),o=()=>{const a=e.type==="spinner"?vo:yo;return g("span",{class:se("spinner",e.type),style:n.value},[t.icon?t.icon():a])},r=()=>{var a;if(t.default)return g("span",{class:se("text"),style:{fontSize:$(e.textSize),color:(a=e.textColor)!=null?a:e.color}},[t.default()])};return()=>{const{type:a,vertical:s}=e;return g("div",{class:se([a,{vertical:s}]),"aria-live":"polite","aria-busy":!0},[o(),r()])}}});const Vt=H(_o),[wo,G]=U("button"),Co=M({},Xn,{tag:E("button"),text:String,icon:String,type:E("default"),size:E("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:E("button"),loadingSize:x,loadingText:String,loadingType:String,iconPosition:E("left")});var So=N({name:wo,props:Co,emits:["click"],setup(e,{emit:t,slots:n}){const o=Qn(),r=()=>n.loading?n.loading():g(Vt,{size:e.loadingSize,type:e.loadingType,class:G("loading")},null),a=()=>{if(e.loading)return r();if(n.icon)return g("div",{class:G("icon")},[n.icon()]);if(e.icon)return g(Se,{name:e.icon,class:G("icon"),classPrefix:e.iconPrefix},null)},s=()=>{let l;if(e.loading?l=e.loadingText:l=n.default?n.default():e.text,l)return g("span",{class:G("text")},[l])},i=()=>{const{color:l,plain:u}=e;if(l){const d={color:u?l:"white"};return u||(d.background=l),l.includes("gradient")?d.border=0:d.borderColor=l,d}},c=l=>{e.loading?Ke(l):e.disabled||(t("click",l),o())};return()=>{const{tag:l,type:u,size:d,block:h,round:v,plain:C,square:w,loading:O,disabled:L,hairline:P,nativeType:B,iconPosition:R}=e,D=[G([u,d,{plain:C,block:h,round:v,square:w,loading:O,disabled:L,hairline:P}]),{[Gn]:P}];return g(l,{type:B,class:D,style:i(),disabled:L,onClick:c},{default:()=>[g("div",{class:G("content")},[R==="left"&&a(),s(),R==="right"&&a()])]})}}});const Eo=H(So),Kt={show:Boolean,zIndex:x,overlay:V,duration:x,teleport:[String,Object],lockScroll:V,lazyRender:V,beforeClose:Function,overlayStyle:Object,overlayClass:pe,transitionAppear:Boolean,closeOnClickOverlay:V},Us=Object.keys(Kt);function Oo(e,t){return e>t?"horizontal":t>e?"vertical":""}function Po(){const e=y(0),t=y(0),n=y(0),o=y(0),r=y(0),a=y(0),s=y(""),i=y(!0),c=()=>s.value==="vertical",l=()=>s.value==="horizontal",u=()=>{n.value=0,o.value=0,r.value=0,a.value=0,s.value="",i.value=!0};return{move:v=>{const C=v.touches[0];n.value=(C.clientX<0?0:C.clientX)-e.value,o.value=C.clientY-t.value,r.value=Math.abs(n.value),a.value=Math.abs(o.value);const w=10;(!s.value||r.value<w&&a.value<w)&&(s.value=Oo(r.value,a.value)),i.value&&(r.value>it||a.value>it)&&(i.value=!1)},start:v=>{u(),e.value=v.touches[0].clientX,t.value=v.touches[0].clientY},reset:u,startX:e,startY:t,deltaX:n,deltaY:o,offsetX:r,offsetY:a,direction:s,isVertical:c,isHorizontal:l,isTap:i}}let ne=0;const ut="van-overflow-hidden";function ko(e,t){const n=Po(),o="01",r="10",a=u=>{n.move(u);const d=n.deltaY.value>0?r:o,h=Nn(u.target,e.value),{scrollHeight:v,offsetHeight:C,scrollTop:w}=h;let O="11";w===0?O=C>=v?"00":"01":w+C>=v&&(O="10"),O!=="11"&&n.isVertical()&&!(parseInt(O,2)&parseInt(d,2))&&Ke(u,!0)},s=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",a,{passive:!1}),ne||document.body.classList.add(ut),ne++},i=()=>{ne&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",a),ne--,ne||document.body.classList.remove(ut))},c=()=>t()&&s(),l=()=>t()&&i();Bt(c),we(l),Tt(l),A(t,u=>{u?s():i()})}function Wt(e){const t=y(!1);return A(e,n=>{n&&(t.value=n)},{immediate:!0}),n=>()=>t.value?n():null}const dt=()=>{var e;const{scopeId:t}=((e=Z())==null?void 0:e.vnode)||{};return t?{[t]:""}:null},[To,xo]=U("overlay"),Io={show:Boolean,zIndex:x,duration:x,className:pe,lockScroll:V,lazyRender:V,customStyle:Object};var $o=N({name:To,props:Io,setup(e,{slots:t}){const n=y(),o=Wt(()=>e.show||!e.lazyRender),r=s=>{e.lockScroll&&Ke(s,!0)},a=o(()=>{var s;const i=M(Mn(e.zIndex),e.customStyle);return q(e.duration)&&(i.animationDuration=`${e.duration}s`),It(g("div",{ref:n,style:i,class:[xo(),e.className]},[(s=t.default)==null?void 0:s.call(t)]),[[$t,e.show]])});return Rt("touchmove",r,{target:n}),()=>g(xt,{name:"van-fade",appear:!0},{default:a})}});const Ao=H($o),Lo=M({},Kt,{round:Boolean,position:E("center"),closeIcon:E("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:E("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[Bo,ft]=U("popup");var Ro=N({name:Bo,inheritAttrs:!1,props:Lo,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(e,{emit:t,attrs:n,slots:o}){let r,a;const s=y(),i=y(),c=Wt(()=>e.show||!e.lazyRender),l=z(()=>{const b={zIndex:s.value};if(q(e.duration)){const T=e.position==="center"?"animationDuration":"transitionDuration";b[T]=`${e.duration}s`}return b}),u=()=>{r||(r=!0,s.value=e.zIndex!==void 0?+e.zIndex:ro(),t("open"))},d=()=>{r&&Jn(e.beforeClose,{done(){r=!1,t("close"),t("update:show",!1)}})},h=b=>{t("clickOverlay",b),e.closeOnClickOverlay&&d()},v=()=>{if(e.overlay)return g(Ao,ce({show:e.show,class:e.overlayClass,zIndex:s.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0},dt(),{onClick:h}),{default:o["overlay-content"]})},C=b=>{t("clickCloseIcon",b),d()},w=()=>{if(e.closeable)return g(Se,{role:"button",tabindex:0,name:e.closeIcon,class:[ft("close-icon",e.closeIconPosition),Yn],classPrefix:e.iconPrefix,onClick:C},null)};let O;const L=()=>{O&&clearTimeout(O),O=setTimeout(()=>{t("opened")})},P=()=>t("closed"),B=b=>t("keydown",b),R=c(()=>{var b;const{round:T,position:S,safeAreaInsetTop:te,safeAreaInsetBottom:ke}=e;return It(g("div",ce({ref:i,style:l.value,role:"dialog",tabindex:0,class:[ft({round:T,[S]:S}),{"van-safe-area-top":te,"van-safe-area-bottom":ke}],onKeydown:B},n,dt()),[(b=o.default)==null?void 0:b.call(o),w()]),[[$t,e.show]])}),D=()=>{const{position:b,transition:T,transitionAppear:S}=e,te=b==="center"?"van-fade":`van-popup-slide-${b}`;return g(xt,{name:T||te,appear:S,onAfterEnter:L,onAfterLeave:P},{default:R})};return A(()=>e.show,b=>{b&&!r&&(u(),n.tabindex===0&&kt(()=>{var T;(T=i.value)==null||T.focus()})),!b&&r&&(r=!1,t("close"))}),Ft({popupRef:i}),ko(i,()=>e.show&&e.lockScroll),Rt("popstate",()=>{e.closeOnPopstate&&(d(),a=!1)}),ze(()=>{e.show&&u()}),Me(()=>{a&&(t("update:show",!0),a=!1)}),we(()=>{e.show&&e.teleport&&(d(),a=!0)}),qe(Mt,()=>e.show),()=>e.teleport?g(fn,{to:e.teleport},{default:()=>[v(),D()]}):g(mn,null,[v(),D()])}});const Do=H(Ro);let oe=0;function No(e){e?(oe||document.body.classList.add("van-toast--unclickable"),oe++):oe&&(oe--,oe||document.body.classList.remove("van-toast--unclickable"))}const[jo,Y]=U("toast"),zo=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],Mo={icon:String,show:Boolean,type:E("text"),overlay:Boolean,message:x,iconSize:x,duration:xn(2e3),position:E("middle"),teleport:[String,Object],wordBreak:String,className:pe,iconPrefix:String,transition:E("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:pe,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:x};var Gt=N({name:jo,props:Mo,emits:["update:show"],setup(e,{emit:t,slots:n}){let o,r=!1;const a=()=>{const d=e.show&&e.forbidClick;r!==d&&(r=d,No(r))},s=d=>t("update:show",d),i=()=>{e.closeOnClick&&s(!1)},c=()=>clearTimeout(o),l=()=>{const{icon:d,type:h,iconSize:v,iconPrefix:C,loadingType:w}=e;if(d||h==="success"||h==="fail")return g(Se,{name:d||h,size:v,class:Y("icon"),classPrefix:C},null);if(h==="loading")return g(Vt,{class:Y("loading"),size:v,type:w},null)},u=()=>{const{type:d,message:h}=e;if(n.message)return g("div",{class:Y("text")},[n.message()]);if(q(h)&&h!=="")return d==="html"?g("div",{key:0,class:Y("text"),innerHTML:String(h)},null):g("div",{class:Y("text")},[h])};return A(()=>[e.show,e.forbidClick],a),A(()=>[e.show,e.type,e.message,e.duration],()=>{c(),e.show&&e.duration>0&&(o=setTimeout(()=>{s(!1)},e.duration))}),ze(a),je(a),()=>g(Do,ce({class:[Y([e.position,e.wordBreak==="normal"?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:i,onClosed:c,"onUpdate:show":s},Tn(e,zo)),{default:()=>[l(),u()]})}});function Fo(){const e=F({show:!1}),t=r=>{e.show=r},n=r=>{M(e,r,{transitionAppear:!0}),t(!0)},o=()=>t(!1);return Ft({open:n,close:o,toggle:t}),{open:n,close:o,state:e,toggle:t}}function qo(e){const t=At(e),n=document.createElement("div");return document.body.appendChild(n),{instance:t.mount(n),unmount(){t.unmount(),document.body.removeChild(n)}}}const Uo={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let fe=[],Ho=!1,mt=M({},Uo);const Vo=new Map;function Ko(e){return Ce(e)?e:{message:e}}function Wo(){const{instance:e,unmount:t}=qo({setup(){const n=y(""),{open:o,state:r,close:a,toggle:s}=Fo(),i=()=>{},c=()=>g(Gt,ce(r,{onClosed:i,"onUpdate:show":s}),null);return A(n,l=>{r.message=l}),Z().render=c,{open:o,close:a,message:n}}});return e}function Go(){if(!fe.length||Ho){const e=Wo();fe.push(e)}return fe[fe.length-1]}function Yt(e={}){if(!He)return{};const t=Go(),n=Ko(e);return t.open(M({},mt,Vo.get(n.type||mt.type),n)),t}H(Gt);const Yo=H(uo),Jo=e=>{e.use(Yo),e.use(Eo),e.use(Se)},Xo="modulepreload",Zo=function(e){return"/"+e},ht={},ve=function(t,n,o){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),s=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=Promise.all(n.map(i=>{if(i=Zo(i),i in ht)return;ht[i]=!0;const c=i.endsWith(".css"),l=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${l}`))return;const u=document.createElement("link");if(u.rel=c?"stylesheet":Xo,c||(u.as="script",u.crossOrigin=""),u.href=i,s&&u.setAttribute("nonce",s),document.head.appendChild(u),c)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})}))}return r.then(()=>t()).catch(a=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a})},Qo=(e,t,n)=>{const o=e[t];return o?typeof o=="function"?o():Promise.resolve(o):new Promise((r,a)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(a.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})};function er(e){return typeof e=="object"&&e!==null}function gt(e,t){return e=er(e)?e:Object.create(null),new Proxy(e,{get(n,o,r){return o==="key"?Reflect.get(n,o,r):Reflect.get(n,o,r)||Reflect.get(t,o,r)}})}function tr(e,t){return t.reduce((n,o)=>n==null?void 0:n[o],e)}function nr(e,t,n){return t.slice(0,-1).reduce((o,r)=>/^(__proto__)$/.test(r)?{}:o[r]=o[r]||{},e)[t[t.length-1]]=n,e}function or(e,t){return t.reduce((n,o)=>{const r=o.split(".");return nr(n,r,tr(e,r))},{})}function rr(e,t){return n=>{var o;try{const{storage:r=localStorage,beforeRestore:a=void 0,afterRestore:s=void 0,serializer:i={serialize:JSON.stringify,deserialize:JSON.parse},key:c=t.$id,paths:l=null,debug:u=!1}=n;return{storage:r,beforeRestore:a,afterRestore:s,serializer:i,key:((o=e.key)!=null?o:d=>d)(typeof c=="string"?c:c(t.$id)),paths:l,debug:u}}catch(r){return n.debug&&console.error("[pinia-plugin-persistedstate]",r),null}}}function pt(e,{storage:t,serializer:n,key:o,debug:r}){try{const a=t==null?void 0:t.getItem(o);a&&e.$patch(n==null?void 0:n.deserialize(a))}catch(a){r&&console.error("[pinia-plugin-persistedstate]",a)}}function vt(e,{storage:t,serializer:n,key:o,paths:r,debug:a}){try{const s=Array.isArray(r)?or(e,r):e;t.setItem(o,n.serialize(s))}catch(s){a&&console.error("[pinia-plugin-persistedstate]",s)}}function ar(e={}){return t=>{const{auto:n=!1}=e,{options:{persist:o=n},store:r,pinia:a}=t;if(!o)return;if(!(r.$id in a.state.value)){const i=a._s.get(r.$id.replace("__hot:",""));i&&Promise.resolve().then(()=>i.$persist());return}const s=(Array.isArray(o)?o.map(i=>gt(i,e)):[gt(o,e)]).map(rr(e,r)).filter(Boolean);r.$persist=()=>{s.forEach(i=>{vt(r.$state,i)})},r.$hydrate=({runHooks:i=!0}={})=>{s.forEach(c=>{const{beforeRestore:l,afterRestore:u}=c;i&&(l==null||l(t)),pt(r,c),i&&(u==null||u(t))})},s.forEach(i=>{const{beforeRestore:c,afterRestore:l}=i;c==null||c(t),pt(r,i),l==null||l(t),r.$subscribe((u,d)=>{vt(d,i)},{detached:!0})})}}const Ge=hn();Ge.use(ar({key:e=>`__persisted__${e}`,auto:!1}));const sr=e=>{e.use(Ge)};var ir={name:"Name",tel:"Phone",save:"Save",clear:"Clear",cancel:"Cancel",confirm:"Confirm",delete:"Delete",loading:"Loading...",noCoupon:"No coupons",nameEmpty:"Please fill in the name",addContact:"Add contact",telInvalid:"Malformed phone number",vanCalendar:{end:"End",start:"Start",title:"Calendar",weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthTitle:(e,t)=>`${e}/${t}`,rangePrompt:e=>`Choose no more than ${e} days`},vanCascader:{select:"Select"},vanPagination:{prev:"Previous",next:"Next"},vanPullRefresh:{pulling:"Pull to refresh...",loosing:"Loose to refresh..."},vanSubmitBar:{label:"Total:"},vanCoupon:{unlimited:"Unlimited",discount:e=>`${e*10}% off`,condition:e=>`At least ${e}`},vanCouponCell:{title:"Coupon",count:e=>`You have ${e} coupons`},vanCouponList:{exchange:"Exchange",close:"Close",enable:"Available",disabled:"Unavailable",placeholder:"Coupon code"},vanAddressEdit:{area:"Area",areaEmpty:"Please select a receiving area",addressEmpty:"Address can not be empty",addressDetail:"Address",defaultAddress:"Set as the default address"},vanAddressList:{add:"Add new address"}};const cr=({prefixKey:e="",storage:t=localStorage}={})=>{const n=class{constructor(){j(this,"storage",t);j(this,"prefixKey",e)}getKey(o){return`${this.prefixKey}${o}`.toUpperCase()}set(o,r,a=null){const s=JSON.stringify({value:r,expire:a!==null?new Date().getTime()+a*1e3:null});this.storage.setItem(this.getKey(o),s)}get(o,r=null){const a=this.storage.getItem(this.getKey(o));if(a)try{const s=JSON.parse(a),{value:i,expire:c}=s;if(c===null||c>=Date.now())return i;this.remove(this.getKey(o))}catch{return r}return r}remove(o){console.log("remove:",o),this.storage.removeItem(this.getKey(o))}clear(){this.storage.clear()}setCookie(o,r,a=null){document.cookie=`${this.getKey(o)}=${r}; Max-Age=${a}`}getCookie(o){const r=document.cookie.split("; ");for(let a=0,s=r.length;a<s;a++){const i=r[a].split("=");if(i[0]===this.getKey(o))return i[1]}return""}removeCookie(o){this.setCookie(o,1,-1)}clearCookie(){const o=document.cookie.match(/[^ =;]+(?==)/g);if(o)for(let r=o.length;r--;)document.cookie=`${o[r]}=0;expire=${new Date(0).toUTCString()}`}};return new n},ie=cr(),yt={"zh-CN":jt,"en-US":ir},lr=Ue("locales",{state:()=>({currentLocale:{lang:ie.get("lang")||"zh-CN",vantLocale:yt[ie.get("lang")||"zh-CN"]},localeMap:[{lang:"zh-CN",name:"简体中文"},{lang:"en-US",name:"English"}]}),getters:{getCurrentLocale(){return this.currentLocale},getLocaleMap(){return this.localeMap}},actions:{setCurrentLocale(e){this.currentLocale.lang=e==null?void 0:e.lang,this.currentLocale.vantLocale=yt[e==null?void 0:e.lang],zt.use(e==null?void 0:e.lang,this.currentLocale.vantLocale),ie.set("lang",e==null?void 0:e.lang)}}}),Jt=()=>lr(Ge);var ur=typeof global=="object"&&global&&global.Object===Object&&global,dr=typeof self=="object"&&self&&self.Object===Object&&self,Ye=ur||dr||Function("return this")(),X=Ye.Symbol,Xt=Object.prototype,fr=Xt.hasOwnProperty,mr=Xt.toString,re=X?X.toStringTag:void 0;function hr(e){var t=fr.call(e,re),n=e[re];try{e[re]=void 0;var o=!0}catch{}var r=mr.call(e);return o&&(t?e[re]=n:delete e[re]),r}var gr=Object.prototype,pr=gr.toString;function vr(e){return pr.call(e)}var yr="[object Null]",br="[object Undefined]",bt=X?X.toStringTag:void 0;function Zt(e){return e==null?e===void 0?br:yr:bt&&bt in Object(e)?hr(e):vr(e)}function _r(e){return e!=null&&typeof e=="object"}var wr="[object Symbol]";function Je(e){return typeof e=="symbol"||_r(e)&&Zt(e)==wr}function Cr(e,t){for(var n=-1,o=e==null?0:e.length,r=Array(o);++n<o;)r[n]=t(e[n],n,e);return r}var Xe=Array.isArray,Sr=1/0,_t=X?X.prototype:void 0,wt=_t?_t.toString:void 0;function Qt(e){if(typeof e=="string")return e;if(Xe(e))return Cr(e,Qt)+"";if(Je(e))return wt?wt.call(e):"";var t=e+"";return t=="0"&&1/e==-Sr?"-0":t}function ye(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Er="[object AsyncFunction]",Or="[object Function]",Pr="[object GeneratorFunction]",kr="[object Proxy]";function Tr(e){if(!ye(e))return!1;var t=Zt(e);return t==Or||t==Pr||t==Er||t==kr}var xe=Ye["__core-js_shared__"],Ct=function(){var e=/[^.]+$/.exec(xe&&xe.keys&&xe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function xr(e){return!!Ct&&Ct in e}var Ir=Function.prototype,$r=Ir.toString;function Ar(e){if(e!=null){try{return $r.call(e)}catch{}try{return e+""}catch{}}return""}var Lr=/[\\^$.*+?()[\]{}|]/g,Br=/^\[object .+?Constructor\]$/,Rr=Function.prototype,Dr=Object.prototype,Nr=Rr.toString,jr=Dr.hasOwnProperty,zr=RegExp("^"+Nr.call(jr).replace(Lr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Mr(e){if(!ye(e)||xr(e))return!1;var t=Tr(e)?zr:Br;return t.test(Ar(e))}function Fr(e,t){return e==null?void 0:e[t]}function Ze(e,t){var n=Fr(e,t);return Mr(n)?n:void 0}var St=function(){try{var e=Ze(Object,"defineProperty");return e({},"",{}),e}catch{}}(),qr=9007199254740991,Ur=/^(?:0|[1-9]\d*)$/;function Hr(e,t){var n=typeof e;return t=t??qr,!!t&&(n=="number"||n!="symbol"&&Ur.test(e))&&e>-1&&e%1==0&&e<t}function Vr(e,t,n){t=="__proto__"&&St?St(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function en(e,t){return e===t||e!==e&&t!==t}var Kr=Object.prototype,Wr=Kr.hasOwnProperty;function Gr(e,t,n){var o=e[t];(!(Wr.call(e,t)&&en(o,n))||n===void 0&&!(t in e))&&Vr(e,t,n)}var Yr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Jr=/^\w*$/;function Xr(e,t){if(Xe(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Je(e)?!0:Jr.test(e)||!Yr.test(e)||t!=null&&e in Object(t)}var le=Ze(Object,"create");function Zr(){this.__data__=le?le(null):{},this.size=0}function Qr(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var ea="__lodash_hash_undefined__",ta=Object.prototype,na=ta.hasOwnProperty;function oa(e){var t=this.__data__;if(le){var n=t[e];return n===ea?void 0:n}return na.call(t,e)?t[e]:void 0}var ra=Object.prototype,aa=ra.hasOwnProperty;function sa(e){var t=this.__data__;return le?t[e]!==void 0:aa.call(t,e)}var ia="__lodash_hash_undefined__";function ca(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=le&&t===void 0?ia:t,this}function K(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}K.prototype.clear=Zr;K.prototype.delete=Qr;K.prototype.get=oa;K.prototype.has=sa;K.prototype.set=ca;function la(){this.__data__=[],this.size=0}function Ee(e,t){for(var n=e.length;n--;)if(en(e[n][0],t))return n;return-1}var ua=Array.prototype,da=ua.splice;function fa(e){var t=this.__data__,n=Ee(t,e);if(n<0)return!1;var o=t.length-1;return n==o?t.pop():da.call(t,n,1),--this.size,!0}function ma(e){var t=this.__data__,n=Ee(t,e);return n<0?void 0:t[n][1]}function ha(e){return Ee(this.__data__,e)>-1}function ga(e,t){var n=this.__data__,o=Ee(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}function Q(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}Q.prototype.clear=la;Q.prototype.delete=fa;Q.prototype.get=ma;Q.prototype.has=ha;Q.prototype.set=ga;var pa=Ze(Ye,"Map");function va(){this.size=0,this.__data__={hash:new K,map:new(pa||Q),string:new K}}function ya(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Oe(e,t){var n=e.__data__;return ya(t)?n[typeof t=="string"?"string":"hash"]:n.map}function ba(e){var t=Oe(this,e).delete(e);return this.size-=t?1:0,t}function _a(e){return Oe(this,e).get(e)}function wa(e){return Oe(this,e).has(e)}function Ca(e,t){var n=Oe(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}function W(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}W.prototype.clear=va;W.prototype.delete=ba;W.prototype.get=_a;W.prototype.has=wa;W.prototype.set=Ca;var Sa="Expected a function";function Qe(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Sa);var n=function(){var o=arguments,r=t?t.apply(this,o):o[0],a=n.cache;if(a.has(r))return a.get(r);var s=e.apply(this,o);return n.cache=a.set(r,s)||a,s};return n.cache=new(Qe.Cache||W),n}Qe.Cache=W;var Ea=500;function Oa(e){var t=Qe(e,function(o){return n.size===Ea&&n.clear(),o}),n=t.cache;return t}var Pa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ka=/\\(\\)?/g,Ta=Oa(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Pa,function(n,o,r,a){t.push(r?a.replace(ka,"$1"):o||n)}),t});function xa(e){return e==null?"":Qt(e)}function Ia(e,t){return Xe(e)?e:Xr(e,t)?[e]:Ta(xa(e))}var $a=1/0;function Aa(e){if(typeof e=="string"||Je(e))return e;var t=e+"";return t=="0"&&1/e==-$a?"-0":t}function La(e,t,n,o){if(!ye(e))return e;t=Ia(t,e);for(var r=-1,a=t.length,s=a-1,i=e;i!=null&&++r<a;){var c=Aa(t[r]),l=n;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(r!=s){var u=i[c];l=void 0,l===void 0&&(l=ye(u)?u:Hr(t[r+1])?[]:{})}Gr(i,c,l),i=i[c]}return e}function Ie(e,t,n){return e==null?e:La(e,t,n)}const Ba=e=>{var t;(t=document.querySelector("html"))==null||t.setAttribute("lang",e)};function Hs(e,t="lang"){const n={};return Object.keys(e).forEach(o=>{const r=e[o].default;let a=o.replace(`./${t}/`,"").replace(/^\.\//,"");const s=a.lastIndexOf(".");a=a.substring(0,s);const i=a.split("/"),c=i.shift(),l=i.join(".");c&&(l?(Ie(n,c,n[c]||{}),Ie(n[c],l,r)):Ie(n,c,r||{}))}),n}let be;const Ra=async()=>{const e=Jt(),t=e.getCurrentLocale,n=e.getLocaleMap,r=(await Qo(Object.assign({"./lang/en-US.ts":()=>ve(()=>import("./assets/js/en-US-DVVvWjnX.js"),__vite__mapDeps([0,1,2,3,4,5])),"./lang/zh-CN.ts":()=>ve(()=>import("./assets/js/zh-CN-CT4baa4s.js"),__vite__mapDeps([6,1,2,3,4,5]))}),`./lang/${t.lang}.ts`,3)).default??{};return Ba(t.lang),e.setCurrentLocale({lang:t.lang}),{legacy:!1,locale:t.lang,fallbackLocale:t.lang,messages:{[t.lang]:r},availableLocales:n.map(a=>a.lang),sync:!0,silentTranslationWarn:!0,missingWarn:!1,silentFallbackWarn:!0}},Da=async e=>{const t=await Ra();be=gn(t),e.use(be)},Na=N({__name:"App",setup(e){return(t,n)=>{const o=vn("van-config-provider");return Le(),pn(o,{theme:"light"},{default:yn(()=>[g(ge(bn))]),_:1})}}}),ja=0,za="application/x-www-form-urlencoded;charset=UTF-8",Ma=5*60*1e3,Fa=["/login","/about","icons"],De=new URL("/assets/img/user_avatar_2x-D7HF6Y-m.png",import.meta.url).href;async function qa(e,t){const n=e.getReader();let o;for(;!(o=await n.read()).done;)t(o.value)}function Ua(e){let t,n,o,r=!1;return function(s){t===void 0?(t=s,n=0,o=-1):t=Va(t,s);const i=t.length;let c=0;for(;n<i;){r&&(t[n]===10&&(c=++n),r=!1);let l=-1;for(;n<i&&l===-1;++n)switch(t[n]){case 58:o===-1&&(o=n-c);break;case 13:r=!0;case 10:l=n;break}if(l===-1)break;e(t.subarray(c,l),o),c=n,o=-1}c===i?t=void 0:c!==0&&(t=t.subarray(c),n-=c)}}function Ha(e,t,n){let o=Et();const r=new TextDecoder;return function(s,i){if(s.length===0)n==null||n(o),o=Et();else if(i>0){const c=r.decode(s.subarray(0,i)),l=i+1,u=r.decode(s.subarray(l));switch(c){case"data":o.data=o.data?o.data+`
`+u:u;break;case"event":o.event=u;break;case"id":e(o.id=u);break;case"retry":const d=parseInt(u,10);isNaN(d)||t(o.retry=d);break}}}}function Va(e,t){const n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function Et(){return{data:"",event:"",id:"",retry:void 0}}var Ka=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n};const _e="text/event-stream",Wa=1e3,Ot="last-event-id";function Ga(e,t){var{signal:n,headers:o,onopen:r,onmessage:a,onclose:s,onerror:i,openWhenHidden:c,fetch:l}=t,u=Ka(t,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise((d,h)=>{const v=Object.assign({},o);v.accept||(v.accept=_e);let C;function w(){C.abort(),document.hidden||D()}c||document.addEventListener("visibilitychange",w);let O=Wa,L=0;function P(){document.removeEventListener("visibilitychange",w),window.clearTimeout(L),C.abort()}n==null||n.addEventListener("abort",()=>{P(),d()});const B=l??window.fetch,R=r??Ya;async function D(){var b;C=new AbortController;try{const T=await B(e,Object.assign(Object.assign({},u),{headers:v,signal:C.signal}));await R(T),await qa(T.body,Ua(Ha(S=>{S?v[Ot]=S:delete v[Ot]},S=>{O=S},a))),s==null||s(),P(),d()}catch(T){if(!C.signal.aborted)try{const S=(b=i==null?void 0:i(T))!==null&&b!==void 0?b:O;window.clearTimeout(L),L=window.setTimeout(D,S)}catch(S){P(),h(S)}}}D()})}function Ya(e){const t=e.headers.get("content-type");if(!(t!=null&&t.startsWith(_e)))throw new Error(`Expected content-type to be ${_e}, Actual: ${t}`)}class Ja{constructor(t={}){j(this,"onOpen");j(this,"onClose");j(this,"onError");j(this,"onMessage");j(this,"opt",{url:"",data:{}});j(this,"controller",new AbortController);this.opt={...this.opt,...t},this.open()}open(){const t=new FormData;for(const n in this.opt.data)Object.prototype.hasOwnProperty.call(this.opt.data,n)&&t.append(n,this.opt.data[n]);Ga(this.opt.url,{method:"POST",signal:this.controller.signal,openWhenHidden:!0,body:t,onopen:async n=>{if(n.ok&&n.headers.get("content-type")===_e)typeof this.onOpen=="function"&&this.onOpen();else throw n.status>=400&&n.status<500&&n.status!==429?new Error("连接出错"):new Error("连接出错")},onmessage:n=>{typeof this.onMessage=="function"&&this.onMessage(n)},onclose:()=>{typeof this.onClose=="function"&&this.onClose(),this.controller.abort()},onerror:n=>{typeof this.onError=="function"&&this.onError(n)}})}abort(){this.controller.abort()}}const Xa={avater:De},et=Ue("user",()=>F({...Xa}));function Za(e){const t=new FormData;return Object.keys(e).forEach(n=>{e[n]!==void 0&&e[n]!==null&&t.append(n,e[n])}),t}function ae(e=16,t=0){const n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),o=[];let r;if(t=t||n.length,e)for(r=0;r<e;r++)o[r]=n[0|Math.random()*t];else{let a;for(o[8]=o[13]=o[18]=o[23]="-",o[14]="4",r=0;r<36;r++)o[r]||(a=0|Math.random()*16,o[r]=n[r==19?a&3|8:a])}return o.join("")}function Qa(){let e=ie.get("openid");return e||(e=ae(16),ie.set("openid",e)),e}function Vs(e){return e.replace(/[&<"']/g,function(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case'"':return"&quot;";default:return"&#039;"}})}const Pt=(e,t)=>t,tn=e=>{const t={t:a=>Pt(e,a)};if(!be)return t;const{t:n,...o}=be.global;return{...o,t:(a,...s)=>a?!a.includes(".")&&!e?a:n(Pt(e,a),...s):""}};function es(e){const{t}=tn();let n=e.response.status,o=e.response.data.message||e.message,r="";switch(n){case 400:r=`${o}`;break;case 401:r=t("common.errMsg401");break;case 403:r=t("common.errMsg403");break;case 404:r=t("common.errMsg404");break;case 405:r=t("common.errMsg405");break;case 408:r=t("common.errMsg408");break;case 500:r=t("common.errMsg500");break;case 501:r=t("common.errMsg501");break;case 502:r=t("common.errMsg502");break;case 503:r=t("common.errMsg503");break;case 504:r=t("common.errMsg504");break;case 505:r=t("common.errMsg505");break;default:r=`${o}`}return r}let $e=!1;function nn(e){$e||($e=!0,Yt(e),setTimeout(()=>{$e=!1},200))}const ts=e=>{if(e.method==="post"&&e.headers["Content-Type"]==="application/x-www-form-urlencoded"?e.data=En.stringify(e.data):e.method==="post"&&e.headers["Content-Type"]==="multipart/form-data"&&(e.data=Za(e.data)),e.method==="get"&&e.params){let t=e.url;t+="?";const n=Object.keys(e.params);for(const o of n)e.params[o]!==void 0&&e.params[o]!==null&&(t+=`${o}=${encodeURIComponent(e.params[o])}&`);t=t.substring(0,t.length-1),e.params={},e.url=t}return e},ns=e=>{var t,n,o;if(e.data&&typeof e.data.res<"u"&&(e.data.code=e.data.res,e.data.message=e.data.msg||""),((t=e==null?void 0:e.config)==null?void 0:t.responseType)==="blob")return e;if(e.data.code===ja)return e.data;if(Yt((n=e==null?void 0:e.data)==null?void 0:n.message),((o=e==null?void 0:e.data)==null?void 0:o.code)===401)et().logout();else return Promise.reject(e.data)},os=e=>e.response?(console.log("response err： "+e),as(e)):e.request?(console.log("request err： "+e),rs(e)):Promise.reject(e),rs=e=>{var c,l,u;const{t}=tn(),{response:n,code:o,message:r}=e||{},a=((l=(c=n==null?void 0:n.data)==null?void 0:c.error)==null?void 0:l.message)??"",s=((u=e==null?void 0:e.toString)==null?void 0:u.call(e))??"";let i="";return o==="ECONNABORTED"&&r.indexOf("timeout")!==-1?i=t("common.apiTimeoutMessage"):s!=null&&s.includes("Network Error")?i=t("common.networkExceptionMsg"):i=a,nn(i),Promise.reject(e)},as=e=>{var o;let t=(o=e==null?void 0:e.response)==null?void 0:o.status,n=es(e);return nn(n),t===401&&et().logout(),Promise.reject(e)},ss="",J=new Map,ee=Sn.create({timeout:Ma,baseURL:ss});ee.interceptors.request.use(e=>{const t=new AbortController,n=e.url||"";return e.signal=t.signal,J.set(n,t),e});ee.interceptors.response.use(e=>{const t=e.config.url||"";return J.delete(t),e},e=>Promise.reject(e));ee.interceptors.request.use(ts);ee.interceptors.response.use(ns);ee.interceptors.response.use(void 0,os);const Ne={request:e=>new Promise((t,n)=>{var o;(o=e.interceptors)!=null&&o.requestInterceptors&&(e=e.interceptors.requestInterceptors(e)),ee.request(e).then(r=>{t(r)}).catch(r=>{n(r)})}),cancelRequest:e=>{var n;const t=Array.isArray(e)?e:[e];for(const o of t)(n=J.get(o))==null||n.abort(),J.delete(o)},cancelAllRequest(){for(const[e,t]of J)t.abort();J.clear()}},me=e=>{const t=et(),n=Jt(),{url:o,method:r,params:a,data:s,headers:i,responseType:c,withToken:l}=e,u=n.getCurrentLocale,d={"Content-Type":za,"X-Requested-With":"XMLHttpRequest",lang:u.lang,...i};return l||(d.token=t.getToken??""),Ne.request({url:o,method:r,params:a,data:s,responseType:c,headers:{...d}})},Pe={get:e=>me({method:"get",...e}),post:e=>me({method:"post",...e}),delete:e=>me({method:"delete",...e}),put:e=>me({method:"put",...e}),cancelRequest:e=>Ne.cancelRequest(e),cancelAllRequest:()=>Ne.cancelAllRequest()},is="",cs=e=>new Ja({url:is+"/chat/request",data:e}),ls=e=>Pe.post({url:"/chat/welcome",data:e}),us=e=>Pe.post({url:"/manage/getDialogueList",data:e}),ds=e=>Pe.post({url:"/chat/message",data:e}),fs=({id:e,prompt:t})=>Pe.post({url:"/manage/editPrompt",data:{id:e,prompt:t}});function ms(e){return{all:e=e||new Map,on:function(t,n){var o=e.get(t);o?o.push(n):e.set(t,[n])},off:function(t,n){var o=e.get(t);o&&(n?o.splice(o.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var o=e.get(t);o&&o.slice().map(function(r){r(n)}),(o=e.get("*"))&&o.slice().map(function(r){r(t,n)})}}}const he=ms(),hs=e=>({on:he.on,off:he.off,emit:he.emit,all:he.all}),gs=Ue("chat",()=>{const e=hs(),t=y([]);let n=null;const o=y(0),r=y(""),a=F({admin_user_id:"",avatar:"",id:"",name:"",nickname:"",openid:""}),s=F({id:null,library_ids:"",prompt:"",robot_avatar:"",robot_intro:"",robot_key:"",robot_name:"",openid:"",welcomes:{content:"",question:[]}}),i=F({pageTitle:"ZHIMA CHATAI",lang:"zh-CN",logo:"",navbarShow:2,accessRestrictionsType:1,pageStyle:{navbarBackgroundColor:"#2475FC"}}),c=y(!1),l=async f=>{n&&(n.abort(),n=null),t.value=[],S.value=!1,w.value=!1,f.dialogue_id?(c.value=!1,o.value=f.dialogue_id):(c.value=!0,o.value=0),r.value=f.openid||Qa(),s.robot_key=f.robot_key,s.openid=r.value,a.openid=r.value,a.avatar=f.avatar||De,a.name=f.name||"",a.nickname=f.nickname||"";const p=await ls({robot_key:s.robot_key,openid:r.value,nickname:a.nickname,name:a.name,avatar:a.avatar||De});try{const k=p.data.customer,m=p.data.robot;a.admin_user_id=k.admin_user_id,a.avatar=k.avatar,a.id=k.id,a.name=k.name,a.nickname=k.nickname,s.library_ids=m.library_ids,s.prompt=m.prompt,s.robot_avatar=m.robot_avatar,s.robot_intro=m.robot_intro,s.robot_key=m.robot_key,s.robot_name=m.robot_name,s.library_ids=m.library_ids,s.id=m.id,m.welcomes&&(s.welcomes=JSON.parse(m.welcomes)),u(p.data.message),m.external_config_h5?Object.assign(i,JSON.parse(m.external_config_h5)):(i.pageTitle=m.robot_name,i.logo=m.robot_avatar),document.title=i.pageTitle;const _=document.querySelector('link[rel="icon"]');return _&&i.logo&&_.setAttribute("href",i.logo),p}catch(k){Promise.reject(k)}},u=f=>{f&&(f.uid=ae(32),f.loading=!1,f.isWelcome=!0,f.avatar=s.robot_avatar,f.menu_json&&(f.menu_json=JSON.parse(f.menu_json)),f.quote_file&&(f.quote_file=JSON.parse(f.quote_file)),t.value.push(f))},d=f=>{f.uid=ae(32),f.loading=!1,f.avatar=a.avatar,f.openid=a.openid,f.msg_type=1,f.is_customer=1,t.value.push(f)},h=f=>{t.value.push(f),e.emit("updateAiMessage",f)},v=(f,p,k)=>{const m=t.value.findIndex(_=>_.uid==k);if(f=="sending"){const _=t.value[m].content;t.value[m].content=_+p}if(f=="quote_file"&&(t.value[m].quote_file=p.length>0?p:[]),f=="ai_message"){if(p.menu_json&&p.msg_type==2){let _=JSON.parse(p.menu_json);t.value[m].content=_.content,t.value[m].menu_json=_}t.value[m].id=p.id}f=="debug"&&(t.value[m].debug=p.length>0?p:[]),e.emit("updateAiMessage",t.value[m])},C=()=>{const f=t.value.length-1;t.value[f].loading=!1},w=y(!1),O=f=>{if(w.value)return;const p={loading:!0,id:"",content:"",uid:ae(32),avatar:s.robot_avatar,msg_type:1,quote_file:[],is_customer:0,debug:[]},k={robot_key:s.robot_key,openid:s.openid,question:f.message,prompt:s.prompt,library_ids:s.library_ids,dialogue_id:o.value};w.value=!0,n=cs(k),n.onMessage=m=>{if(m.event=="dialogue_id"&&(o.value=m.data),m.event=="c_message"){const _=JSON.parse(m.data);d(_)}if(m.event=="robot"&&(h(p),c.value&&(c.value=!1)),m.event=="sending"&&v("sending",m.data,p.uid),m.event=="ai_message"){const _=JSON.parse(m.data);v("ai_message",_,p.uid)}if(m.event=="quote_file"){const _=JSON.parse(m.data);v("quote_file",_,p.uid)}if(m.event=="debug"){const _=JSON.parse(m.data);v("debug",_,p.uid)}},n.onClose=()=>{C(),w.value=!1,n=null}},L=25,P=y([]),B=y(!1),R=y(!1),D=async()=>{if(R.value||B.value)return!1;let f=0;P.value.length>0&&(f=P.value[P.value.length-1].id),B.value=!0;const p=await us({min_id:f,size:L,robot_key:s.robot_key});B.value=!1;const k=p.data||[];return k.length===0?(R.value=!0,!1):(P.value=[...P.value,...k],p)},b=async f=>await l(f),T=20,S=y(!1),te=async()=>{if(S.value)return;let f=0;const p=t.value.filter(m=>!m.isWelcome);p.length>0&&(f=p[0].id);const k={robot_key:s.robot_key,openid:a.openid,min_id:f,size:T,dialogue_id:o.value};try{const m=await ds(k),_=m.data.list||[];if(_.length===0){S.value=!0;return}return _.sort((I,an)=>I.id-an.id),_.forEach(I=>{I.loading=!1,I.uid=ae(32),I.is_customer==1?I.avatar=a.avatar:I.avatar=s.robot_avatar,I.menu_json&&(I.menu_json=JSON.parse(I.menu_json)),I.quote_file&&(I.quote_file=JSON.parse(I.quote_file))}),t.value=[..._,...t.value],m}catch(m){Promise.reject(m)}},ke=f=>{s.prompt=f},on=()=>fs({id:s.id,prompt:s.prompt});function rn(){o.value=0,t.value=[],r.value="",a.admin_user_id="",a.avatar="",a.id="",a.name="",a.nickname="",a.openid="",s.id=null,s.library_ids="",s.prompt="",s.robot_avatar="",s.robot_intro="",s.robot_key="",s.robot_key="",s.robot_name="",s.openid="",s.welcomes={content:"",question:[]},c.value=!1,S.value=!1,w.value=!1,B.value=!1,R.value=!1,P.value=[]}return{$reset:rn,user:a,robot:s,dialogue_id:o,openid:r,sendLock:w,messageList:t,createChat:l,sendMessage:O,getMyChatList:D,myChatList:P,openChat:b,onGetChatMessage:te,changeRobotPrompt:ke,saveRobotPrompt:on,externalConfigH5:i}});function ps(e){return{openid:e.openid||"",robot_key:e.robot_key||"",avatar:e.avatar||"",name:e.name||"",nickname:e.nickname||"",dialogue_id:e.dialogue_id||""}}function vs(e){return Fa.some(t=>t===e.name)}function ys(e){const t=gs();e.beforeEach(async(n,o,r)=>{const a=ps(n.query);if(vs(n))r();else if(t.robot.id)r();else try{await t.createChat(a),r()}catch(s){console.error("Failed to get robot info:",s)}})}const bs=[{path:"/",name:"home",component:()=>ve(()=>import("./assets/js/index-DwXYxRKI.js"),__vite__mapDeps([7,1,2,3,4,5,8]))},{path:"/chat",name:"chat",component:()=>ve(()=>import("./assets/js/index-D1WVIW8c.js"),__vite__mapDeps([9,1,2,3,4,5,10]))}],Ae=_n({history:wn(),routes:bs});async function _s(e){ys(Ae),e.use(Ae),await Ae.isReady()}const ws={class:"svg-action"},Cs=["fill","width","height"],Ss=["xlink:href","fill"],Es=N({__name:"index",props:{name:{type:String,required:!0},size:{type:String,default:"1em"},width:{type:String},height:{type:String},color:{type:String,default:"currentColor"}},setup(e){const t=e,n=z(()=>`#${t.name}`),o=z(()=>t.width?t.width:t.size),r=z(()=>t.height?t.height:t.size);return(a,s)=>(Le(),tt("span",ws,[(Le(),tt("svg",{"aria-hidden":"true",class:"svg-icon",fill:t.color,width:o.value,height:r.value},[Cn("use",{"xlink:href":n.value,fill:t.color},null,8,Ss)],8,Cs))]))}}),Os=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n},Ps=Os(Es,[["__scopeId","data-v-3a039f58"]]),ks=e=>{e.component("SvgIcon",Ps)},Ts=async()=>{const e=At(Na);await Da(e),sr(e),_s(e),Jo(e),ks(e),e.mount("#app")};Ts();export{He as A,Eo as B,qo as C,Fo as D,be as E,ve as F,Jt as G,Ba as H,Os as I,Vs as J,gs as K,hs as L,Yt as M,Do as P,Qo as _,zs as a,Ns as b,U as c,H as d,M as e,Qn as f,Hs as g,Ds as h,Ft as i,pe as j,Us as k,On as l,E as m,x as n,qs as o,Kt as p,Tn as q,Xn as r,$ as s,V as t,Rs as u,Jn as v,js as w,Be as x,Fs as y,Ms as z};
