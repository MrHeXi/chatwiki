const __vite__fileDeps=["./en-US-CdC-ANeX.js","./vue-chunks-BpMrDWVc.js","./axios-B4uVmeYG.js","./qs-DrHefV6n.js","./dayjs-C4iS2aBk.js","./crypto-js-BJ7SvduI.js","./zh-CN-CKPFW5Xk.js","./index-02p41S6n.js","../css/index-cOql1q-t.css","./index-DZ1pYDoQ.js","../css/index-B3n2D6ry.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var tn=Object.defineProperty;var nn=(e,t,n)=>t in e?tn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var M=(e,t,n)=>(nn(e,typeof t!="symbol"?t+"":t,n),n);import{o as wt,a as be,i as on,w as $,r as b,b as Me,n as Ct,c as Ne,u as Le,d as G,g as _e,e as F,f as z,h,j as Et,p as St,k as rn,l as an,m as ie,T as Ot,q as At,v as Pt,s as sn,F as cn,t as It,x as ln,y as ze,z as un,A as dn,B as fn,C as Be,D as mn,R as gn,E as hn,G as pn,H as Xe,I as vn}from"./vue-chunks-BpMrDWVc.js";import{a as yn}from"./axios-B4uVmeYG.js";import{q as bn}from"./qs-DrHefV6n.js";import"./dayjs-C4iS2aBk.js";import"./crypto-js-BJ7SvduI.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();if(typeof window<"u"){let e=function(){var t=document.body,n=document.getElementById("__svg__icons__dom__");n||(n=document.createElementNS("http://www.w3.org/2000/svg","svg"),n.style.position="absolute",n.style.width="0",n.style.height="0",n.id="__svg__icons__dom__",n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n.setAttribute("xmlns:link","http://www.w3.org/1999/xlink")),n.innerHTML='<symbol  fill="none" viewBox="0 0 16 16" id="close"><path fill="currentColor" d="M5.46 4.54a.65.65 0 0 0-.92.92L7.08 8l-2.54 2.54a.65.65 0 1 0 .92.92L8 8.92l2.54 2.54a.65.65 0 1 0 .92-.92L8.92 8l2.54-2.54a.65.65 0 1 0-.92-.92L8 7.08 5.46 4.54Z" data-follow-fill="#000" /></symbol><symbol fill="none"  viewBox="0 0 20 20" id="paper-airplane"><path d="M17.5 3.333 12.543 17.5 9.71 11.125 3.334 8.292l14.167-4.959ZM17.5 3.333 9.71 11.125" stroke="currentColor" stroke-width="1.625" stroke-linecap="round" stroke-linejoin="round" /></symbol>',t.insertBefore(n,t.lastChild)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e()}function _n(){}const N=Object.assign,je=typeof window<"u",we=e=>e!==null&&typeof e=="object",j=e=>e!=null,De=e=>typeof e=="function",wn=e=>we(e)&&De(e.then)&&De(e.catch),kt=e=>typeof e=="number"||/^\d+(\.\d+)?$/.test(e),Cn=()=>je?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function Je(e,t){const n=t.split(".");let o=e;return n.forEach(r=>{var a;o=we(o)&&(a=o[r])!=null?a:""}),o}function En(e,t,n){return t.reduce((o,r)=>(o[r]=e[r],o),{})}const ge=null,k=[Number,String],V={type:Boolean,default:!0},Sn=e=>({type:Number,default:e}),S=e=>({type:String,default:e});var Ue=typeof window<"u";function xt(e){let t;Me(()=>{e(),Ct(()=>{t=!0})}),Ne(()=>{t&&e()})}function Tt(e,t,n={}){if(!Ue)return;const{target:o=window,passive:r=!1,capture:a=!1}=n;let s=!1,i;const c=u=>{if(s)return;const m=Le(u);m&&!i&&(m.addEventListener(e,t,{capture:a,passive:r}),i=!0)},l=u=>{if(s)return;const m=Le(u);m&&i&&(m.removeEventListener(e,t,a),i=!1)};wt(()=>l(o)),be(()=>l(o)),xt(()=>c(o));let d;return on(o)&&(d=$(o,(u,m)=>{l(m),c(u)})),()=>{d==null||d(),l(o),s=!0}}var le,Pe;function On(){if(!le&&(le=b(0),Pe=b(0),Ue)){const e=()=>{le.value=window.innerWidth,Pe.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:le,height:Pe}}var An=/scroll|auto|overlay/i,Pn=Ue?window:void 0;function In(e){return e.tagName!=="HTML"&&e.tagName!=="BODY"&&e.nodeType===1}function kn(e,t=Pn){let n=e;for(;n&&n!==t&&In(n);){const{overflowY:o}=window.getComputedStyle(n);if(An.test(o))return n;n=n.parentNode}return t}Cn();const xn=e=>e.stopPropagation();function qe(e,t){(typeof e.cancelable!="boolean"||e.cancelable)&&e.preventDefault(),t&&xn(e)}On();function T(e){if(j(e))return kt(e)?`${e}px`:String(e)}function Tn(e){if(j(e)){if(Array.isArray(e))return{width:T(e[0]),height:T(e[1])};const t=T(e);return{width:t,height:t}}}function Ln(e){const t={};return e!==void 0&&(t.zIndex=+e),t}const Bn=/-(\w)/g,Lt=e=>e.replace(Bn,(t,n)=>n.toUpperCase()),Dn=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,""),{hasOwnProperty:Rn}=Object.prototype;function $n(e,t,n){const o=t[n];j(o)&&(!Rn.call(e,n)||!we(o)?e[n]=o:e[n]=Bt(Object(e[n]),o))}function Bt(e,t){return Object.keys(t).forEach(n=>{$n(e,t,n)}),e}var Dt={name:"姓名",tel:"电话",save:"保存",clear:"清空",cancel:"取消",confirm:"确认",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,t)=>`${e}年${t}月`,rangePrompt:e=>`最多选择 ${e} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:e=>`${e}折`,condition:e=>`满${e}元可用`},vanCouponCell:{title:"优惠券",count:e=>`${e}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}};const Qe=b("zh-CN"),et=G({"zh-CN":Dt}),Rt={messages(){return et[Qe.value]},use(e,t){Qe.value=e,this.add({[e]:t})},add(e={}){Bt(et,e)}};var Fn=Rt;function Mn(e){const t=Lt(e)+".";return(n,...o)=>{const r=Fn.messages(),a=Je(r,t+n)||Je(r,n);return De(a)?a(...o):a}}function Re(e,t){return t?typeof t=="string"?` ${e}--${t}`:Array.isArray(t)?t.reduce((n,o)=>n+Re(e,o),""):Object.keys(t).reduce((n,o)=>n+(t[o]?Re(e,o):""),""):""}function Nn(e){return(t,n)=>(t&&typeof t!="string"&&(n=t,t=""),t=t?`${e}__${t}`:e,`${t}${Re(t,n)}`)}function U(e){const t=`van-${e}`;return[t,Nn(t),Mn(t)]}const zn="van-hairline",jn=`${zn}--surround`,Un="van-haptics-feedback",tt=5;function qn(e,{args:t=[],done:n,canceled:o,error:r}){if(e){const a=e.apply(null,t);wn(a)?a.then(s=>{s?n():o&&o()}).catch(r||_n):a?n():o&&o()}else n()}function q(e){return e.install=t=>{const{name:n}=e;n&&(t.component(n,e),t.component(Lt(`-${n}`),e))},e}const Vn=Symbol();function $t(e){const t=_e();t&&N(t.proxy,e)}const Yn={to:[String,Object],url:String,replace:Boolean};function Wn({to:e,url:t,replace:n,$router:o}){e&&o?o[n?"replace":"push"](e):t&&(n?location.replace(t):location.href=t)}function Kn(){const e=_e().proxy;return()=>Wn(e)}const[Hn,nt]=U("badge"),Zn={dot:Boolean,max:k,tag:S("div"),color:String,offset:Array,content:k,showZero:V,position:S("top-right")};var Gn=F({name:Hn,props:Zn,setup(e,{slots:t}){const n=()=>{if(t.content)return!0;const{content:i,showZero:c}=e;return j(i)&&i!==""&&(c||i!==0&&i!=="0")},o=()=>{const{dot:i,max:c,content:l}=e;if(!i&&n())return t.content?t.content():j(c)&&kt(l)&&+l>+c?`${c}+`:l},r=i=>i.startsWith("-")?i.replace("-",""):`-${i}`,a=z(()=>{const i={background:e.color};if(e.offset){const[c,l]=e.offset,{position:d}=e,[u,m]=d.split("-");t.default?(typeof l=="number"?i[u]=T(u==="top"?l:-l):i[u]=u==="top"?T(l):r(l),typeof c=="number"?i[m]=T(m==="left"?c:-c):i[m]=m==="left"?T(c):r(c)):(i.marginTop=T(l),i.marginLeft=T(c))}return i}),s=()=>{if(n()||e.dot)return h("div",{class:nt([e.position,{dot:e.dot,fixed:!!t.default}]),style:a.value},[o()])};return()=>{if(t.default){const{tag:i}=e;return h(i,{class:nt("wrapper")},{default:()=>[t.default(),s()]})}return s()}}});const Xn=q(Gn);let Ft=2e3;const Jn=()=>++Ft,Qn=e=>{Ft=e},[Mt,eo]=U("config-provider"),Nt=Symbol(Mt),to={tag:S("div"),theme:S("light"),zIndex:Number,themeVars:Object,themeVarsDark:Object,themeVarsLight:Object,themeVarsScope:S("local"),iconPrefix:String};function no(e){return e.replace(/([a-zA-Z])(\d)/g,"$1-$2")}function oo(e){const t={};return Object.keys(e).forEach(n=>{const o=no(Dn(n));t[`--van-${o}`]=e[n]}),t}function ue(e={},t={}){Object.keys(e).forEach(n=>{e[n]!==t[n]&&document.documentElement.style.setProperty(n,e[n])}),Object.keys(t).forEach(n=>{e[n]||document.documentElement.style.removeProperty(n)})}var ro=F({name:Mt,props:to,setup(e,{slots:t}){const n=z(()=>oo(N({},e.themeVars,e.theme==="dark"?e.themeVarsDark:e.themeVarsLight)));if(je){const o=()=>{document.documentElement.classList.add(`van-theme-${e.theme}`)},r=(a=e.theme)=>{document.documentElement.classList.remove(`van-theme-${a}`)};$(()=>e.theme,(a,s)=>{s&&r(s),o()},{immediate:!0}),Ne(o),be(r),Et(r),$(n,(a,s)=>{e.themeVarsScope==="global"&&ue(a,s)}),$(()=>e.themeVarsScope,(a,s)=>{s==="global"&&ue({},n.value),a==="global"&&ue(n.value,{})}),e.themeVarsScope==="global"&&ue(n.value,{})}return St(Nt,e),rn(()=>{e.zIndex!==void 0&&Qn(e.zIndex)}),()=>h(e.tag,{class:eo(),style:e.themeVarsScope==="local"?n.value:void 0},{default:()=>{var o;return[(o=t.default)==null?void 0:o.call(t)]}})}});const[ao,ot]=U("icon"),so=e=>e==null?void 0:e.includes("/"),io={dot:Boolean,tag:S("i"),name:String,size:k,badge:k,color:String,badgeProps:Object,classPrefix:String};var co=F({name:ao,props:io,setup(e,{slots:t}){const n=an(Nt,null),o=z(()=>e.classPrefix||(n==null?void 0:n.iconPrefix)||ot());return()=>{const{tag:r,dot:a,name:s,size:i,badge:c,color:l}=e,d=so(s);return h(Xn,ie({dot:a,tag:r,class:[o.value,d?"":`${o.value}-${s}`],style:{color:l,fontSize:T(i)},content:c},e.badgeProps),{default:()=>{var u;return[(u=t.default)==null?void 0:u.call(t),d&&h("img",{class:ot("image"),src:s},null)]}})}}});const Ce=q(co),[lo,ae]=U("loading"),uo=Array(12).fill(null).map((e,t)=>h("i",{class:ae("line",String(t+1))},null)),fo=h("svg",{class:ae("circular"),viewBox:"25 25 50 50"},[h("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),mo={size:k,type:S("circular"),color:String,vertical:Boolean,textSize:k,textColor:String};var go=F({name:lo,props:mo,setup(e,{slots:t}){const n=z(()=>N({color:e.color},Tn(e.size))),o=()=>{const a=e.type==="spinner"?uo:fo;return h("span",{class:ae("spinner",e.type),style:n.value},[t.icon?t.icon():a])},r=()=>{var a;if(t.default)return h("span",{class:ae("text"),style:{fontSize:T(e.textSize),color:(a=e.textColor)!=null?a:e.color}},[t.default()])};return()=>{const{type:a,vertical:s}=e;return h("div",{class:ae([a,{vertical:s}]),"aria-live":"polite","aria-busy":!0},[o(),r()])}}});const zt=q(go),[ho,K]=U("button"),po=N({},Yn,{tag:S("button"),text:String,icon:String,type:S("default"),size:S("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:S("button"),loadingSize:k,loadingText:String,loadingType:String,iconPosition:S("left")});var vo=F({name:ho,props:po,emits:["click"],setup(e,{emit:t,slots:n}){const o=Kn(),r=()=>n.loading?n.loading():h(zt,{size:e.loadingSize,type:e.loadingType,class:K("loading")},null),a=()=>{if(e.loading)return r();if(n.icon)return h("div",{class:K("icon")},[n.icon()]);if(e.icon)return h(Ce,{name:e.icon,class:K("icon"),classPrefix:e.iconPrefix},null)},s=()=>{let l;if(e.loading?l=e.loadingText:l=n.default?n.default():e.text,l)return h("span",{class:K("text")},[l])},i=()=>{const{color:l,plain:d}=e;if(l){const u={color:d?l:"white"};return d||(u.background=l),l.includes("gradient")?u.border=0:u.borderColor=l,u}},c=l=>{e.loading?qe(l):e.disabled||(t("click",l),o())};return()=>{const{tag:l,type:d,size:u,block:m,round:p,plain:y,square:w,loading:O,disabled:L,hairline:A,nativeType:B,iconPosition:D}=e,R=[K([d,u,{plain:y,block:m,round:p,square:w,loading:O,disabled:L,hairline:A}]),{[jn]:A}];return h(l,{type:B,class:R,style:i(),disabled:L,onClick:c},{default:()=>[h("div",{class:K("content")},[D==="left"&&a(),s(),D==="right"&&a()])]})}}});const yo=q(vo),bo={show:Boolean,zIndex:k,overlay:V,duration:k,teleport:[String,Object],lockScroll:V,lazyRender:V,beforeClose:Function,overlayStyle:Object,overlayClass:ge,transitionAppear:Boolean,closeOnClickOverlay:V};function _o(e,t){return e>t?"horizontal":t>e?"vertical":""}function wo(){const e=b(0),t=b(0),n=b(0),o=b(0),r=b(0),a=b(0),s=b(""),i=b(!0),c=()=>s.value==="vertical",l=()=>s.value==="horizontal",d=()=>{n.value=0,o.value=0,r.value=0,a.value=0,s.value="",i.value=!0};return{move:p=>{const y=p.touches[0];n.value=(y.clientX<0?0:y.clientX)-e.value,o.value=y.clientY-t.value,r.value=Math.abs(n.value),a.value=Math.abs(o.value);const w=10;(!s.value||r.value<w&&a.value<w)&&(s.value=_o(r.value,a.value)),i.value&&(r.value>tt||a.value>tt)&&(i.value=!1)},start:p=>{d(),e.value=p.touches[0].clientX,t.value=p.touches[0].clientY},reset:d,startX:e,startY:t,deltaX:n,deltaY:o,offsetX:r,offsetY:a,direction:s,isVertical:c,isHorizontal:l,isTap:i}}let te=0;const rt="van-overflow-hidden";function Co(e,t){const n=wo(),o="01",r="10",a=d=>{n.move(d);const u=n.deltaY.value>0?r:o,m=kn(d.target,e.value),{scrollHeight:p,offsetHeight:y,scrollTop:w}=m;let O="11";w===0?O=y>=p?"00":"01":w+y>=p&&(O="10"),O!=="11"&&n.isVertical()&&!(parseInt(O,2)&parseInt(u,2))&&qe(d,!0)},s=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",a,{passive:!1}),te||document.body.classList.add(rt),te++},i=()=>{te&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",a),te--,te||document.body.classList.remove(rt))},c=()=>t()&&s(),l=()=>t()&&i();xt(c),be(l),Et(l),$(t,d=>{d?s():i()})}function jt(e){const t=b(!1);return $(e,n=>{n&&(t.value=n)},{immediate:!0}),n=>()=>t.value?n():null}const at=()=>{var e;const{scopeId:t}=((e=_e())==null?void 0:e.vnode)||{};return t?{[t]:""}:null},[Eo,So]=U("overlay"),Oo={show:Boolean,zIndex:k,duration:k,className:ge,lockScroll:V,lazyRender:V,customStyle:Object};var Ao=F({name:Eo,props:Oo,setup(e,{slots:t}){const n=b(),o=jt(()=>e.show||!e.lazyRender),r=s=>{e.lockScroll&&qe(s,!0)},a=o(()=>{var s;const i=N(Ln(e.zIndex),e.customStyle);return j(e.duration)&&(i.animationDuration=`${e.duration}s`),At(h("div",{ref:n,style:i,class:[So(),e.className]},[(s=t.default)==null?void 0:s.call(t)]),[[Pt,e.show]])});return Tt("touchmove",r,{target:n}),()=>h(Ot,{name:"van-fade",appear:!0},{default:a})}});const Po=q(Ao),Io=N({},bo,{round:Boolean,position:S("center"),closeIcon:S("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:S("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[ko,st]=U("popup");var xo=F({name:ko,inheritAttrs:!1,props:Io,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(e,{emit:t,attrs:n,slots:o}){let r,a;const s=b(),i=b(),c=jt(()=>e.show||!e.lazyRender),l=z(()=>{const _={zIndex:s.value};if(j(e.duration)){const I=e.position==="center"?"animationDuration":"transitionDuration";_[I]=`${e.duration}s`}return _}),d=()=>{r||(r=!0,s.value=e.zIndex!==void 0?+e.zIndex:Jn(),t("open"))},u=()=>{r&&qn(e.beforeClose,{done(){r=!1,t("close"),t("update:show",!1)}})},m=_=>{t("clickOverlay",_),e.closeOnClickOverlay&&u()},p=()=>{if(e.overlay)return h(Po,ie({show:e.show,class:e.overlayClass,zIndex:s.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0},at(),{onClick:m}),{default:o["overlay-content"]})},y=_=>{t("clickCloseIcon",_),u()},w=()=>{if(e.closeable)return h(Ce,{role:"button",tabindex:0,name:e.closeIcon,class:[st("close-icon",e.closeIconPosition),Un],classPrefix:e.iconPrefix,onClick:y},null)};let O;const L=()=>{O&&clearTimeout(O),O=setTimeout(()=>{t("opened")})},A=()=>t("closed"),B=_=>t("keydown",_),D=c(()=>{var _;const{round:I,position:E,safeAreaInsetTop:ee,safeAreaInsetBottom:Ae}=e;return At(h("div",ie({ref:i,style:l.value,role:"dialog",tabindex:0,class:[st({round:I,[E]:E}),{"van-safe-area-top":ee,"van-safe-area-bottom":Ae}],onKeydown:B},n,at()),[(_=o.default)==null?void 0:_.call(o),w()]),[[Pt,e.show]])}),R=()=>{const{position:_,transition:I,transitionAppear:E}=e,ee=_==="center"?"van-fade":`van-popup-slide-${_}`;return h(Ot,{name:I||ee,appear:E,onAfterEnter:L,onAfterLeave:A},{default:D})};return $(()=>e.show,_=>{_&&!r&&(d(),n.tabindex===0&&Ct(()=>{var I;(I=i.value)==null||I.focus()})),!_&&r&&(r=!1,t("close"))}),$t({popupRef:i}),Co(i,()=>e.show&&e.lockScroll),Tt("popstate",()=>{e.closeOnPopstate&&(u(),a=!1)}),Me(()=>{e.show&&d()}),Ne(()=>{a&&(t("update:show",!0),a=!1)}),be(()=>{e.show&&e.teleport&&(u(),a=!0)}),St(Vn,()=>e.show),()=>e.teleport?h(sn,{to:e.teleport},{default:()=>[p(),R()]}):h(cn,null,[p(),R()])}});const To=q(xo);let ne=0;function Lo(e){e?(ne||document.body.classList.add("van-toast--unclickable"),ne++):ne&&(ne--,ne||document.body.classList.remove("van-toast--unclickable"))}const[Bo,H]=U("toast"),Do=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],Ro={icon:String,show:Boolean,type:S("text"),overlay:Boolean,message:k,iconSize:k,duration:Sn(2e3),position:S("middle"),teleport:[String,Object],wordBreak:String,className:ge,iconPrefix:String,transition:S("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:ge,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:k};var Ut=F({name:Bo,props:Ro,emits:["update:show"],setup(e,{emit:t,slots:n}){let o,r=!1;const a=()=>{const u=e.show&&e.forbidClick;r!==u&&(r=u,Lo(r))},s=u=>t("update:show",u),i=()=>{e.closeOnClick&&s(!1)},c=()=>clearTimeout(o),l=()=>{const{icon:u,type:m,iconSize:p,iconPrefix:y,loadingType:w}=e;if(u||m==="success"||m==="fail")return h(Ce,{name:u||m,size:p,class:H("icon"),classPrefix:y},null);if(m==="loading")return h(zt,{class:H("loading"),size:p,type:w},null)},d=()=>{const{type:u,message:m}=e;if(n.message)return h("div",{class:H("text")},[n.message()]);if(j(m)&&m!=="")return u==="html"?h("div",{key:0,class:H("text"),innerHTML:String(m)},null):h("div",{class:H("text")},[m])};return $(()=>[e.show,e.forbidClick],a),$(()=>[e.show,e.type,e.message,e.duration],()=>{c(),e.show&&e.duration>0&&(o=setTimeout(()=>{s(!1)},e.duration))}),Me(a),wt(a),()=>h(To,ie({class:[H([e.position,e.wordBreak==="normal"?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:i,onClosed:c,"onUpdate:show":s},En(e,Do)),{default:()=>[l(),d()]})}});function $o(){const e=G({show:!1}),t=r=>{e.show=r},n=r=>{N(e,r,{transitionAppear:!0}),t(!0)},o=()=>t(!1);return $t({open:n,close:o,toggle:t}),{open:n,close:o,state:e,toggle:t}}function Fo(e){const t=It(e),n=document.createElement("div");return document.body.appendChild(n),{instance:t.mount(n),unmount(){t.unmount(),document.body.removeChild(n)}}}const Mo={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let de=[],No=!1,it=N({},Mo);const zo=new Map;function jo(e){return we(e)?e:{message:e}}function Uo(){const{instance:e,unmount:t}=Fo({setup(){const n=b(""),{open:o,state:r,close:a,toggle:s}=$o(),i=()=>{},c=()=>h(Ut,ie(r,{onClosed:i,"onUpdate:show":s}),null);return $(n,l=>{r.message=l}),_e().render=c,{open:o,close:a,message:n}}});return e}function qo(){if(!de.length||No){const e=Uo();de.push(e)}return de[de.length-1]}function qt(e={}){if(!je)return{};const t=qo(),n=jo(e);return t.open(N({},it,zo.get(n.type||it.type),n)),t}q(Ut);const Vo=q(ro),Yo=e=>{e.use(Vo),e.use(yo),e.use(Ce)},Wo="modulepreload",Ko=function(e,t){return new URL(e,t).href},ct={},he=function(t,n,o){let r=Promise.resolve();if(n&&n.length>0){const a=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),i=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));r=Promise.all(n.map(c=>{if(c=Ko(c,o),c in ct)return;ct[c]=!0;const l=c.endsWith(".css"),d=l?'[rel="stylesheet"]':"";if(!!o)for(let p=a.length-1;p>=0;p--){const y=a[p];if(y.href===c&&(!l||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${d}`))return;const m=document.createElement("link");if(m.rel=l?"stylesheet":Wo,l||(m.as="script",m.crossOrigin=""),m.href=c,i&&m.setAttribute("nonce",i),document.head.appendChild(m),l)return new Promise((p,y)=>{m.addEventListener("load",p),m.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}return r.then(()=>t()).catch(a=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a})},Ho=(e,t,n)=>{const o=e[t];return o?typeof o=="function"?o():Promise.resolve(o):new Promise((r,a)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(a.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})};function Zo(e){return typeof e=="object"&&e!==null}function lt(e,t){return e=Zo(e)?e:Object.create(null),new Proxy(e,{get(n,o,r){return o==="key"?Reflect.get(n,o,r):Reflect.get(n,o,r)||Reflect.get(t,o,r)}})}function Go(e,t){return t.reduce((n,o)=>n==null?void 0:n[o],e)}function Xo(e,t,n){return t.slice(0,-1).reduce((o,r)=>/^(__proto__)$/.test(r)?{}:o[r]=o[r]||{},e)[t[t.length-1]]=n,e}function Jo(e,t){return t.reduce((n,o)=>{const r=o.split(".");return Xo(n,r,Go(e,r))},{})}function Qo(e,t){return n=>{var o;try{const{storage:r=localStorage,beforeRestore:a=void 0,afterRestore:s=void 0,serializer:i={serialize:JSON.stringify,deserialize:JSON.parse},key:c=t.$id,paths:l=null,debug:d=!1}=n;return{storage:r,beforeRestore:a,afterRestore:s,serializer:i,key:((o=e.key)!=null?o:u=>u)(typeof c=="string"?c:c(t.$id)),paths:l,debug:d}}catch(r){return n.debug&&console.error("[pinia-plugin-persistedstate]",r),null}}}function ut(e,{storage:t,serializer:n,key:o,debug:r}){try{const a=t==null?void 0:t.getItem(o);a&&e.$patch(n==null?void 0:n.deserialize(a))}catch(a){r&&console.error("[pinia-plugin-persistedstate]",a)}}function dt(e,{storage:t,serializer:n,key:o,paths:r,debug:a}){try{const s=Array.isArray(r)?Jo(e,r):e;t.setItem(o,n.serialize(s))}catch(s){a&&console.error("[pinia-plugin-persistedstate]",s)}}function er(e={}){return t=>{const{auto:n=!1}=e,{options:{persist:o=n},store:r,pinia:a}=t;if(!o)return;if(!(r.$id in a.state.value)){const i=a._s.get(r.$id.replace("__hot:",""));i&&Promise.resolve().then(()=>i.$persist());return}const s=(Array.isArray(o)?o.map(i=>lt(i,e)):[lt(o,e)]).map(Qo(e,r)).filter(Boolean);r.$persist=()=>{s.forEach(i=>{dt(r.$state,i)})},r.$hydrate=({runHooks:i=!0}={})=>{s.forEach(c=>{const{beforeRestore:l,afterRestore:d}=c;i&&(l==null||l(t)),ut(r,c),i&&(d==null||d(t))})},s.forEach(i=>{const{beforeRestore:c,afterRestore:l}=i;c==null||c(t),ut(r,i),l==null||l(t),r.$subscribe((d,u)=>{dt(u,i)},{detached:!0})})}}const Ve=ln();Ve.use(er({key:e=>`__persisted__${e}`,auto:!1}));const tr=e=>{e.use(Ve)};var nr={name:"Name",tel:"Phone",save:"Save",clear:"Clear",cancel:"Cancel",confirm:"Confirm",delete:"Delete",loading:"Loading...",noCoupon:"No coupons",nameEmpty:"Please fill in the name",addContact:"Add contact",telInvalid:"Malformed phone number",vanCalendar:{end:"End",start:"Start",title:"Calendar",weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthTitle:(e,t)=>`${e}/${t}`,rangePrompt:e=>`Choose no more than ${e} days`},vanCascader:{select:"Select"},vanPagination:{prev:"Previous",next:"Next"},vanPullRefresh:{pulling:"Pull to refresh...",loosing:"Loose to refresh..."},vanSubmitBar:{label:"Total:"},vanCoupon:{unlimited:"Unlimited",discount:e=>`${e*10}% off`,condition:e=>`At least ${e}`},vanCouponCell:{title:"Coupon",count:e=>`You have ${e} coupons`},vanCouponList:{exchange:"Exchange",close:"Close",enable:"Available",disabled:"Unavailable",placeholder:"Coupon code"},vanAddressEdit:{area:"Area",areaEmpty:"Please select a receiving area",addressEmpty:"Address can not be empty",addressDetail:"Address",defaultAddress:"Set as the default address"},vanAddressList:{add:"Add new address"}};const or=({prefixKey:e="",storage:t=localStorage}={})=>{const n=class{constructor(){M(this,"storage",t);M(this,"prefixKey",e)}getKey(o){return`${this.prefixKey}${o}`.toUpperCase()}set(o,r,a=null){const s=JSON.stringify({value:r,expire:a!==null?new Date().getTime()+a*1e3:null});this.storage.setItem(this.getKey(o),s)}get(o,r=null){const a=this.storage.getItem(this.getKey(o));if(a)try{const s=JSON.parse(a),{value:i,expire:c}=s;if(c===null||c>=Date.now())return i;this.remove(this.getKey(o))}catch{return r}return r}remove(o){console.log("remove:",o),this.storage.removeItem(this.getKey(o))}clear(){this.storage.clear()}setCookie(o,r,a=null){document.cookie=`${this.getKey(o)}=${r}; Max-Age=${a}`}getCookie(o){const r=document.cookie.split("; ");for(let a=0,s=r.length;a<s;a++){const i=r[a].split("=");if(i[0]===this.getKey(o))return i[1]}return""}removeCookie(o){this.setCookie(o,1,-1)}clearCookie(){const o=document.cookie.match(/[^ =;]+(?==)/g);if(o)for(let r=o.length;r--;)document.cookie=`${o[r]}=0;expire=${new Date(0).toUTCString()}`}};return new n},se=or(),ft={"zh-CN":Dt,"en-US":nr},rr=ze("locales",{state:()=>({currentLocale:{lang:se.get("lang")||"zh-CN",vantLocale:ft[se.get("lang")||"zh-CN"]},localeMap:[{lang:"zh-CN",name:"简体中文"},{lang:"en-US",name:"English"}]}),getters:{getCurrentLocale(){return this.currentLocale},getLocaleMap(){return this.localeMap}},actions:{setCurrentLocale(e){this.currentLocale.lang=e==null?void 0:e.lang,this.currentLocale.vantLocale=ft[e==null?void 0:e.lang],Rt.use(e==null?void 0:e.lang,this.currentLocale.vantLocale),se.set("lang",e==null?void 0:e.lang)}}}),Vt=()=>rr(Ve);var ar=typeof global=="object"&&global&&global.Object===Object&&global,sr=typeof self=="object"&&self&&self.Object===Object&&self,Ye=ar||sr||Function("return this")(),X=Ye.Symbol,Yt=Object.prototype,ir=Yt.hasOwnProperty,cr=Yt.toString,oe=X?X.toStringTag:void 0;function lr(e){var t=ir.call(e,oe),n=e[oe];try{e[oe]=void 0;var o=!0}catch{}var r=cr.call(e);return o&&(t?e[oe]=n:delete e[oe]),r}var ur=Object.prototype,dr=ur.toString;function fr(e){return dr.call(e)}var mr="[object Null]",gr="[object Undefined]",mt=X?X.toStringTag:void 0;function Wt(e){return e==null?e===void 0?gr:mr:mt&&mt in Object(e)?lr(e):fr(e)}function hr(e){return e!=null&&typeof e=="object"}var pr="[object Symbol]";function We(e){return typeof e=="symbol"||hr(e)&&Wt(e)==pr}function vr(e,t){for(var n=-1,o=e==null?0:e.length,r=Array(o);++n<o;)r[n]=t(e[n],n,e);return r}var Ke=Array.isArray,yr=1/0,gt=X?X.prototype:void 0,ht=gt?gt.toString:void 0;function Kt(e){if(typeof e=="string")return e;if(Ke(e))return vr(e,Kt)+"";if(We(e))return ht?ht.call(e):"";var t=e+"";return t=="0"&&1/e==-yr?"-0":t}function pe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var br="[object AsyncFunction]",_r="[object Function]",wr="[object GeneratorFunction]",Cr="[object Proxy]";function Er(e){if(!pe(e))return!1;var t=Wt(e);return t==_r||t==wr||t==br||t==Cr}var Ie=Ye["__core-js_shared__"],pt=function(){var e=/[^.]+$/.exec(Ie&&Ie.keys&&Ie.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Sr(e){return!!pt&&pt in e}var Or=Function.prototype,Ar=Or.toString;function Pr(e){if(e!=null){try{return Ar.call(e)}catch{}try{return e+""}catch{}}return""}var Ir=/[\\^$.*+?()[\]{}|]/g,kr=/^\[object .+?Constructor\]$/,xr=Function.prototype,Tr=Object.prototype,Lr=xr.toString,Br=Tr.hasOwnProperty,Dr=RegExp("^"+Lr.call(Br).replace(Ir,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Rr(e){if(!pe(e)||Sr(e))return!1;var t=Er(e)?Dr:kr;return t.test(Pr(e))}function $r(e,t){return e==null?void 0:e[t]}function He(e,t){var n=$r(e,t);return Rr(n)?n:void 0}var vt=function(){try{var e=He(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Fr=9007199254740991,Mr=/^(?:0|[1-9]\d*)$/;function Nr(e,t){var n=typeof e;return t=t??Fr,!!t&&(n=="number"||n!="symbol"&&Mr.test(e))&&e>-1&&e%1==0&&e<t}function zr(e,t,n){t=="__proto__"&&vt?vt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Ht(e,t){return e===t||e!==e&&t!==t}var jr=Object.prototype,Ur=jr.hasOwnProperty;function qr(e,t,n){var o=e[t];(!(Ur.call(e,t)&&Ht(o,n))||n===void 0&&!(t in e))&&zr(e,t,n)}var Vr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Yr=/^\w*$/;function Wr(e,t){if(Ke(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||We(e)?!0:Yr.test(e)||!Vr.test(e)||t!=null&&e in Object(t)}var ce=He(Object,"create");function Kr(){this.__data__=ce?ce(null):{},this.size=0}function Hr(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Zr="__lodash_hash_undefined__",Gr=Object.prototype,Xr=Gr.hasOwnProperty;function Jr(e){var t=this.__data__;if(ce){var n=t[e];return n===Zr?void 0:n}return Xr.call(t,e)?t[e]:void 0}var Qr=Object.prototype,ea=Qr.hasOwnProperty;function ta(e){var t=this.__data__;return ce?t[e]!==void 0:ea.call(t,e)}var na="__lodash_hash_undefined__";function oa(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ce&&t===void 0?na:t,this}function Y(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}Y.prototype.clear=Kr;Y.prototype.delete=Hr;Y.prototype.get=Jr;Y.prototype.has=ta;Y.prototype.set=oa;function ra(){this.__data__=[],this.size=0}function Ee(e,t){for(var n=e.length;n--;)if(Ht(e[n][0],t))return n;return-1}var aa=Array.prototype,sa=aa.splice;function ia(e){var t=this.__data__,n=Ee(t,e);if(n<0)return!1;var o=t.length-1;return n==o?t.pop():sa.call(t,n,1),--this.size,!0}function ca(e){var t=this.__data__,n=Ee(t,e);return n<0?void 0:t[n][1]}function la(e){return Ee(this.__data__,e)>-1}function ua(e,t){var n=this.__data__,o=Ee(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}function J(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}J.prototype.clear=ra;J.prototype.delete=ia;J.prototype.get=ca;J.prototype.has=la;J.prototype.set=ua;var da=He(Ye,"Map");function fa(){this.size=0,this.__data__={hash:new Y,map:new(da||J),string:new Y}}function ma(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Se(e,t){var n=e.__data__;return ma(t)?n[typeof t=="string"?"string":"hash"]:n.map}function ga(e){var t=Se(this,e).delete(e);return this.size-=t?1:0,t}function ha(e){return Se(this,e).get(e)}function pa(e){return Se(this,e).has(e)}function va(e,t){var n=Se(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}function W(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}W.prototype.clear=fa;W.prototype.delete=ga;W.prototype.get=ha;W.prototype.has=pa;W.prototype.set=va;var ya="Expected a function";function Ze(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(ya);var n=function(){var o=arguments,r=t?t.apply(this,o):o[0],a=n.cache;if(a.has(r))return a.get(r);var s=e.apply(this,o);return n.cache=a.set(r,s)||a,s};return n.cache=new(Ze.Cache||W),n}Ze.Cache=W;var ba=500;function _a(e){var t=Ze(e,function(o){return n.size===ba&&n.clear(),o}),n=t.cache;return t}var wa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ca=/\\(\\)?/g,Ea=_a(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(wa,function(n,o,r,a){t.push(r?a.replace(Ca,"$1"):o||n)}),t});function Sa(e){return e==null?"":Kt(e)}function Oa(e,t){return Ke(e)?e:Wr(e,t)?[e]:Ea(Sa(e))}var Aa=1/0;function Pa(e){if(typeof e=="string"||We(e))return e;var t=e+"";return t=="0"&&1/e==-Aa?"-0":t}function Ia(e,t,n,o){if(!pe(e))return e;t=Oa(t,e);for(var r=-1,a=t.length,s=a-1,i=e;i!=null&&++r<a;){var c=Pa(t[r]),l=n;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(r!=s){var d=i[c];l=void 0,l===void 0&&(l=pe(d)?d:Nr(t[r+1])?[]:{})}qr(i,c,l),i=i[c]}return e}function ke(e,t,n){return e==null?e:Ia(e,t,n)}const ka=e=>{var t;(t=document.querySelector("html"))==null||t.setAttribute("lang",e)};function Ts(e,t="lang"){const n={};return Object.keys(e).forEach(o=>{const r=e[o].default;let a=o.replace(`./${t}/`,"").replace(/^\.\//,"");const s=a.lastIndexOf(".");a=a.substring(0,s);const i=a.split("/"),c=i.shift(),l=i.join(".");c&&(l?(ke(n,c,n[c]||{}),ke(n[c],l,r)):ke(n,c,r||{}))}),n}let ve;const xa=async()=>{const e=Vt(),t=e.getCurrentLocale,n=e.getLocaleMap,r=(await Ho(Object.assign({"./lang/en-US.ts":()=>he(()=>import("./en-US-CdC-ANeX.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url),"./lang/zh-CN.ts":()=>he(()=>import("./zh-CN-CKPFW5Xk.js"),__vite__mapDeps([6,1,2,3,4,5]),import.meta.url)}),`./lang/${t.lang}.ts`,3)).default??{};return ka(t.lang),e.setCurrentLocale({lang:t.lang}),{legacy:!1,locale:t.lang,fallbackLocale:t.lang,messages:{[t.lang]:r},availableLocales:n.map(a=>a.lang),sync:!0,silentTranslationWarn:!0,missingWarn:!1,silentFallbackWarn:!0}},Ta=async e=>{const t=await xa();ve=un(t),e.use(ve)},La=F({__name:"App",setup(e){return(t,n)=>{const o=fn("van-config-provider");return Be(),dn(o,{theme:"light"},{default:mn(()=>[h(Le(gn))]),_:1})}}}),Ba=0,Da="application/x-www-form-urlencoded;charset=UTF-8",Ra=5*60*1e3,$a=["/login","/about"],$e=new URL(""+new URL("../img/user_avatar_2x-D7HF6Y-m.png",import.meta.url).href,import.meta.url).href,Ls=new URL("data:image/svg+xml,%3csvg%20width='62'%20height='62'%20viewBox='0%200%2062%2062'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='31'%20cy='31'%20r='31'%20fill='url(%23paint0_linear_930_6995)'/%3e%3cpath%20d='M39%2036.3346C41.9455%2036.3346%2044.3333%2033.9468%2044.3333%2031.0013C44.3333%2028.0558%2041.9455%2025.668%2039%2025.668'%20stroke='%23F2F4FF'%20stroke-width='2.66667'%20stroke-linejoin='round'/%3e%3cpath%20d='M23.0013%2025.668C20.0558%2025.668%2017.668%2028.0558%2017.668%2031.0013C17.668%2033.9468%2020.0558%2036.3346%2023.0013%2036.3346'%20stroke='%23F2F4FF'%20stroke-width='2.66667'%20stroke-linejoin='round'/%3e%3cpath%20d='M23%2036.3346V36.0013V34.3346V31.0013V25.668C23%2021.2497%2026.5817%2017.668%2031%2017.668C35.4183%2017.668%2039%2021.2497%2039%2025.668V36.3346C39%2040.7529%2035.4183%2044.3346%2031%2044.3346'%20stroke='%23F2F4FF'%20stroke-width='2.66667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_930_6995'%20x1='31'%20y1='0'%20x2='31'%20y2='62'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23336DFF'/%3e%3cstop%20offset='1'%20stop-color='%23495EFF'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",import.meta.url).href,Fa=new URL("data:image/png;base64,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",import.meta.url).href;async function Ma(e,t){const n=e.getReader();let o;for(;!(o=await n.read()).done;)t(o.value)}function Na(e){let t,n,o,r=!1;return function(s){t===void 0?(t=s,n=0,o=-1):t=ja(t,s);const i=t.length;let c=0;for(;n<i;){r&&(t[n]===10&&(c=++n),r=!1);let l=-1;for(;n<i&&l===-1;++n)switch(t[n]){case 58:o===-1&&(o=n-c);break;case 13:r=!0;case 10:l=n;break}if(l===-1)break;e(t.subarray(c,l),o),c=n,o=-1}c===i?t=void 0:c!==0&&(t=t.subarray(c),n-=c)}}function za(e,t,n){let o=yt();const r=new TextDecoder;return function(s,i){if(s.length===0)n==null||n(o),o=yt();else if(i>0){const c=r.decode(s.subarray(0,i)),l=i+1,d=r.decode(s.subarray(l));switch(c){case"data":o.data=o.data?o.data+`
`+d:d;break;case"event":o.event=d;break;case"id":e(o.id=d);break;case"retry":const u=parseInt(d,10);isNaN(u)||t(o.retry=u);break}}}}function ja(e,t){const n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function yt(){return{data:"",event:"",id:"",retry:void 0}}var Ua=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n};const ye="text/event-stream",qa=1e3,bt="last-event-id";function Va(e,t){var{signal:n,headers:o,onopen:r,onmessage:a,onclose:s,onerror:i,openWhenHidden:c,fetch:l}=t,d=Ua(t,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise((u,m)=>{const p=Object.assign({},o);p.accept||(p.accept=ye);let y;function w(){y.abort(),document.hidden||R()}c||document.addEventListener("visibilitychange",w);let O=qa,L=0;function A(){document.removeEventListener("visibilitychange",w),window.clearTimeout(L),y.abort()}n==null||n.addEventListener("abort",()=>{A(),u()});const B=l??window.fetch,D=r??Ya;async function R(){var _;y=new AbortController;try{const I=await B(e,Object.assign(Object.assign({},d),{headers:p,signal:y.signal}));await D(I),await Ma(I.body,Na(za(E=>{E?p[bt]=E:delete p[bt]},E=>{O=E},a))),s==null||s(),A(),u()}catch(I){if(!y.signal.aborted)try{const E=(_=i==null?void 0:i(I))!==null&&_!==void 0?_:O;window.clearTimeout(L),L=window.setTimeout(R,E)}catch(E){A(),m(E)}}}R()})}function Ya(e){const t=e.headers.get("content-type");if(!(t!=null&&t.startsWith(ye)))throw new Error(`Expected content-type to be ${ye}, Actual: ${t}`)}class Wa{constructor(t={}){M(this,"onOpen");M(this,"onClose");M(this,"onError");M(this,"onMessage");M(this,"opt",{url:"",data:{}});M(this,"controller",new AbortController);this.opt={...this.opt,...t},this.open()}open(){const t=new FormData;for(const n in this.opt.data)Object.prototype.hasOwnProperty.call(this.opt.data,n)&&t.append(n,this.opt.data[n]);Va(this.opt.url,{method:"POST",signal:this.controller.signal,openWhenHidden:!0,body:t,onopen:async n=>{if(n.ok&&n.headers.get("content-type")===ye)typeof this.onOpen=="function"&&this.onOpen();else throw n.status>=400&&n.status<500&&n.status!==429?new Error("连接出错"):new Error("连接出错")},onmessage:n=>{typeof this.onMessage=="function"&&this.onMessage(n)},onclose:()=>{typeof this.onClose=="function"&&this.onClose(),this.controller.abort()},onerror:n=>{typeof this.onError=="function"&&this.onError(n)}})}abort(){this.controller.abort()}}const Ka={avater:$e},Ge=ze("user",()=>G({...Ka}));function Ha(e){const t=new FormData;return Object.keys(e).forEach(n=>{e[n]!==void 0&&e[n]!==null&&t.append(n,e[n])}),t}function re(e=16,t=0){const n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),o=[];let r;if(t=t||n.length,e)for(r=0;r<e;r++)o[r]=n[0|Math.random()*t];else{let a;for(o[8]=o[13]=o[18]=o[23]="-",o[14]="4",r=0;r<36;r++)o[r]||(a=0|Math.random()*16,o[r]=n[r==19?a&3|8:a])}return o.join("")}function Za(){let e=se.get("openid");return e||(e=re(16),se.set("openid",e)),e}function Bs(e){return e.replace(/[&<"']/g,function(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case'"':return"&quot;";default:return"&#039;"}})}const _t=(e,t)=>t,Zt=e=>{const t={t:a=>_t(e,a)};if(!ve)return t;const{t:n,...o}=ve.global;return{...o,t:(a,...s)=>a?!a.includes(".")&&!e?a:n(_t(e,a),...s):""}};function Ga(e){const{t}=Zt();let n=e.response.status,o=e.response.data.message||e.message,r="";switch(n){case 400:r=`${o}`;break;case 401:r=t("common.errMsg401");break;case 403:r=t("common.errMsg403");break;case 404:r=t("common.errMsg404");break;case 405:r=t("common.errMsg405");break;case 408:r=t("common.errMsg408");break;case 500:r=t("common.errMsg500");break;case 501:r=t("common.errMsg501");break;case 502:r=t("common.errMsg502");break;case 503:r=t("common.errMsg503");break;case 504:r=t("common.errMsg504");break;case 505:r=t("common.errMsg505");break;default:r=`${o}`}return r}let xe=!1;function Gt(e){xe||(xe=!0,qt(e),setTimeout(()=>{xe=!1},200))}const Xa=e=>{if(e.method==="post"&&e.headers["Content-Type"]==="application/x-www-form-urlencoded"?e.data=bn.stringify(e.data):e.method==="post"&&e.headers["Content-Type"]==="multipart/form-data"&&(e.data=Ha(e.data)),e.method==="get"&&e.params){let t=e.url;t+="?";const n=Object.keys(e.params);for(const o of n)e.params[o]!==void 0&&e.params[o]!==null&&(t+=`${o}=${encodeURIComponent(e.params[o])}&`);t=t.substring(0,t.length-1),e.params={},e.url=t}return e},Ja=e=>{var t,n,o;if(e.data&&typeof e.data.res<"u"&&(e.data.code=e.data.res,e.data.message=e.data.msg||""),((t=e==null?void 0:e.config)==null?void 0:t.responseType)==="blob")return e;if(e.data.code===Ba)return e.data;if(qt((n=e==null?void 0:e.data)==null?void 0:n.message),((o=e==null?void 0:e.data)==null?void 0:o.code)===401)Ge().logout();else return Promise.reject(e.data)},Qa=e=>e.response?(console.log("response err： "+e),ts(e)):e.request?(console.log("request err： "+e),es(e)):Promise.reject(e),es=e=>{var c,l,d;const{t}=Zt(),{response:n,code:o,message:r}=e||{},a=((l=(c=n==null?void 0:n.data)==null?void 0:c.error)==null?void 0:l.message)??"",s=((d=e==null?void 0:e.toString)==null?void 0:d.call(e))??"";let i="";return o==="ECONNABORTED"&&r.indexOf("timeout")!==-1?i=t("common.apiTimeoutMessage"):s!=null&&s.includes("Network Error")?i=t("common.networkExceptionMsg"):i=a,Gt(i),Promise.reject(e)},ts=e=>{var o;let t=(o=e==null?void 0:e.response)==null?void 0:o.status,n=Ga(e);return Gt(n),t===401&&Ge().logout(),Promise.reject(e)},ns="",Z=new Map,Q=yn.create({timeout:Ra,baseURL:ns});Q.interceptors.request.use(e=>{const t=new AbortController,n=e.url||"";return e.signal=t.signal,Z.set(n,t),e});Q.interceptors.response.use(e=>{const t=e.config.url||"";return Z.delete(t),e},e=>Promise.reject(e));Q.interceptors.request.use(Xa);Q.interceptors.response.use(Ja);Q.interceptors.response.use(void 0,Qa);const Fe={request:e=>new Promise((t,n)=>{var o;(o=e.interceptors)!=null&&o.requestInterceptors&&(e=e.interceptors.requestInterceptors(e)),Q.request(e).then(r=>{t(r)}).catch(r=>{n(r)})}),cancelRequest:e=>{var n;const t=Array.isArray(e)?e:[e];for(const o of t)(n=Z.get(o))==null||n.abort(),Z.delete(o)},cancelAllRequest(){for(const[e,t]of Z)t.abort();Z.clear()}},fe=e=>{const t=Ge(),n=Vt(),{url:o,method:r,params:a,data:s,headers:i,responseType:c,withToken:l}=e,d=n.getCurrentLocale,u={"Content-Type":Da,"X-Requested-With":"XMLHttpRequest",lang:d.lang,...i};return l||(u.token=t.getToken??""),Fe.request({url:o,method:r,params:a,data:s,responseType:c,headers:{...u}})},Oe={get:e=>fe({method:"get",...e}),post:e=>fe({method:"post",...e}),delete:e=>fe({method:"delete",...e}),put:e=>fe({method:"put",...e}),cancelRequest:e=>Fe.cancelRequest(e),cancelAllRequest:()=>Fe.cancelAllRequest()},os="",rs=e=>new Wa({url:os+"/chat/request",data:e}),as=e=>Oe.post({url:"/chat/welcome",data:e}),ss=e=>Oe.post({url:"/manage/getDialogueList",data:e}),is=e=>Oe.post({url:"/chat/message",data:e}),cs=({id:e,prompt:t})=>Oe.post({url:"/manage/editPrompt",data:{id:e,prompt:t}});function ls(e){return{all:e=e||new Map,on:function(t,n){var o=e.get(t);o?o.push(n):e.set(t,[n])},off:function(t,n){var o=e.get(t);o&&(n?o.splice(o.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var o=e.get(t);o&&o.slice().map(function(r){r(n)}),(o=e.get("*"))&&o.slice().map(function(r){r(t,n)})}}}const me=ls(),Xt=e=>({on:me.on,off:me.off,emit:me.emit,all:me.all}),us=ze("chat",()=>{const e=Xt(),t=b([]);let n=null;const o=b(0),r=b(""),a=G({admin_user_id:"",avatar:"",id:"",name:"",nickname:"",openid:""}),s=G({id:null,library_ids:"",prompt:"",robot_avatar:"",robot_intro:"",robot_key:"",robot_name:"",openid:"",welcomes:{content:"",question:[]}}),i=G({headTitle:"WikiChat.com",headSubTitle:"Based on LLM, free and open-source.",headImage:Fa,lang:"zh-CN",pageStyle:{headBackgroundColor:"linear-gradient,to right,#2435E7,#01A0FB"}}),c=b(!1),l=async f=>{n&&(n.abort(),n=null),t.value=[],E.value=!1,w.value=!1,f.dialogue_id?(c.value=!1,o.value=f.dialogue_id):(c.value=!0,o.value=0),r.value=f.openid||Za(),s.robot_key=f.robot_key,s.openid=r.value,a.openid=r.value,a.avatar=f.avatar||$e,a.name=f.name||"",a.nickname=f.nickname||"";const v=await as({robot_key:s.robot_key,openid:r.value,nickname:a.nickname,name:a.name,avatar:a.avatar||$e});try{const P=v.data.customer,g=v.data.robot;return a.admin_user_id=P.admin_user_id,a.avatar=P.avatar,a.id=P.id,a.name=P.name,a.nickname=P.nickname,s.library_ids=g.library_ids,s.prompt=g.prompt,s.robot_avatar=g.robot_avatar,s.robot_intro=g.robot_intro,s.robot_key=g.robot_key,s.robot_name=g.robot_name,s.library_ids=g.library_ids,s.id=g.id,g.welcomes&&(s.welcomes=JSON.parse(g.welcomes)),d(v.data.message),g.external_config_pc&&Object.assign(i,JSON.parse(g.external_config_pc)),v}catch(P){Promise.reject(P)}},d=f=>{f&&(f.uid=re(32),f.loading=!1,f.isWelcome=!0,f.avatar=s.robot_avatar,f.menu_json&&(f.menu_json=JSON.parse(f.menu_json)),f.quote_file&&(f.quote_file=JSON.parse(f.quote_file)),t.value.push(f))},u=f=>{f.uid=re(32),f.loading=!1,f.avatar=a.avatar,f.openid=a.openid,f.msg_type=1,f.is_customer=1,t.value.push(f)},m=f=>{t.value.push(f),e.emit("updateAiMessage",f)},p=(f,v,P)=>{const g=t.value.findIndex(C=>C.uid==P);if(f=="sending"){const C=t.value[g].content;t.value[g].content=C+v}if(f=="quote_file"&&(t.value[g].quote_file=v.length>0?v:[]),f=="ai_message"){if(v.menu_json&&v.msg_type==2){let C=JSON.parse(v.menu_json);t.value[g].content=C.content,t.value[g].menu_json=C}t.value[g].id=v.id}f=="debug"&&(t.value[g].debug=v.length>0?v:[]),e.emit("updateAiMessage",t.value[g])},y=()=>{const f=t.value.length-1;t.value[f].loading=!1},w=b(!1),O=f=>{if(w.value)return;const v={loading:!0,id:"",content:"",uid:re(32),avatar:s.robot_avatar,msg_type:1,quote_file:[],is_customer:0,debug:[]},P={robot_key:s.robot_key,openid:s.openid,question:f.message,prompt:s.prompt,library_ids:s.library_ids,dialogue_id:o.value};w.value=!0,n=rs(P),n.onMessage=g=>{if(g.event=="dialogue_id"&&(o.value=g.data),g.event=="c_message"){const C=JSON.parse(g.data);u(C)}if(g.event=="robot"&&(m(v),c.value&&(c.value=!1)),g.event=="sending"&&p("sending",g.data,v.uid),g.event=="ai_message"){const C=JSON.parse(g.data);p("ai_message",C,v.uid)}if(g.event=="quote_file"){const C=JSON.parse(g.data);p("quote_file",C,v.uid)}if(g.event=="debug"){const C=JSON.parse(g.data);p("debug",C,v.uid)}},n.onClose=()=>{y(),w.value=!1,n=null}},L=25,A=b([]),B=b(!1),D=b(!1),R=async()=>{if(D.value||B.value)return!1;let f=0;A.value.length>0&&(f=A.value[A.value.length-1].id),B.value=!0;const v=await ss({min_id:f,size:L,robot_key:s.robot_key});B.value=!1;const P=v.data||[];return P.length===0?(D.value=!0,!1):(A.value=[...A.value,...P],v)},_=async f=>await l(f),I=20,E=b(!1),ee=async()=>{if(E.value)return;let f=0;const v=t.value.filter(g=>!g.isWelcome);v.length>0&&(f=v[0].id);const P={robot_key:s.robot_key,openid:a.openid,min_id:f,size:I,dialogue_id:o.value};try{const g=await is(P),C=g.data.list||[];if(C.length===0){E.value=!0;return}return C.sort((x,en)=>x.id-en.id),C.forEach(x=>{x.loading=!1,x.uid=re(32),x.is_customer==1?x.avatar=a.avatar:x.avatar=s.robot_avatar,x.menu_json&&(x.menu_json=JSON.parse(x.menu_json)),x.quote_file&&(x.quote_file=JSON.parse(x.quote_file))}),t.value=[...C,...t.value],g}catch(g){Promise.reject(g)}},Ae=f=>{s.prompt=f},Jt=()=>cs({id:s.id,prompt:s.prompt});function Qt(){o.value=0,t.value=[],r.value="",a.admin_user_id="",a.avatar="",a.id="",a.name="",a.nickname="",a.openid="",s.id=null,s.library_ids="",s.prompt="",s.robot_avatar="",s.robot_intro="",s.robot_key="",s.robot_key="",s.robot_name="",s.openid="",s.welcomes={content:"",question:[]},c.value=!1,E.value=!1,w.value=!1,B.value=!1,D.value=!1,A.value=[]}return{$reset:Qt,user:a,robot:s,dialogue_id:o,openid:r,sendLock:w,messageList:t,createChat:l,sendMessage:O,getMyChatList:R,myChatList:A,openChat:_,onGetChatMessage:ee,changeRobotPrompt:Ae,saveRobotPrompt:Jt,externalConfigPC:i}});function ds(e){return{openid:e.openid||"",robot_key:e.robot_key||"",avatar:e.avatar||"",name:e.name||"",nickname:e.nickname||"",dialogue_id:e.dialogue_id||""}}function fs(e){return $a.some(t=>t===e.name)}function ms(e){const t=us();e.beforeEach(async(n,o,r)=>{const a=ds(n.query);if(fs(n))r();else if(t.robot.id)r();else try{await t.createChat(a),r()}catch(s){console.error("Failed to get robot info:",s)}})}const gs=[{path:"/",name:"home",component:()=>he(()=>import("./index-02p41S6n.js"),__vite__mapDeps([7,1,8]),import.meta.url)},{path:"/chat",name:"chat",component:()=>he(()=>import("./index-DZ1pYDoQ.js"),__vite__mapDeps([9,1,2,3,4,5,10]),import.meta.url)}],Te=hn({history:pn(),routes:gs});async function hs(e){ms(Te),e.use(Te),await Te.isReady()}const ps={class:"svg-action"},vs=["fill","width","height"],ys=["xlink:href","fill"],bs=F({__name:"index",props:{name:{type:String,required:!0},size:{type:String,default:"1em"},width:{type:String},height:{type:String},color:{type:String,default:"currentColor"}},setup(e){const t=e,n=z(()=>`#${t.name}`),o=z(()=>t.width?t.width:t.size),r=z(()=>t.height?t.height:t.size);return(a,s)=>(Be(),Xe("span",ps,[(Be(),Xe("svg",{"aria-hidden":"true",class:"svg-icon",fill:t.color,width:o.value,height:r.value},[vn("use",{"xlink:href":n.value,fill:t.color},null,8,ys)],8,vs))]))}}),_s=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n},ws=_s(bs,[["__scopeId","data-v-3a039f58"]]),Cs=e=>{e.component("SvgIcon",ws)},Es=Xt();window.addEventListener("message",function(e){console.log("Received message from parent:",e.data),e.data.action==="openWindow"&&Es.emit("openWindow",e.data)});const Ss=async()=>{const e=It(La);await Ta(e),tr(e),hs(e),Yo(e),Cs(e),e.mount("#app")};Ss();export{Ls as D,_s as _,Xt as a,Bs as e,Ts as g,qt as s,us as u};
