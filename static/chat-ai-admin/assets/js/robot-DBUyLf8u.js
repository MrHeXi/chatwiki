import{K as l,B as s}from"./vue-chunks-Chs-lyDX.js";import{h as m}from"./index-B0ITeg-u.js";import{am as c,y as b}from"../../index.js";const p={accessRestrictionsType:1,logo:"",pageTitle:"",navbarShow:2,lang:"zh-CN",pageStyle:{navbarBackgroundColor:"#2475FC"}},a={headTitle:"WikiChat.com",headSubTitle:"Based on LLM, free and open-source.",headImage:b,lang:"zh-CN",pageStyle:{headBackgroundColor:"linear-gradient,to right,#2435E7,#01A0FB"}},k=l("robot",()=>{const r=s({id:void 0,robot_key:"",robot_name:"",robot_intro:"",robot_avatar:void 0,robot_avatar_url:"",use_model:void 0,model_config_id:"",rerank_status:0,rerank_use_model:void 0,rerank_model_config_id:void 0,temperature:0,max_token:0,context_pair:0,top_k:1,similarity:0,search_type:1,prompt:c,library_ids:"",welcomes:{content:"",question:[]},h5_domain:"",h5_website:"",pc_domain:"",chat_type:"",library_qa_direct_reply_score:"",library_qa_direct_reply_switch:"",mixture_qa_direct_reply_score:"",mixture_qa_direct_reply_switch:"",unknown_question_prompt:{content:"",question:[]},wechat_ip:"",push_aeskey:"",push_token:"",push_wechat_kefu:""}),t=s(JSON.parse(JSON.stringify(p))),n=s(JSON.parse(JSON.stringify(a))),u=e=>{let o=JSON.parse(e.welcomes);o.question=o.question.map(i=>({content:i}));let _={content:"",question:[]};e.unknown_question_prompt&&(_=JSON.parse(e.unknown_question_prompt)),_.question=_.question.map(i=>({content:i})),r.id=e.id,r.robot_key=e.robot_key,r.robot_name=e.robot_name,r.robot_intro=e.robot_intro,r.robot_avatar_url=e.robot_avatar,r.use_model=e.use_model,r.model_config_id=e.model_config_id,r.rerank_status=Number(e.rerank_status),r.rerank_use_model=e.rerank_use_model,r.rerank_model_config_id=e.rerank_model_config_id,r.prompt=e.prompt||c,r.library_ids=e.library_ids||"",r.welcomes=o,r.unknown_question_prompt=_,r.temperature=Number(e.temperature),r.max_token=Number(e.max_token),r.context_pair=Number(e.context_pair),r.top_k=Number(e.top_k),r.similarity=Number(e.similarity),r.search_type=Number(e.search_type),r.wechat_ip=e.wechat_ip,r.push_token=e.push_token,r.push_aeskey=e.push_aeskey,r.push_wechat_kefu=e.push_wechat_kefu,r.pc_domain=e.pc_domain,r.chat_type=e.chat_type,r.library_qa_direct_reply_score=e.library_qa_direct_reply_score,r.library_qa_direct_reply_switch=e.library_qa_direct_reply_switch,r.mixture_qa_direct_reply_score=e.mixture_qa_direct_reply_score,r.mixture_qa_direct_reply_switch=e.mixture_qa_direct_reply_switch,r.h5_domain=e.h5_domain,r.h5_website=e.h5_domain+"/#/chat?robot_key="+e.robot_key,e.external_config_h5!==""?Object.assign(t,JSON.parse(e.external_config_h5)):(Object.assign(t,JSON.parse(JSON.stringify(p))),t.logo=r.robot_avatar_url,t.pageTitle=r.robot_name),e.external_config_pc!==""?Object.assign(n,JSON.parse(e.external_config_pc)):Object.assign(n,JSON.parse(JSON.stringify(a)))};return{robotInfo:r,getRobot:async e=>{const o=await m({id:e});if(o.code!==0)return!1;let _=o.data;return u(_),o},external_config_h5:t,external_config_pc:n}});export{k as u};
