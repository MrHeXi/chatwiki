var Bn=Object.defineProperty;var In=(e,t,a)=>t in e?Bn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var ae=(e,t,a)=>(In(e,typeof t!="symbol"?t+"":t,a),a);import{e as V,M as U,N as J,k as b,W as f,U as ct,a9 as ee,Z as Q,S as I,a as Pn,x as qe,a7 as bt,B as pe,u as le,Y as X,aa as ge,a4 as Pe,a5 as Te,b as Ve,w as jt,F as Be,a2 as We,Q as te,d as we,p as Tn,ab as Rn}from"./vue-chunks-Chs-lyDX.js";import{u as wt}from"./robot-DBUyLf8u.js";import{_ as ne,I as Nn,z as xn,d as se,J as Re,c as Ct,B as Ke,M as Ce,E as kt}from"../../index.js";import{M as Mn}from"./index-C9DKKAWk.js";import{e as Jt,a as At,b as $t,c as St}from"./index-B0ITeg-u.js";import{C as Ln}from"./cu-upload-DqG9yxPF.js";import"./index-9H-48H6s.js";import{I as Ne}from"./Password-cmG-BlhH.js";import{R as Un,_ as Dn}from"./index-B7-ex2lw.js";import{_ as xe,F as ke}from"./index-VeYSCPCu.js";import{_ as Fn}from"./index-DBNqHYGh.js";import{S as Et,_ as Bt}from"./index-MD3V6K2I.js";import{R as On}from"./RightOutlined-BSM_93j-.js";import{_ as jn}from"./TextArea-DvaABMYL.js";import{P as zn}from"./PlusOutlined-BUnPSW1-.js";import{_ as Je}from"./index-CLm_N5Mj.js";import"./dayjs-CkLU8sYs.js";import"./axios-Cm0UX6qg.js";import"./qs-DjYKlG5V.js";import"./crypto-js-BUUKnz8c.js";import"./collapseMotion-DN2MDQ98.js";import"./slide-CP07UJ8x.js";import"./index-CwZHIw9t.js";import"./inputProps-DYO7gEw-.js";import"./Col-CvDsueo7.js";import"./QuestionCircleOutlined-B0hVewZq.js";import"./CheckOutlined-D4HtVfaw.js";import"./DownOutlined-DRniQ56W.js";import"./move-DwQ0mPkQ.js";const Hn={class:"top-menu-box"},qn={__name:"top-meun",props:{value:{type:String,default:""}},emits:["change","update:value"],setup(e,{emit:t}){const a=t,n=V([e.value]),o=V([{key:"WebAPP",id:"WebAPP",label:"WebAPP",title:"WebAPP"},{key:"EmbedWebsite",id:"EmbedWebsite",label:"嵌入网站",title:"嵌入网站"},{key:"WeChatOfficialAccount",id:"WeChatOfficialAccount",label:"微信公众号",title:"微信公众号"},{key:"WeChatMiniProgram",id:"WeChatMiniProgram",label:"微信小程序",title:"微信小程序"},{key:"WeChatCustomerService",id:"WeChatCustomerService",label:"微信客服",title:"微信客服"}]),r=({item:c})=>{n.value.includes(c.id)||(a("update:value",c.id),a("change",c))};return(c,l)=>{const u=Mn;return U(),J("div",Hn,[b(u,{class:"top-menu",items:o.value,selectedKeys:n.value,"onUpdate:selectedKeys":l[0]||(l[0]=y=>n.value=y),mode:"horizontal",onClick:r},null,8,["items","selectedKeys"])])}}},Vn=ne(qn,[["__scopeId","data-v-040b790f"]]),Wn="/assets/img/web_app_demo-Bvp9nC16.png";var Me={},Kn=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Yt={},re={};let It;const Jn=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];re.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};re.getSymbolTotalCodewords=function(t){return Jn[t]};re.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};re.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');It=t};re.isKanjiModeEnabled=function(){return typeof It<"u"};re.toSJIS=function(t){return It(t)};var Ye={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+a)}}e.isValid=function(s){return s&&typeof s.bit<"u"&&s.bit>=0&&s.bit<4},e.from=function(s,n){if(e.isValid(s))return s;try{return t(s)}catch{return n}}})(Ye);function Gt(){this.buffer=[],this.length=0}Gt.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let a=0;a<t;a++)this.putBit((e>>>t-a-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var Yn=Gt;function Le(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}Le.prototype.set=function(e,t,a,s){const n=e*this.size+t;this.data[n]=a,s&&(this.reservedBit[n]=!0)};Le.prototype.get=function(e,t){return this.data[e*this.size+t]};Le.prototype.xor=function(e,t,a){this.data[e*this.size+t]^=a};Le.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var Gn=Le,Qt={};(function(e){const t=re.getSymbolSize;e.getRowColCoords=function(s){if(s===1)return[];const n=Math.floor(s/7)+2,o=t(s),r=o===145?26:Math.ceil((o-13)/(2*n-2))*2,c=[o-7];for(let l=1;l<n-1;l++)c[l]=c[l-1]-r;return c.push(6),c.reverse()},e.getPositions=function(s){const n=[],o=e.getRowColCoords(s),r=o.length;for(let c=0;c<r;c++)for(let l=0;l<r;l++)c===0&&l===0||c===0&&l===r-1||c===r-1&&l===0||n.push([o[c],o[l]]);return n}})(Qt);var Xt={};const Qn=re.getSymbolSize,zt=7;Xt.getPositions=function(t){const a=Qn(t);return[[0,0],[a-zt,0],[0,a-zt]]};var Zt={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(n){return n!=null&&n!==""&&!isNaN(n)&&n>=0&&n<=7},e.from=function(n){return e.isValid(n)?parseInt(n,10):void 0},e.getPenaltyN1=function(n){const o=n.size;let r=0,c=0,l=0,u=null,y=null;for(let R=0;R<o;R++){c=l=0,u=y=null;for(let k=0;k<o;k++){let m=n.get(R,k);m===u?c++:(c>=5&&(r+=t.N1+(c-5)),u=m,c=1),m=n.get(k,R),m===y?l++:(l>=5&&(r+=t.N1+(l-5)),y=m,l=1)}c>=5&&(r+=t.N1+(c-5)),l>=5&&(r+=t.N1+(l-5))}return r},e.getPenaltyN2=function(n){const o=n.size;let r=0;for(let c=0;c<o-1;c++)for(let l=0;l<o-1;l++){const u=n.get(c,l)+n.get(c,l+1)+n.get(c+1,l)+n.get(c+1,l+1);(u===4||u===0)&&r++}return r*t.N2},e.getPenaltyN3=function(n){const o=n.size;let r=0,c=0,l=0;for(let u=0;u<o;u++){c=l=0;for(let y=0;y<o;y++)c=c<<1&2047|n.get(u,y),y>=10&&(c===1488||c===93)&&r++,l=l<<1&2047|n.get(y,u),y>=10&&(l===1488||l===93)&&r++}return r*t.N3},e.getPenaltyN4=function(n){let o=0;const r=n.data.length;for(let l=0;l<r;l++)o+=n.data[l];return Math.abs(Math.ceil(o*100/r/5)-10)*t.N4};function a(s,n,o){switch(s){case e.Patterns.PATTERN000:return(n+o)%2===0;case e.Patterns.PATTERN001:return n%2===0;case e.Patterns.PATTERN010:return o%3===0;case e.Patterns.PATTERN011:return(n+o)%3===0;case e.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(o/3))%2===0;case e.Patterns.PATTERN101:return n*o%2+n*o%3===0;case e.Patterns.PATTERN110:return(n*o%2+n*o%3)%2===0;case e.Patterns.PATTERN111:return(n*o%3+(n+o)%2)%2===0;default:throw new Error("bad maskPattern:"+s)}}e.applyMask=function(n,o){const r=o.size;for(let c=0;c<r;c++)for(let l=0;l<r;l++)o.isReserved(l,c)||o.xor(l,c,a(n,l,c))},e.getBestMask=function(n,o){const r=Object.keys(e.Patterns).length;let c=0,l=1/0;for(let u=0;u<r;u++){o(u),e.applyMask(u,n);const y=e.getPenaltyN1(n)+e.getPenaltyN2(n)+e.getPenaltyN3(n)+e.getPenaltyN4(n);e.applyMask(u,n),y<l&&(l=y,c=u)}return c}})(Zt);var Ge={};const de=Ye,Fe=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Oe=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Ge.getBlocksCount=function(t,a){switch(a){case de.L:return Fe[(t-1)*4+0];case de.M:return Fe[(t-1)*4+1];case de.Q:return Fe[(t-1)*4+2];case de.H:return Fe[(t-1)*4+3];default:return}};Ge.getTotalCodewordsCount=function(t,a){switch(a){case de.L:return Oe[(t-1)*4+0];case de.M:return Oe[(t-1)*4+1];case de.Q:return Oe[(t-1)*4+2];case de.H:return Oe[(t-1)*4+3];default:return}};var en={},Qe={};const Ee=new Uint8Array(512),je=new Uint8Array(256);(function(){let t=1;for(let a=0;a<255;a++)Ee[a]=t,je[t]=a,t<<=1,t&256&&(t^=285);for(let a=255;a<512;a++)Ee[a]=Ee[a-255]})();Qe.log=function(t){if(t<1)throw new Error("log("+t+")");return je[t]};Qe.exp=function(t){return Ee[t]};Qe.mul=function(t,a){return t===0||a===0?0:Ee[je[t]+je[a]]};(function(e){const t=Qe;e.mul=function(s,n){const o=new Uint8Array(s.length+n.length-1);for(let r=0;r<s.length;r++)for(let c=0;c<n.length;c++)o[r+c]^=t.mul(s[r],n[c]);return o},e.mod=function(s,n){let o=new Uint8Array(s);for(;o.length-n.length>=0;){const r=o[0];for(let l=0;l<n.length;l++)o[l]^=t.mul(n[l],r);let c=0;for(;c<o.length&&o[c]===0;)c++;o=o.slice(c)}return o},e.generateECPolynomial=function(s){let n=new Uint8Array([1]);for(let o=0;o<s;o++)n=e.mul(n,new Uint8Array([1,t.exp(o)]));return n}})(en);const tn=en;function Pt(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}Pt.prototype.initialize=function(t){this.degree=t,this.genPoly=tn.generateECPolynomial(this.degree)};Pt.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const a=new Uint8Array(t.length+this.degree);a.set(t);const s=tn.mod(a,this.genPoly),n=this.degree-s.length;if(n>0){const o=new Uint8Array(this.degree);return o.set(s,n),o}return s};var Xn=Pt,nn={},he={},Tt={};Tt.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var ue={};const on="[0-9]+",Zn="[A-Z $%*+\\-./:]+";let Ie="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Ie=Ie.replace(/u/g,"\\u");const eo="(?:(?![A-Z0-9 $%*+\\-./:]|"+Ie+`)(?:.|[\r
]))+`;ue.KANJI=new RegExp(Ie,"g");ue.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");ue.BYTE=new RegExp(eo,"g");ue.NUMERIC=new RegExp(on,"g");ue.ALPHANUMERIC=new RegExp(Zn,"g");const to=new RegExp("^"+Ie+"$"),no=new RegExp("^"+on+"$"),oo=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");ue.testKanji=function(t){return to.test(t)};ue.testNumeric=function(t){return no.test(t)};ue.testAlphanumeric=function(t){return oo.test(t)};(function(e){const t=Tt,a=ue;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(o,r){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!t.isValid(r))throw new Error("Invalid version: "+r);return r>=1&&r<10?o.ccBits[0]:r<27?o.ccBits[1]:o.ccBits[2]},e.getBestModeForData=function(o){return a.testNumeric(o)?e.NUMERIC:a.testAlphanumeric(o)?e.ALPHANUMERIC:a.testKanji(o)?e.KANJI:e.BYTE},e.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},e.isValid=function(o){return o&&o.bit&&o.ccBits};function s(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+n)}}e.from=function(o,r){if(e.isValid(o))return o;try{return s(o)}catch{return r}}})(he);(function(e){const t=re,a=Ge,s=Ye,n=he,o=Tt,r=7973,c=t.getBCHDigit(r);function l(k,m,N){for(let x=1;x<=40;x++)if(m<=e.getCapacity(x,N,k))return x}function u(k,m){return n.getCharCountIndicator(k,m)+4}function y(k,m){let N=0;return k.forEach(function(x){const D=u(x.mode,m);N+=D+x.getBitsLength()}),N}function R(k,m){for(let N=1;N<=40;N++)if(y(k,N)<=e.getCapacity(N,m,n.MIXED))return N}e.from=function(m,N){return o.isValid(m)?parseInt(m,10):N},e.getCapacity=function(m,N,x){if(!o.isValid(m))throw new Error("Invalid QR Code version");typeof x>"u"&&(x=n.BYTE);const D=t.getSymbolTotalCodewords(m),B=a.getTotalCodewordsCount(m,N),P=(D-B)*8;if(x===n.MIXED)return P;const $=P-u(x,m);switch(x){case n.NUMERIC:return Math.floor($/10*3);case n.ALPHANUMERIC:return Math.floor($/11*2);case n.KANJI:return Math.floor($/13);case n.BYTE:default:return Math.floor($/8)}},e.getBestVersionForData=function(m,N){let x;const D=s.from(N,s.M);if(Array.isArray(m)){if(m.length>1)return R(m,D);if(m.length===0)return 1;x=m[0]}else x=m;return l(x.mode,x.getLength(),D)},e.getEncodedBits=function(m){if(!o.isValid(m)||m<7)throw new Error("Invalid QR Code version");let N=m<<12;for(;t.getBCHDigit(N)-c>=0;)N^=r<<t.getBCHDigit(N)-c;return m<<12|N}})(nn);var an={};const _t=re,sn=1335,ao=21522,Ht=_t.getBCHDigit(sn);an.getEncodedBits=function(t,a){const s=t.bit<<3|a;let n=s<<10;for(;_t.getBCHDigit(n)-Ht>=0;)n^=sn<<_t.getBCHDigit(n)-Ht;return(s<<10|n)^ao};var rn={};const so=he;function me(e){this.mode=so.NUMERIC,this.data=e.toString()}me.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};me.prototype.getLength=function(){return this.data.length};me.prototype.getBitsLength=function(){return me.getBitsLength(this.data.length)};me.prototype.write=function(t){let a,s,n;for(a=0;a+3<=this.data.length;a+=3)s=this.data.substr(a,3),n=parseInt(s,10),t.put(n,10);const o=this.data.length-a;o>0&&(s=this.data.substr(a),n=parseInt(s,10),t.put(n,o*3+1))};var ro=me;const io=he,ut=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function ve(e){this.mode=io.ALPHANUMERIC,this.data=e}ve.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};ve.prototype.getLength=function(){return this.data.length};ve.prototype.getBitsLength=function(){return ve.getBitsLength(this.data.length)};ve.prototype.write=function(t){let a;for(a=0;a+2<=this.data.length;a+=2){let s=ut.indexOf(this.data[a])*45;s+=ut.indexOf(this.data[a+1]),t.put(s,11)}this.data.length%2&&t.put(ut.indexOf(this.data[a]),6)};var lo=ve,co=function(t){for(var a=[],s=t.length,n=0;n<s;n++){var o=t.charCodeAt(n);if(o>=55296&&o<=56319&&s>n+1){var r=t.charCodeAt(n+1);r>=56320&&r<=57343&&(o=(o-55296)*1024+r-56320+65536,n+=1)}if(o<128){a.push(o);continue}if(o<2048){a.push(o>>6|192),a.push(o&63|128);continue}if(o<55296||o>=57344&&o<65536){a.push(o>>12|224),a.push(o>>6&63|128),a.push(o&63|128);continue}if(o>=65536&&o<=1114111){a.push(o>>18|240),a.push(o>>12&63|128),a.push(o>>6&63|128),a.push(o&63|128);continue}a.push(239,191,189)}return new Uint8Array(a).buffer};const uo=co,po=he;function ye(e){this.mode=po.BYTE,typeof e=="string"&&(e=uo(e)),this.data=new Uint8Array(e)}ye.getBitsLength=function(t){return t*8};ye.prototype.getLength=function(){return this.data.length};ye.prototype.getBitsLength=function(){return ye.getBitsLength(this.data.length)};ye.prototype.write=function(e){for(let t=0,a=this.data.length;t<a;t++)e.put(this.data[t],8)};var ho=ye;const fo=he,_o=re;function be(e){this.mode=fo.KANJI,this.data=e}be.getBitsLength=function(t){return t*13};be.prototype.getLength=function(){return this.data.length};be.prototype.getBitsLength=function(){return be.getBitsLength(this.data.length)};be.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let a=_o.toSJIS(this.data[t]);if(a>=33088&&a<=40956)a-=33088;else if(a>=57408&&a<=60351)a-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);a=(a>>>8&255)*192+(a&255),e.put(a,13)}};var go=be,ln={exports:{}};(function(e){var t={single_source_shortest_paths:function(a,s,n){var o={},r={};r[s]=0;var c=t.PriorityQueue.make();c.push(s,0);for(var l,u,y,R,k,m,N,x,D;!c.empty();){l=c.pop(),u=l.value,R=l.cost,k=a[u]||{};for(y in k)k.hasOwnProperty(y)&&(m=k[y],N=R+m,x=r[y],D=typeof r[y]>"u",(D||x>N)&&(r[y]=N,c.push(y,N),o[y]=u))}if(typeof n<"u"&&typeof r[n]>"u"){var B=["Could not find a path from ",s," to ",n,"."].join("");throw new Error(B)}return o},extract_shortest_path_from_predecessor_list:function(a,s){for(var n=[],o=s;o;)n.push(o),a[o],o=a[o];return n.reverse(),n},find_path:function(a,s,n){var o=t.single_source_shortest_paths(a,s,n);return t.extract_shortest_path_from_predecessor_list(o,n)},PriorityQueue:{make:function(a){var s=t.PriorityQueue,n={},o;a=a||{};for(o in s)s.hasOwnProperty(o)&&(n[o]=s[o]);return n.queue=[],n.sorter=a.sorter||s.default_sorter,n},default_sorter:function(a,s){return a.cost-s.cost},push:function(a,s){var n={value:a,cost:s};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(ln);var mo=ln.exports;(function(e){const t=he,a=ro,s=lo,n=ho,o=go,r=ue,c=re,l=mo;function u(B){return unescape(encodeURIComponent(B)).length}function y(B,P,$){const w=[];let E;for(;(E=B.exec($))!==null;)w.push({data:E[0],index:E.index,mode:P,length:E[0].length});return w}function R(B){const P=y(r.NUMERIC,t.NUMERIC,B),$=y(r.ALPHANUMERIC,t.ALPHANUMERIC,B);let w,E;return c.isKanjiModeEnabled()?(w=y(r.BYTE,t.BYTE,B),E=y(r.KANJI,t.KANJI,B)):(w=y(r.BYTE_KANJI,t.BYTE,B),E=[]),P.concat($,w,E).sort(function(O,H){return O.index-H.index}).map(function(O){return{data:O.data,mode:O.mode,length:O.length}})}function k(B,P){switch(P){case t.NUMERIC:return a.getBitsLength(B);case t.ALPHANUMERIC:return s.getBitsLength(B);case t.KANJI:return o.getBitsLength(B);case t.BYTE:return n.getBitsLength(B)}}function m(B){return B.reduce(function(P,$){const w=P.length-1>=0?P[P.length-1]:null;return w&&w.mode===$.mode?(P[P.length-1].data+=$.data,P):(P.push($),P)},[])}function N(B){const P=[];for(let $=0;$<B.length;$++){const w=B[$];switch(w.mode){case t.NUMERIC:P.push([w,{data:w.data,mode:t.ALPHANUMERIC,length:w.length},{data:w.data,mode:t.BYTE,length:w.length}]);break;case t.ALPHANUMERIC:P.push([w,{data:w.data,mode:t.BYTE,length:w.length}]);break;case t.KANJI:P.push([w,{data:w.data,mode:t.BYTE,length:u(w.data)}]);break;case t.BYTE:P.push([{data:w.data,mode:t.BYTE,length:u(w.data)}])}}return P}function x(B,P){const $={},w={start:{}};let E=["start"];for(let A=0;A<B.length;A++){const O=B[A],H=[];for(let W=0;W<O.length;W++){const Y=O[W],K=""+A+W;H.push(K),$[K]={node:Y,lastCount:0},w[K]={};for(let G=0;G<E.length;G++){const F=E[G];$[F]&&$[F].node.mode===Y.mode?(w[F][K]=k($[F].lastCount+Y.length,Y.mode)-k($[F].lastCount,Y.mode),$[F].lastCount+=Y.length):($[F]&&($[F].lastCount=Y.length),w[F][K]=k(Y.length,Y.mode)+4+t.getCharCountIndicator(Y.mode,P))}}E=H}for(let A=0;A<E.length;A++)w[E[A]].end=0;return{map:w,table:$}}function D(B,P){let $;const w=t.getBestModeForData(B);if($=t.from(P,w),$!==t.BYTE&&$.bit<w.bit)throw new Error('"'+B+'" cannot be encoded with mode '+t.toString($)+`.
 Suggested mode is: `+t.toString(w));switch($===t.KANJI&&!c.isKanjiModeEnabled()&&($=t.BYTE),$){case t.NUMERIC:return new a(B);case t.ALPHANUMERIC:return new s(B);case t.KANJI:return new o(B);case t.BYTE:return new n(B)}}e.fromArray=function(P){return P.reduce(function($,w){return typeof w=="string"?$.push(D(w,null)):w.data&&$.push(D(w.data,w.mode)),$},[])},e.fromString=function(P,$){const w=R(P,c.isKanjiModeEnabled()),E=N(w),A=x(E,$),O=l.find_path(A.map,"start","end"),H=[];for(let W=1;W<O.length-1;W++)H.push(A.table[O[W]].node);return e.fromArray(m(H))},e.rawSplit=function(P){return e.fromArray(R(P,c.isKanjiModeEnabled()))}})(rn);const Xe=re,dt=Ye,vo=Yn,yo=Gn,bo=Qt,wo=Xt,gt=Zt,mt=Ge,Co=Xn,ze=nn,ko=an,Ao=he,pt=rn;function $o(e,t){const a=e.size,s=wo.getPositions(t);for(let n=0;n<s.length;n++){const o=s[n][0],r=s[n][1];for(let c=-1;c<=7;c++)if(!(o+c<=-1||a<=o+c))for(let l=-1;l<=7;l++)r+l<=-1||a<=r+l||(c>=0&&c<=6&&(l===0||l===6)||l>=0&&l<=6&&(c===0||c===6)||c>=2&&c<=4&&l>=2&&l<=4?e.set(o+c,r+l,!0,!0):e.set(o+c,r+l,!1,!0))}}function So(e){const t=e.size;for(let a=8;a<t-8;a++){const s=a%2===0;e.set(a,6,s,!0),e.set(6,a,s,!0)}}function Eo(e,t){const a=bo.getPositions(t);for(let s=0;s<a.length;s++){const n=a[s][0],o=a[s][1];for(let r=-2;r<=2;r++)for(let c=-2;c<=2;c++)r===-2||r===2||c===-2||c===2||r===0&&c===0?e.set(n+r,o+c,!0,!0):e.set(n+r,o+c,!1,!0)}}function Bo(e,t){const a=e.size,s=ze.getEncodedBits(t);let n,o,r;for(let c=0;c<18;c++)n=Math.floor(c/3),o=c%3+a-8-3,r=(s>>c&1)===1,e.set(n,o,r,!0),e.set(o,n,r,!0)}function ht(e,t,a){const s=e.size,n=ko.getEncodedBits(t,a);let o,r;for(o=0;o<15;o++)r=(n>>o&1)===1,o<6?e.set(o,8,r,!0):o<8?e.set(o+1,8,r,!0):e.set(s-15+o,8,r,!0),o<8?e.set(8,s-o-1,r,!0):o<9?e.set(8,15-o-1+1,r,!0):e.set(8,15-o-1,r,!0);e.set(s-8,8,1,!0)}function Io(e,t){const a=e.size;let s=-1,n=a-1,o=7,r=0;for(let c=a-1;c>0;c-=2)for(c===6&&c--;;){for(let l=0;l<2;l++)if(!e.isReserved(n,c-l)){let u=!1;r<t.length&&(u=(t[r]>>>o&1)===1),e.set(n,c-l,u),o--,o===-1&&(r++,o=7)}if(n+=s,n<0||a<=n){n-=s,s=-s;break}}}function Po(e,t,a){const s=new vo;a.forEach(function(l){s.put(l.mode.bit,4),s.put(l.getLength(),Ao.getCharCountIndicator(l.mode,e)),l.write(s)});const n=Xe.getSymbolTotalCodewords(e),o=mt.getTotalCodewordsCount(e,t),r=(n-o)*8;for(s.getLengthInBits()+4<=r&&s.put(0,4);s.getLengthInBits()%8!==0;)s.putBit(0);const c=(r-s.getLengthInBits())/8;for(let l=0;l<c;l++)s.put(l%2?17:236,8);return To(s,e,t)}function To(e,t,a){const s=Xe.getSymbolTotalCodewords(t),n=mt.getTotalCodewordsCount(t,a),o=s-n,r=mt.getBlocksCount(t,a),c=s%r,l=r-c,u=Math.floor(s/r),y=Math.floor(o/r),R=y+1,k=u-y,m=new Co(k);let N=0;const x=new Array(r),D=new Array(r);let B=0;const P=new Uint8Array(e.buffer);for(let O=0;O<r;O++){const H=O<l?y:R;x[O]=P.slice(N,N+H),D[O]=m.encode(x[O]),N+=H,B=Math.max(B,H)}const $=new Uint8Array(s);let w=0,E,A;for(E=0;E<B;E++)for(A=0;A<r;A++)E<x[A].length&&($[w++]=x[A][E]);for(E=0;E<k;E++)for(A=0;A<r;A++)$[w++]=D[A][E];return $}function Ro(e,t,a,s){let n;if(Array.isArray(e))n=pt.fromArray(e);else if(typeof e=="string"){let u=t;if(!u){const y=pt.rawSplit(e);u=ze.getBestVersionForData(y,a)}n=pt.fromString(e,u||40)}else throw new Error("Invalid data");const o=ze.getBestVersionForData(n,a);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=o;else if(t<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);const r=Po(t,a,n),c=Xe.getSymbolSize(t),l=new yo(c);return $o(l,t),So(l),Eo(l,t),ht(l,a,0),t>=7&&Bo(l,t),Io(l,r),isNaN(s)&&(s=gt.getBestMask(l,ht.bind(null,l,a))),gt.applyMask(s,l),ht(l,a,s),{modules:l,version:t,errorCorrectionLevel:a,maskPattern:s,segments:n}}Yt.create=function(t,a){if(typeof t>"u"||t==="")throw new Error("No input text");let s=dt.M,n,o;return typeof a<"u"&&(s=dt.from(a.errorCorrectionLevel,dt.M),n=ze.from(a.version),o=gt.from(a.maskPattern),a.toSJISFunc&&Xe.setToSJISFunction(a.toSJISFunc)),Ro(t,n,s,o)};var cn={},Rt={};(function(e){function t(a){if(typeof a=="number"&&(a=a.toString()),typeof a!="string")throw new Error("Color should be defined as hex string");let s=a.slice().replace("#","").split("");if(s.length<3||s.length===5||s.length>8)throw new Error("Invalid hex color: "+a);(s.length===3||s.length===4)&&(s=Array.prototype.concat.apply([],s.map(function(o){return[o,o]}))),s.length===6&&s.push("F","F");const n=parseInt(s.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:n&255,hex:"#"+s.slice(0,6).join("")}}e.getOptions=function(s){s||(s={}),s.color||(s.color={});const n=typeof s.margin>"u"||s.margin===null||s.margin<0?4:s.margin,o=s.width&&s.width>=21?s.width:void 0,r=s.scale||4;return{width:o,scale:o?4:r,margin:n,color:{dark:t(s.color.dark||"#000000ff"),light:t(s.color.light||"#ffffffff")},type:s.type,rendererOpts:s.rendererOpts||{}}},e.getScale=function(s,n){return n.width&&n.width>=s+n.margin*2?n.width/(s+n.margin*2):n.scale},e.getImageWidth=function(s,n){const o=e.getScale(s,n);return Math.floor((s+n.margin*2)*o)},e.qrToImageData=function(s,n,o){const r=n.modules.size,c=n.modules.data,l=e.getScale(r,o),u=Math.floor((r+o.margin*2)*l),y=o.margin*l,R=[o.color.light,o.color.dark];for(let k=0;k<u;k++)for(let m=0;m<u;m++){let N=(k*u+m)*4,x=o.color.light;if(k>=y&&m>=y&&k<u-y&&m<u-y){const D=Math.floor((k-y)/l),B=Math.floor((m-y)/l);x=R[c[D*r+B]?1:0]}s[N++]=x.r,s[N++]=x.g,s[N++]=x.b,s[N]=x.a}}})(Rt);(function(e){const t=Rt;function a(n,o,r){n.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=r,o.width=r,o.style.height=r+"px",o.style.width=r+"px"}function s(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(o,r,c){let l=c,u=r;typeof l>"u"&&(!r||!r.getContext)&&(l=r,r=void 0),r||(u=s()),l=t.getOptions(l);const y=t.getImageWidth(o.modules.size,l),R=u.getContext("2d"),k=R.createImageData(y,y);return t.qrToImageData(k.data,o,l),a(R,u,y),R.putImageData(k,0,0),u},e.renderToDataURL=function(o,r,c){let l=c;typeof l>"u"&&(!r||!r.getContext)&&(l=r,r=void 0),l||(l={});const u=e.render(o,r,l),y=l.type||"image/png",R=l.rendererOpts||{};return u.toDataURL(y,R.quality)}})(cn);var un={};const No=Rt;function qt(e,t){const a=e.a/255,s=t+'="'+e.hex+'"';return a<1?s+" "+t+'-opacity="'+a.toFixed(2).slice(1)+'"':s}function ft(e,t,a){let s=e+t;return typeof a<"u"&&(s+=" "+a),s}function xo(e,t,a){let s="",n=0,o=!1,r=0;for(let c=0;c<e.length;c++){const l=Math.floor(c%t),u=Math.floor(c/t);!l&&!o&&(o=!0),e[c]?(r++,c>0&&l>0&&e[c-1]||(s+=o?ft("M",l+a,.5+u+a):ft("m",n,0),n=0,o=!1),l+1<t&&e[c+1]||(s+=ft("h",r),r=0)):n++}return s}un.render=function(t,a,s){const n=No.getOptions(a),o=t.modules.size,r=t.modules.data,c=o+n.margin*2,l=n.color.light.a?"<path "+qt(n.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",u="<path "+qt(n.color.dark,"stroke")+' d="'+xo(r,o,n.margin)+'"/>',y='viewBox="0 0 '+c+" "+c+'"',k='<svg xmlns="http://www.w3.org/2000/svg" '+(n.width?'width="'+n.width+'" height="'+n.width+'" ':"")+y+' shape-rendering="crispEdges">'+l+u+`</svg>
`;return typeof s=="function"&&s(null,k),k};const Mo=Kn,vt=Yt,dn=cn,Lo=un;function Nt(e,t,a,s,n){const o=[].slice.call(arguments,1),r=o.length,c=typeof o[r-1]=="function";if(!c&&!Mo())throw new Error("Callback required as last argument");if(c){if(r<2)throw new Error("Too few arguments provided");r===2?(n=a,a=t,t=s=void 0):r===3&&(t.getContext&&typeof n>"u"?(n=s,s=void 0):(n=s,s=a,a=t,t=void 0))}else{if(r<1)throw new Error("Too few arguments provided");return r===1?(a=t,t=s=void 0):r===2&&!t.getContext&&(s=a,a=t,t=void 0),new Promise(function(l,u){try{const y=vt.create(a,s);l(e(y,t,s))}catch(y){u(y)}})}try{const l=vt.create(a,s);n(null,e(l,t,s))}catch(l){n(l)}}Me.create=vt.create;Me.toCanvas=Nt.bind(null,dn.render);Me.toDataURL=Nt.bind(null,dn.renderToDataURL);Me.toString=Nt.bind(null,function(e,t,a){return Lo.render(e,a)});const Uo={class:"card-box"},Do={class:"card-box-header"},Fo={class:"card-title"},Oo={key:0,class:"card-icon"},jo={class:"title-text"},zo={class:"action"},Ho={class:"card-box-body"},qo={__name:"card-box",props:{title:{type:String,default:""}},setup(e){const t=e;return(a,s)=>(U(),J("div",Uo,[f("div",Do,[f("div",Fo,[a.$slots.icon?(U(),J("span",Oo,[ct(a.$slots,"icon",{},void 0,!0)])):ee("",!0),f("span",jo,Q(t.title),1)]),f("div",zo,[ct(a.$slots,"action",{},void 0,!0)])]),f("div",Ho,[ct(a.$slots,"default",{},void 0,!0)])]))}},He=ne(qo,[["__scopeId","data-v-e614a729"]]),Vo=({file:e,category:t})=>Nn.post({headers:{"Content-Type":"multipart/form-data"},url:"/manage/upload",data:{file:e,category:t}}),Wo={class:"page-title-input"},Ko={class:"upload-logo"},Jo=["src"],Yo={__name:"page-title-input",props:{avatar:{type:String,default:""},value:{type:String,default:""},placeholder:{type:String,default:"请输入标题"},autoUpload:{type:Boolean,default:!0}},emits:["update:value","update:avatar","changeAvatar"],setup(e,{emit:t}){const a=t,s=e,n=r=>{a("update:value",r.srcElement.value)},o=r=>{let c={file:r[0],category:"icon"};s.autoUpload&&Vo(c).then(l=>{a("update:avatar",l.data.link)}),xn(r[0]).then(l=>{a("changeAvatar",{file:r[0],url:l})})};return(r,c)=>{const l=Ne;return U(),J("div",Wo,[f("div",Ko,[b(Ln,{onChange:o},{default:I(()=>[f("img",{class:"avatar",src:s.avatar},null,8,Jo)]),_:1})]),b(l,{size:"large",value:s.value,placeholder:e.placeholder,onInput:n},null,8,["value","placeholder"])])}}},Ue=ne(Yo,[["__scopeId","data-v-1a1bdb06"]]);var pn={exports:{}};/*! Pickr 1.9.1 MIT | https://github.com/Simonwep/pickr */(function(e,t){(function(a,s){e.exports=s()})(self,()=>(()=>{var a={d:(S,i)=>{for(var d in i)a.o(i,d)&&!a.o(S,d)&&Object.defineProperty(S,d,{enumerable:!0,get:i[d]})},o:(S,i)=>Object.prototype.hasOwnProperty.call(S,i),r:S=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(S,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(S,"__esModule",{value:!0})}},s={};a.d(s,{default:()=>et});var n={};function o(S,i,d,h,v={}){i instanceof HTMLCollection||i instanceof NodeList?i=Array.from(i):Array.isArray(i)||(i=[i]),Array.isArray(d)||(d=[d]);for(const p of i)for(const _ of d)p[S](_,h,{capture:!1,...v});return Array.prototype.slice.call(arguments,1)}a.r(n),a.d(n,{adjustableInputNumbers:()=>k,createElementFromString:()=>l,createFromTemplate:()=>u,eventPath:()=>y,off:()=>c,on:()=>r,resolveElement:()=>R});const r=o.bind(null,"addEventListener"),c=o.bind(null,"removeEventListener");function l(S){const i=document.createElement("div");return i.innerHTML=S.trim(),i.firstElementChild}function u(S){const i=(h,v)=>{const p=h.getAttribute(v);return h.removeAttribute(v),p},d=(h,v={})=>{const p=i(h,":obj"),_=i(h,":ref"),C=p?v[p]={}:v;_&&(v[_]=h);for(const g of Array.from(h.children)){const T=i(g,":arr"),M=d(g,T?{}:C);T&&(C[T]||(C[T]=[])).push(Object.keys(M).length?M:g)}return v};return d(l(S))}function y(S){let i=S.path||S.composedPath&&S.composedPath();if(i)return i;let d=S.target.parentElement;for(i=[S.target,d];d=d.parentElement;)i.push(d);return i.push(document,window),i}function R(S){return S instanceof Element?S:typeof S=="string"?S.split(/>>/g).reduce((i,d,h,v)=>(i=i.querySelector(d),h<v.length-1?i.shadowRoot:i),document):null}function k(S,i=d=>d){function d(h){const v=[.001,.01,.1][Number(h.shiftKey||2*h.ctrlKey)]*(h.deltaY<0?1:-1);let p=0,_=S.selectionStart;S.value=S.value.replace(/[\d.]+/g,(C,g)=>g<=_&&g+C.length>=_?(_=g,i(Number(C),v,p)):(p++,C)),S.focus(),S.setSelectionRange(_,_),h.preventDefault(),S.dispatchEvent(new Event("input"))}r(S,"focus",()=>r(window,"wheel",d,{passive:!1})),r(S,"blur",()=>c(window,"wheel",d))}const{min:m,max:N,floor:x,round:D}=Math;function B(S,i,d){i/=100,d/=100;const h=x(S=S/360*6),v=S-h,p=d*(1-i),_=d*(1-v*i),C=d*(1-(1-v)*i),g=h%6;return[255*[d,_,p,p,C,d][g],255*[C,d,d,_,p,p][g],255*[p,p,C,d,d,_][g]]}function P(S,i,d){const h=(2-(i/=100))*(d/=100)/2;return h!==0&&(i=h===1?0:h<.5?i*d/(2*h):i*d/(2-2*h)),[S,100*i,100*h]}function $(S,i,d){const h=m(S/=255,i/=255,d/=255),v=N(S,i,d),p=v-h;let _,C;if(p===0)_=C=0;else{C=p/v;const g=((v-S)/6+p/2)/p,T=((v-i)/6+p/2)/p,M=((v-d)/6+p/2)/p;S===v?_=M-T:i===v?_=1/3+g-M:d===v&&(_=2/3+T-g),_<0?_+=1:_>1&&(_-=1)}return[360*_,100*C,100*v]}function w(S,i,d,h){return i/=100,d/=100,[...$(255*(1-m(1,(S/=100)*(1-(h/=100))+h)),255*(1-m(1,i*(1-h)+h)),255*(1-m(1,d*(1-h)+h)))]}function E(S,i,d){i/=100;const h=2*(i*=(d/=100)<.5?d:1-d)/(d+i)*100,v=100*(d+i);return[S,isNaN(h)?0:h,v]}function A(S){return $(...S.match(/.{2}/g).map(i=>parseInt(i,16)))}function O(S){S=S.match(/^[a-zA-Z]+$/)?function(v){if(v.toLowerCase()==="black")return"#000";const p=document.createElement("canvas").getContext("2d");return p.fillStyle=v,p.fillStyle==="#000"?null:p.fillStyle}(S):S;const i={cmyk:/^cmyk\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)/i,rgba:/^rgba?\D+([\d.]+)(%?)\D+([\d.]+)(%?)\D+([\d.]+)(%?)\D*?(([\d.]+)(%?)|$)/i,hsla:/^hsla?\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D*?(([\d.]+)(%?)|$)/i,hsva:/^hsva?\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D*?(([\d.]+)(%?)|$)/i,hexa:/^#?(([\dA-Fa-f]{3,4})|([\dA-Fa-f]{6})|([\dA-Fa-f]{8}))$/i},d=v=>v.map(p=>/^(|\d+)\.\d+|\d+$/.test(p)?Number(p):void 0);let h;e:for(const v in i)if(h=i[v].exec(S))switch(v){case"cmyk":{const[,p,_,C,g]=d(h);if(p>100||_>100||C>100||g>100)break e;return{values:w(p,_,C,g),type:v}}case"rgba":{let[,p,,_,,C,,,g]=d(h);if(p=h[2]==="%"?p/100*255:p,_=h[4]==="%"?_/100*255:_,C=h[6]==="%"?C/100*255:C,g=h[9]==="%"?g/100:g,p>255||_>255||C>255||g<0||g>1)break e;return{values:[...$(p,_,C),g],a:g,type:v}}case"hexa":{let[,p]=h;p.length!==4&&p.length!==3||(p=p.split("").map(g=>g+g).join(""));const _=p.substring(0,6);let C=p.substring(6);return C=C?parseInt(C,16)/255:void 0,{values:[...A(_),C],a:C,type:v}}case"hsla":{let[,p,_,C,,g]=d(h);if(g=h[6]==="%"?g/100:g,p>360||_>100||C>100||g<0||g>1)break e;return{values:[...E(p,_,C),g],a:g,type:v}}case"hsva":{let[,p,_,C,,g]=d(h);if(g=h[6]==="%"?g/100:g,p>360||_>100||C>100||g<0||g>1)break e;return{values:[p,_,C,g],a:g,type:v}}}return{values:null,type:null}}function H(S=0,i=0,d=0,h=1){const v=(_,C)=>(g=-1)=>C(~g?_.map(T=>Number(T.toFixed(g))):_),p={h:S,s:i,v:d,a:h,toHSVA(){const _=[p.h,p.s,p.v,p.a];return _.toString=v(_,C=>`hsva(${C[0]}, ${C[1]}%, ${C[2]}%, ${p.a})`),_},toHSLA(){const _=[...P(p.h,p.s,p.v),p.a];return _.toString=v(_,C=>`hsla(${C[0]}, ${C[1]}%, ${C[2]}%, ${p.a})`),_},toRGBA(){const _=[...B(p.h,p.s,p.v),p.a];return _.toString=v(_,C=>`rgba(${C[0]}, ${C[1]}, ${C[2]}, ${p.a})`),_},toCMYK(){const _=function(C,g,T){const M=B(C,g,T),L=M[0]/255,z=M[1]/255,j=M[2]/255,q=m(1-L,1-z,1-j);return[100*(q===1?0:(1-L-q)/(1-q)),100*(q===1?0:(1-z-q)/(1-q)),100*(q===1?0:(1-j-q)/(1-q)),100*q]}(p.h,p.s,p.v);return _.toString=v(_,C=>`cmyk(${C[0]}%, ${C[1]}%, ${C[2]}%, ${C[3]}%)`),_},toHEXA(){const _=function(g,T,M){return B(g,T,M).map(L=>D(L).toString(16).padStart(2,"0"))}(p.h,p.s,p.v),C=p.a>=1?"":Number((255*p.a).toFixed(0)).toString(16).toUpperCase().padStart(2,"0");return C&&_.push(C),_.toString=()=>`#${_.join("").toUpperCase()}`,_},clone:()=>H(p.h,p.s,p.v,p.a)};return p}const W=S=>Math.max(Math.min(S,1),0);function Y(S){const i={options:Object.assign({lock:null,onchange:()=>0,onstop:()=>0},S),_keyboard(p){const{options:_}=i,{type:C,key:g}=p;if(document.activeElement===_.wrapper){const{lock:T}=i.options,M=g==="ArrowUp",L=g==="ArrowRight",z=g==="ArrowDown",j=g==="ArrowLeft";if(C==="keydown"&&(M||L||z||j)){let q=0,Z=0;T==="v"?q=M||L?1:-1:T==="h"?q=M||L?-1:1:(Z=M?-1:z?1:0,q=j?-1:L?1:0),i.update(W(i.cache.x+.01*q),W(i.cache.y+.01*Z)),p.preventDefault()}else g.startsWith("Arrow")&&(i.options.onstop(),p.preventDefault())}},_tapstart(p){r(document,["mouseup","touchend","touchcancel"],i._tapstop),r(document,["mousemove","touchmove"],i._tapmove),p.cancelable&&p.preventDefault(),i._tapmove(p)},_tapmove(p){const{options:_,cache:C}=i,{lock:g,element:T,wrapper:M}=_,L=M.getBoundingClientRect();let z=0,j=0;if(p){const fe=p&&p.touches&&p.touches[0];z=p?(fe||p).clientX:0,j=p?(fe||p).clientY:0,z<L.left?z=L.left:z>L.left+L.width&&(z=L.left+L.width),j<L.top?j=L.top:j>L.top+L.height&&(j=L.top+L.height),z-=L.left,j-=L.top}else C&&(z=C.x*L.width,j=C.y*L.height);g!=="h"&&(T.style.left=`calc(${z/L.width*100}% - ${T.offsetWidth/2}px)`),g!=="v"&&(T.style.top=`calc(${j/L.height*100}% - ${T.offsetHeight/2}px)`),i.cache={x:z/L.width,y:j/L.height};const q=W(z/L.width),Z=W(j/L.height);switch(g){case"v":return _.onchange(q);case"h":return _.onchange(Z);default:return _.onchange(q,Z)}},_tapstop(){i.options.onstop(),c(document,["mouseup","touchend","touchcancel"],i._tapstop),c(document,["mousemove","touchmove"],i._tapmove)},trigger(){i._tapmove()},update(p=0,_=0){const{left:C,top:g,width:T,height:M}=i.options.wrapper.getBoundingClientRect();i.options.lock==="h"&&(_=p),i._tapmove({clientX:C+T*p,clientY:g+M*_})},destroy(){const{options:p,_tapstart:_,_keyboard:C}=i;c(document,["keydown","keyup"],C),c([p.wrapper,p.element],"mousedown",_),c([p.wrapper,p.element],"touchstart",_,{passive:!1})}},{options:d,_tapstart:h,_keyboard:v}=i;return r([d.wrapper,d.element],"mousedown",h),r([d.wrapper,d.element],"touchstart",h,{passive:!1}),r(document,["keydown","keyup"],v),i}function K(S={}){S=Object.assign({onchange:()=>0,className:"",elements:[]},S);const i=r(S.elements,"click",d=>{S.elements.forEach(h=>h.classList[d.target===h?"add":"remove"](S.className)),S.onchange(d),d.stopPropagation()});return{destroy:()=>c(...i)}}const G={variantFlipOrder:{start:"sme",middle:"mse",end:"ems"},positionFlipOrder:{top:"tbrl",right:"rltb",bottom:"btrl",left:"lrbt"},position:"bottom",margin:8,padding:0},F=(S,i,d)=>{const h=typeof S!="object"||S instanceof HTMLElement?{reference:S,popper:i,...d}:S;return{update(v=h){const{reference:p,popper:_}=Object.assign(h,v);if(!_||!p)throw new Error("Popper- or reference-element missing.");return((C,g,T)=>{const{container:M,arrow:L,margin:z,padding:j,position:q,variantFlipOrder:Z,positionFlipOrder:fe}={container:document.documentElement.getBoundingClientRect(),...G,...T},{left:tt,top:nt}=g.style;g.style.left="0",g.style.top="0";const oe=C.getBoundingClientRect(),ie=g.getBoundingClientRect(),gn={t:oe.top-ie.height-z,b:oe.bottom+z,r:oe.right+z,l:oe.left-ie.width-z},mn={vs:oe.left,vm:oe.left+oe.width/2-ie.width/2,ve:oe.left+oe.width-ie.width,hs:oe.top,hm:oe.bottom-oe.height/2-ie.height/2,he:oe.bottom-ie.height},[vn,yn="middle"]=q.split("-"),bn=fe[vn],wn=Z[yn],{top:Lt,left:Ut,bottom:Dt,right:Ft}=M;for(const Ae of bn){const _e=Ae==="t"||Ae==="b";let $e=gn[Ae];const[ot,at]=_e?["top","left"]:["left","top"],[st,rt]=_e?[ie.height,ie.width]:[ie.width,ie.height],[Cn,kn]=_e?[Dt,Ft]:[Ft,Dt],[An,$n]=_e?[Lt,Ut]:[Ut,Lt];if(!($e<An||$e+st+j>Cn))for(const it of wn){let Se=mn[(_e?"v":"h")+it];if(!(Se<$n||Se+rt+j>kn)){if(Se-=ie[at],$e-=ie[ot],g.style[at]=`${Se}px`,g.style[ot]=`${$e}px`,L){const lt=_e?oe.width/2:oe.height/2,De=rt/2,Ot=lt>De,Sn=Se+{s:Ot?De:lt,m:De,e:Ot?De:rt-lt}[it],En=$e+{t:st,b:0,r:0,l:st}[Ae];L.style[at]=`${Sn}px`,L.style[ot]=`${En}px`}return Ae+it}}}return g.style.left=tt,g.style.top=nt,null})(p,_,h)}}},ce=class ce{constructor(i){ae(this,"_initializingActive",!0);ae(this,"_recalc",!0);ae(this,"_nanopop",null);ae(this,"_root",null);ae(this,"_color",H());ae(this,"_lastColor",H());ae(this,"_swatchColors",[]);ae(this,"_setupAnimationFrame",null);ae(this,"_eventListener",{init:[],save:[],hide:[],show:[],clear:[],change:[],changestop:[],cancel:[],swatchselect:[]});this.options=i=Object.assign({...ce.DEFAULT_OPTIONS},i);const{swatches:d,components:h,theme:v,sliders:p,lockOpacity:_,padding:C}=i;["nano","monolith"].includes(v)&&!p&&(i.sliders="h"),h.interaction||(h.interaction={});const{preview:g,opacity:T,hue:M,palette:L}=h;h.opacity=!_&&T,h.palette=L||g||T||M,this._preBuild(),this._buildComponents(),this._bindEvents(),this._finalBuild(),d&&d.length&&d.forEach(Z=>this.addSwatch(Z));const{button:z,app:j}=this._root;this._nanopop=F(z,j,{margin:C}),z.setAttribute("role","button"),z.setAttribute("aria-label",this._t("btn:toggle"));const q=this;this._setupAnimationFrame=requestAnimationFrame(function Z(){if(!j.offsetWidth)return requestAnimationFrame(Z);q.setColor(i.default),q._rePositioningPicker(),i.defaultRepresentation&&(q._representation=i.defaultRepresentation,q.setColorRepresentation(q._representation)),i.showAlways&&q.show(),q._initializingActive=!1,q._emit("init")})}_preBuild(){const{options:i}=this;for(const d of["el","container"])i[d]=R(i[d]);this._root=(d=>{const{components:h,useAsButton:v,inline:p,appClass:_,theme:C,lockOpacity:g}=d.options,T=j=>j?"":'style="display:none" hidden',M=j=>d._t(j),L=u(`
      <div :ref="root" class="pickr">

        ${v?"":'<button type="button" :ref="button" class="pcr-button"></button>'}

        <div :ref="app" class="pcr-app ${_||""}" data-theme="${C}" ${p?'style="position: unset"':""} aria-label="${M("ui:dialog")}" role="window">
          <div class="pcr-selection" ${T(h.palette)}>
            <div :obj="preview" class="pcr-color-preview" ${T(h.preview)}>
              <button type="button" :ref="lastColor" class="pcr-last-color" aria-label="${M("btn:last-color")}"></button>
              <div :ref="currentColor" class="pcr-current-color"></div>
            </div>

            <div :obj="palette" class="pcr-color-palette">
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="palette" class="pcr-palette" tabindex="0" aria-label="${M("aria:palette")}" role="listbox"></div>
            </div>

            <div :obj="hue" class="pcr-color-chooser" ${T(h.hue)}>
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="slider" class="pcr-hue pcr-slider" tabindex="0" aria-label="${M("aria:hue")}" role="slider"></div>
            </div>

            <div :obj="opacity" class="pcr-color-opacity" ${T(h.opacity)}>
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="slider" class="pcr-opacity pcr-slider" tabindex="0" aria-label="${M("aria:opacity")}" role="slider"></div>
            </div>
          </div>

          <div class="pcr-swatches ${h.palette?"":"pcr-last"}" :ref="swatches"></div>

          <div :obj="interaction" class="pcr-interaction" ${T(Object.keys(h.interaction).length)}>
            <input :ref="result" class="pcr-result" type="text" spellcheck="false" ${T(h.interaction.input)} aria-label="${M("aria:input")}">

            <input :arr="options" class="pcr-type" data-type="HEXA" value="${g?"HEX":"HEXA"}" type="button" ${T(h.interaction.hex)}>
            <input :arr="options" class="pcr-type" data-type="RGBA" value="${g?"RGB":"RGBA"}" type="button" ${T(h.interaction.rgba)}>
            <input :arr="options" class="pcr-type" data-type="HSLA" value="${g?"HSL":"HSLA"}" type="button" ${T(h.interaction.hsla)}>
            <input :arr="options" class="pcr-type" data-type="HSVA" value="${g?"HSV":"HSVA"}" type="button" ${T(h.interaction.hsva)}>
            <input :arr="options" class="pcr-type" data-type="CMYK" value="CMYK" type="button" ${T(h.interaction.cmyk)}>

            <input :ref="save" class="pcr-save" value="${M("btn:save")}" type="button" ${T(h.interaction.save)} aria-label="${M("aria:btn:save")}">
            <input :ref="cancel" class="pcr-cancel" value="${M("btn:cancel")}" type="button" ${T(h.interaction.cancel)} aria-label="${M("aria:btn:cancel")}">
            <input :ref="clear" class="pcr-clear" value="${M("btn:clear")}" type="button" ${T(h.interaction.clear)} aria-label="${M("aria:btn:clear")}">
          </div>
        </div>
      </div>
    `),z=L.interaction;return z.options.find(j=>!j.hidden&&!j.classList.add("active")),z.type=()=>z.options.find(j=>j.classList.contains("active")),L})(this),i.useAsButton&&(this._root.button=i.el),i.container.appendChild(this._root.root)}_finalBuild(){const i=this.options,d=this._root;if(i.container.removeChild(d.root),i.inline){const h=i.el.parentElement;i.el.nextSibling?h.insertBefore(d.app,i.el.nextSibling):h.appendChild(d.app)}else i.container.appendChild(d.app);i.useAsButton?i.inline&&i.el.remove():i.el.parentNode.replaceChild(d.root,i.el),i.disabled&&this.disable(),i.comparison||(d.button.style.transition="none",i.useAsButton||(d.preview.lastColor.style.transition="none")),this.hide()}_buildComponents(){const i=this,d=this.options.components,h=(i.options.sliders||"v").repeat(2),[v,p]=h.match(/^[vh]+$/g)?h:[],_=()=>this._color||(this._color=this._lastColor.clone()),C={palette:Y({element:i._root.palette.picker,wrapper:i._root.palette.palette,onstop:()=>i._emit("changestop","slider",i),onchange(g,T){if(!d.palette)return;const M=_(),{_root:L,options:z}=i,{lastColor:j,currentColor:q}=L.preview;i._recalc&&(M.s=100*g,M.v=100-100*T,M.v<0&&(M.v=0),i._updateOutput("slider"));const Z=M.toRGBA().toString(0);this.element.style.background=Z,this.wrapper.style.background=`
                        linear-gradient(to top, rgba(0, 0, 0, ${M.a}), transparent),
                        linear-gradient(to left, hsla(${M.h}, 100%, 50%, ${M.a}), rgba(255, 255, 255, ${M.a}))
                    `,z.comparison?z.useAsButton||i._lastColor||j.style.setProperty("--pcr-color",Z):(L.button.style.setProperty("--pcr-color",Z),L.button.classList.remove("clear"));const fe=M.toHEXA().toString();for(const{el:tt,color:nt}of i._swatchColors)tt.classList[fe===nt.toHEXA().toString()?"add":"remove"]("pcr-active");q.style.setProperty("--pcr-color",Z)}}),hue:Y({lock:p==="v"?"h":"v",element:i._root.hue.picker,wrapper:i._root.hue.slider,onstop:()=>i._emit("changestop","slider",i),onchange(g){if(!d.hue||!d.palette)return;const T=_();i._recalc&&(T.h=360*g),this.element.style.backgroundColor=`hsl(${T.h}, 100%, 50%)`,C.palette.trigger()}}),opacity:Y({lock:v==="v"?"h":"v",element:i._root.opacity.picker,wrapper:i._root.opacity.slider,onstop:()=>i._emit("changestop","slider",i),onchange(g){if(!d.opacity||!d.palette)return;const T=_();i._recalc&&(T.a=Math.round(100*g)/100),this.element.style.background=`rgba(0, 0, 0, ${T.a})`,C.palette.trigger()}}),selectable:K({elements:i._root.interaction.options,className:"active",onchange(g){i._representation=g.target.getAttribute("data-type").toUpperCase(),i._recalc&&i._updateOutput("swatch")}})};this._components=C}_bindEvents(){const{_root:i,options:d}=this,h=[r(i.interaction.clear,"click",()=>this._clearColor()),r([i.interaction.cancel,i.preview.lastColor],"click",()=>{this.setHSVA(...(this._lastColor||this._color).toHSVA(),!0),this._emit("cancel")}),r(i.interaction.save,"click",()=>{!this.applyColor()&&!d.showAlways&&this.hide()}),r(i.interaction.result,["keyup","input"],v=>{this.setColor(v.target.value,!0)&&!this._initializingActive&&(this._emit("change",this._color,"input",this),this._emit("changestop","input",this)),v.stopImmediatePropagation()}),r(i.interaction.result,["focus","blur"],v=>{this._recalc=v.type==="blur",this._recalc&&this._updateOutput(null)}),r([i.palette.palette,i.palette.picker,i.hue.slider,i.hue.picker,i.opacity.slider,i.opacity.picker],["mousedown","touchstart"],()=>this._recalc=!0,{passive:!0})];if(!d.showAlways){const v=d.closeWithKey;h.push(r(i.button,"click",()=>this.isOpen()?this.hide():this.show()),r(document,"keyup",p=>this.isOpen()&&(p.key===v||p.code===v)&&this.hide()),r(document,["touchstart","mousedown"],p=>{this.isOpen()&&!y(p).some(_=>_===i.app||_===i.button)&&this.hide()},{capture:!0}))}if(d.adjustableNumbers){const v={rgba:[255,255,255,1],hsva:[360,100,100,1],hsla:[360,100,100,1],cmyk:[100,100,100,100]};k(i.interaction.result,(p,_,C)=>{const g=v[this.getColorRepresentation().toLowerCase()];if(g){const T=g[C],M=p+(T>=100?1e3*_:_);return M<=0?0:Number((M<T?M:T).toPrecision(3))}return p})}if(d.autoReposition&&!d.inline){let v=null;const p=this;h.push(r(window,["scroll","resize"],()=>{p.isOpen()&&(d.closeOnScroll&&p.hide(),v===null?(v=setTimeout(()=>v=null,100),requestAnimationFrame(function _(){p._rePositioningPicker(),v!==null&&requestAnimationFrame(_)})):(clearTimeout(v),v=setTimeout(()=>v=null,100)))},{capture:!0}))}this._eventBindings=h}_rePositioningPicker(){const{options:i}=this;if(!i.inline&&!this._nanopop.update({container:document.body.getBoundingClientRect(),position:i.position})){const d=this._root.app,h=d.getBoundingClientRect();d.style.top=(window.innerHeight-h.height)/2+"px",d.style.left=(window.innerWidth-h.width)/2+"px"}}_updateOutput(i){const{_root:d,_color:h,options:v}=this;if(d.interaction.type()){const p=`to${d.interaction.type().getAttribute("data-type")}`;d.interaction.result.value=typeof h[p]=="function"?h[p]().toString(v.outputPrecision):""}!this._initializingActive&&this._recalc&&this._emit("change",h,i,this)}_clearColor(i=!1){const{_root:d,options:h}=this;h.useAsButton||d.button.style.setProperty("--pcr-color","rgba(0, 0, 0, 0.15)"),d.button.classList.add("clear"),h.showAlways||this.hide(),this._lastColor=null,this._initializingActive||i||(this._emit("save",null),this._emit("clear"))}_parseLocalColor(i){const{values:d,type:h,a:v}=O(i),{lockOpacity:p}=this.options,_=v!==void 0&&v!==1;return d&&d.length===3&&(d[3]=void 0),{values:!d||p&&_?null:d,type:h}}_t(i){return this.options.i18n[i]||ce.I18N_DEFAULTS[i]}_emit(i,...d){this._eventListener[i].forEach(h=>h(...d,this))}on(i,d){return this._eventListener[i].push(d),this}off(i,d){const h=this._eventListener[i]||[],v=h.indexOf(d);return~v&&h.splice(v,1),this}addSwatch(i){const{values:d}=this._parseLocalColor(i);if(d){const{_swatchColors:h,_root:v}=this,p=H(...d),_=l(`<button type="button" style="--pcr-color: ${p.toRGBA().toString(0)}" aria-label="${this._t("btn:swatch")}"/>`);return v.swatches.appendChild(_),h.push({el:_,color:p}),this._eventBindings.push(r(_,"click",()=>{this.setHSVA(...p.toHSVA(),!0),this._emit("swatchselect",p),this._emit("change",p,"swatch",this)})),!0}return!1}removeSwatch(i){const d=this._swatchColors[i];if(d){const{el:h}=d;return this._root.swatches.removeChild(h),this._swatchColors.splice(i,1),!0}return!1}applyColor(i=!1){const{preview:d,button:h}=this._root,v=this._color.toRGBA().toString(0);return d.lastColor.style.setProperty("--pcr-color",v),this.options.useAsButton||h.style.setProperty("--pcr-color",v),h.classList.remove("clear"),this._lastColor=this._color.clone(),this._initializingActive||i||this._emit("save",this._color),this}destroy(){cancelAnimationFrame(this._setupAnimationFrame),this._eventBindings.forEach(i=>c(...i)),Object.keys(this._components).forEach(i=>this._components[i].destroy())}destroyAndRemove(){this.destroy();const{root:i,app:d}=this._root;i.parentElement&&i.parentElement.removeChild(i),d.parentElement.removeChild(d),Object.keys(this).forEach(h=>this[h]=null)}hide(){return!!this.isOpen()&&(this._root.app.classList.remove("visible"),this._emit("hide"),!0)}show(){return!this.options.disabled&&!this.isOpen()&&(this._root.app.classList.add("visible"),this._rePositioningPicker(),this._emit("show",this._color),this)}isOpen(){return this._root.app.classList.contains("visible")}setHSVA(i=360,d=0,h=0,v=1,p=!1){const _=this._recalc;if(this._recalc=!1,i<0||i>360||d<0||d>100||h<0||h>100||v<0||v>1)return!1;this._color=H(i,d,h,v);const{hue:C,opacity:g,palette:T}=this._components;return C.update(i/360),g.update(v),T.update(d/100,1-h/100),p||this.applyColor(),_&&this._updateOutput(),this._recalc=_,!0}setColor(i,d=!1){if(i===null)return this._clearColor(d),!0;const{values:h,type:v}=this._parseLocalColor(i);if(h){const p=v.toUpperCase(),{options:_}=this._root.interaction,C=_.find(g=>g.getAttribute("data-type")===p);if(C&&!C.hidden)for(const g of _)g.classList[g===C?"add":"remove"]("active");return!!this.setHSVA(...h,d)&&this.setColorRepresentation(p)}return!1}setColorRepresentation(i){return i=i.toUpperCase(),!!this._root.interaction.options.find(d=>d.getAttribute("data-type").startsWith(i)&&!d.click())}getColorRepresentation(){return this._representation}getColor(){return this._color}getSelectedColor(){return this._lastColor}getRoot(){return this._root}disable(){return this.hide(),this.options.disabled=!0,this._root.button.classList.add("disabled"),this}enable(){return this.options.disabled=!1,this._root.button.classList.remove("disabled"),this}};ae(ce,"utils",n),ae(ce,"version","1.9.1"),ae(ce,"I18N_DEFAULTS",{"ui:dialog":"color picker dialog","btn:toggle":"toggle color picker dialog","btn:swatch":"color swatch","btn:last-color":"use previous color","btn:save":"Save","btn:cancel":"Cancel","btn:clear":"Clear","aria:btn:save":"save and close","aria:btn:cancel":"cancel and close","aria:btn:clear":"clear and close","aria:input":"color input field","aria:palette":"color selection area","aria:hue":"hue selection slider","aria:opacity":"selection slider"}),ae(ce,"DEFAULT_OPTIONS",{appClass:null,theme:"classic",useAsButton:!1,padding:8,disabled:!1,comparison:!0,closeOnScroll:!1,outputPrecision:0,lockOpacity:!1,autoReposition:!0,container:"body",components:{interaction:{}},i18n:{},swatches:null,inline:!1,sliders:null,default:"#42445a",defaultRepresentation:null,position:"bottom-middle",adjustableNumbers:!0,showAlways:!1,closeWithKey:"Escape"}),ae(ce,"create",i=>new ce(i));let et=ce;return s=s.default})())})(pn);var Go=pn.exports;const Qo=Pn(Go),Xo={class:"color-picker-wrapper"},Zo={class:"color-picker-action"},ea={__name:"index",props:{value:{type:String,default:"#000000"}},emits:["update:value","change"],setup(e,{emit:t}){const a=t,s=e,n=V(null);return qe(()=>{Qo.create({el:n.value,container:"body",theme:"nano",default:s.value,defaultRepresentation:"HEX",swatches:["rgba(244, 67, 54, 1)","rgba(233, 30, 99, 0.95)","rgba(156, 39, 176, 0.9)","rgba(103, 58, 183, 0.85)","rgba(63, 81, 181, 0.8)","rgba(33, 150, 243, 0.75)","rgba(3, 169, 244, 0.7)","rgba(0, 188, 212, 0.7)","rgba(0, 150, 136, 0.75)","rgba(76, 175, 80, 0.8)","rgba(139, 195, 74, 0.85)","rgba(205, 220, 57, 0.9)","rgba(255, 235, 59, 0.95)","rgba(255, 193, 7, 1)"],components:{preview:!0,opacity:!0,hue:!0,interaction:{hex:!1,rgba:!1,hsla:!1,hsva:!1,cmyk:!1,input:!0,clear:!1,save:!0}}}).on("save",r=>{let c=r.toHEXA().toString();a("update:value",c),a("change",c)})}),(o,r)=>{const c=Ne;return U(),J("div",Xo,[b(c,{value:s.value,readonly:!0,placeholder:"Basic usage"},null,8,["value"]),f("span",Zo,[f("span",{ref_key:"colorPicker",ref:n},null,512)])])}}},yt=ne(ea,[["__scopeId","data-v-63a5d8b8"]]),Ze=e=>(Pe("data-v-9fed585f"),e=e(),Te(),e),ta={class:"web-app-box"},na={class:"box-left"},oa={class:"box-wrapper"},aa={class:"web-app-info"},sa={class:"web-app-link"},ra={class:"link-action"},ia=["src"],la={class:"access-restrictions form-box"},ca={class:"form-item"},ua=Ze(()=>f("div",{class:"form-item-label"},"访问限制",-1)),da={class:"form-item-body"},pa=Ze(()=>f("span",{class:"default-text-color"},"无限制",-1)),ha=Ze(()=>f("span",{class:"default-text-color"},"登录后才可访问",-1)),fa={class:"box-wrapper"},_a={class:"web-app-style form-box"},ga=Ze(()=>f("div",{class:"box-right"},[f("div",{class:"demo-box"},[f("img",{class:"preview-img",src:Wn,alt:""})])],-1)),ma={__name:"web-app",setup(e){const t=wt(),{robotInfo:a,external_config_h5:s}=bt(t),{h5_website:n}=a.value,{getRobot:o}=t,r=V(""),c=V(),l=pe({logo:s.value.logo,pageTitle:s.value.pageTitle,navbarShow:s.value.navbarShow,lang:s.value.lang,pageStyle:s.value.pageStyle}),u={lang:[{required:!0,message:"请选择语言",trigger:"change"}],pageTitle:[{required:!0,message:"请输入标题",trigger:"input"},{trigger:"input",validator:()=>l.logo?Promise.resolve():Promise.reject("请上传logo")}],navbarShow:[{required:!0,message:"请选择是否显示标题栏",trigger:"change"}],pageStyle:{navbarBackgroundColor:[{required:!0,message:"请选择标题栏颜色",trigger:"change"}]}},y=V(1),R=()=>{let B={...ge(s.value)};B.accessRestrictionsType=y.value,k(B)},k=B=>{const{id:P}=a.value;Jt({id:P,external_config_h5:JSON.stringify(B)}).then(()=>{o(P),se.success("保存成功")})},m=()=>{c.value.validate().then(()=>{let B={...ge(l)};B.accessRestrictionsType=y.value,k(B)}).catch(B=>{})},N=()=>{window.open(n)},x=()=>{Re(n),se.success("复制成功")};return(async()=>{try{r.value=await Me.toDataURL(n)}catch(B){console.error(B)}})(),(B,P)=>{const $=Ct,w=Ke,E=Fn,A=Un,O=Dn,H=xe,W=Et,Y=Bt,K=ke;return U(),J("div",ta,[f("div",na,[f("div",oa,[b(He,{title:"WebApp 链接"},{icon:I(()=>[b($,{name:"circularNeedle",style:{"font-size":"16px",color:"#262626"}})]),default:I(()=>[f("div",aa,[f("div",sa,Q(le(n)),1),f("div",ra,[b(w,{class:"action-btn",type:"primary",ghost:"",onClick:x},{default:I(()=>[X("复 制")]),_:1}),b(w,{class:"action-btn",onClick:N},{default:I(()=>[X("预 览")]),_:1}),b(E,{color:"#fff",placement:"top"},{title:I(()=>[f("img",{style:{width:"180px"},src:r.value,alt:""},null,8,ia)]),default:I(()=>[b(w,{class:"action-btn"},{default:I(()=>[X("二维码")]),_:1})]),_:1})]),f("div",la,[f("div",ca,[ua,f("div",da,[b(O,{value:y.value,"onUpdate:value":P[0]||(P[0]=G=>y.value=G),onChange:R},{default:I(()=>[b(A,{value:1},{default:I(()=>[pa]),_:1}),b(A,{value:2},{default:I(()=>[ha]),_:1})]),_:1},8,["value"])])])])])]),_:1})]),f("div",fa,[b(He,{title:"样式设置"},{icon:I(()=>[b($,{name:"phone",style:{"font-size":"16px",color:"#262626"}})]),action:I(()=>[f("a",{onClick:m},"保存")]),default:I(()=>[f("div",_a,[b(K,{ref_key:"formRef",ref:c,layout:"vertical",model:l,rules:u},{default:I(()=>[b(H,{class:"form-item",label:"是否显示标题栏",name:"navbarShow"},{default:I(()=>[b(O,{value:l.navbarShow,"onUpdate:value":P[1]||(P[1]=G=>l.navbarShow=G),name:"navbarShow"},{default:I(()=>[b(A,{value:1},{default:I(()=>[X("显示")]),_:1}),b(A,{value:2},{default:I(()=>[X("不显示")]),_:1})]),_:1},8,["value"])]),_:1}),b(H,{class:"form-item",label:"页面标题",name:"pageTitle"},{default:I(()=>[b(Ue,{avatar:l.logo,"onUpdate:avatar":P[2]||(P[2]=G=>l.logo=G),value:l.pageTitle,"onUpdate:value":P[3]||(P[3]=G=>l.pageTitle=G)},null,8,["avatar","value"])]),_:1}),b(H,{class:"form-item",label:"标题栏颜色",name:["pageStyle","navbarBackgroundColor"]},{default:I(()=>[b(yt,{value:l.pageStyle.navbarBackgroundColor,"onUpdate:value":P[4]||(P[4]=G=>l.pageStyle.navbarBackgroundColor=G)},null,8,["value"])]),_:1}),b(H,{class:"form-item",label:"语言",name:"lang"},{default:I(()=>[b(Y,{style:{width:"180px"},value:l.lang,"onUpdate:value":P[5]||(P[5]=G=>l.lang=G),placeholder:"请选择语言"},{default:I(()=>[b(W,{value:"zh-CN"},{default:I(()=>[X("简体中文")]),_:1})]),_:1},8,["value"])]),_:1})]),_:1},8,["model"])])]),_:1})])]),ga])}}},va=ne(ma,[["__scopeId","data-v-9fed585f"]]),ya="/assets/img/embed_website-CLHDNagr.png";function ba({pc_domain:e,robot_key:t}){var a=`<script>
  (function (z, h, i, m, a, j, s) {
    z[m] = z[m] || function () {
      (z[m].a = z[m].a || []).push(arguments);
    };
    (j = h.createElement(i)), (s = h.getElementsByTagName(i)[0]);
    j.async = true;
    j.charset = "UTF-8";
    j.setAttribute(
      "data-json",
      JSON.stringify({
        robot_key: "${t}",
        language: "zh-CN",
      })
    );
    j.id = "ai_chat_js";
    j.src = '${e}/sdk/ai-chat-sdk.umd.cjs';
    s.parentNode.insertBefore(j, s);
  })(window, document, "script", "_ai_chat");
<\/script>`;return a}const wa={class:"gradient-color-picker"},Ca={class:"color-picker-box"},ka={class:"gradient-type-select"},Aa={class:"color-item"},$a={class:"right-arrow"},Sa={class:"color-item"},Ea={__name:"gradient-color-picker",props:{value:{type:String,default:""}},emits:["update:value"],setup(e,{emit:t}){const a=t,s=e,n=ke.useInjectFormItemContext(),o=V([{key:1,label:"单色",value:"color",type:"color"},{key:2,label:"线性渐变（横向）",value:"to right",type:"linear-gradient"},{key:3,label:"线性渐变（竖向）",value:"to bottom",type:"linear-gradient"},{key:4,label:"径向渐变",value:"circle",type:"radial-gradient"}]),r=V("linear-gradient"),c=V("to right"),l=V("#2435E7"),u=V("#01A0FB"),y=Ve(()=>r.value=="color"?l.value:`${r.value}(${c.value}, ${l.value}, ${u.value})`);jt(()=>y.value,()=>{let k=[r.value,c.value,l.value,u.value].join(",");a("update:value",k),n.onFieldChange()}),jt(()=>s.value,()=>{const k=s.value.split(","),[m,N,x,D]=k;r.value=m,c.value=N,l.value=x,u.value=D},{immediate:!0});const R=(k,m)=>{r.value=m.type,c.value=k,n.onFieldChange()};return(k,m)=>{const N=Et,x=Bt;return U(),J("div",wa,[f("div",Ca,[f("div",ka,[b(x,{value:c.value,style:{width:"180px"},onChange:R},{default:I(()=>[(U(!0),J(Be,null,We(o.value,D=>(U(),te(N,{value:D.value,type:D.type,key:D.key},{default:I(()=>[X(Q(D.label),1)]),_:2},1032,["value","type"]))),128))]),_:1},8,["value"])]),f("div",Aa,[b(yt,{value:l.value,"onUpdate:value":m[0]||(m[0]=D=>l.value=D)},null,8,["value"])]),r.value!="color"?(U(),J(Be,{key:0},[f("div",$a,[b(le(On))]),f("div",Sa,[b(yt,{value:u.value,"onUpdate:value":m[1]||(m[1]=D=>u.value=D)},null,8,["value"])])],64)):ee("",!0)])])}}},Ba=ne(Ea,[["__scopeId","data-v-dfea777d"]]),Ia=e=>(Pe("data-v-5c94f72f"),e=e(),Te(),e),Pa={class:"web-app-box"},Ta={class:"box-left"},Ra={class:"box-wrapper"},Na={class:"web-app-style form-box"},xa={class:"box-wrapper"},Ma={class:"sdk-code"},La=Ia(()=>f("div",{class:"box-right"},[f("div",{class:"demo-box"},[f("img",{class:"preview-img",src:ya,alt:""})])],-1)),Ua={__name:"embed-website",setup(e){const t=wt(),{robotInfo:a,external_config_pc:s}=bt(t),{getRobot:n}=t,o=ba(a.value),r=()=>{Re(o),se.success("复制成功")},c=V(),l=pe({headTitle:s.value.headTitle,headSubTitle:s.value.headSubTitle,headImage:s.value.headImage,lang:s.value.lang,pageStyle:s.value.pageStyle}),u={lang:[{required:!0,message:"请选择语言",trigger:"change"}],headTitle:[{required:!0,message:"请输入标题",trigger:"input"},{trigger:"input",validator:()=>l.headImage?Promise.resolve():Promise.reject("请上传logo")}],pageStyle:{headBackgroundColor:[{required:!0,message:"请选择颜色",trigger:"change"}]}},y=()=>{const{id:k}=a.value;let m={...ge(l)};Jt({id:k,external_config_pc:JSON.stringify(m)}).then(()=>{n(k),se.success("保存成功")})},R=()=>{c.value.validate().then(()=>{y()}).catch(k=>{})};return(k,m)=>{const N=Ct,x=xe,D=jn,B=Et,P=Bt,$=ke;return U(),J("div",Pa,[f("div",Ta,[f("div",Ra,[b(He,{title:"样式设置"},{icon:I(()=>[b(N,{name:"pc",style:{"font-size":"16px",color:"#262626"}})]),action:I(()=>[f("a",{onClick:R},"保存")]),default:I(()=>[f("div",Na,[b($,{ref_key:"formRef",ref:c,layout:"vertical",model:l,rules:u},{default:I(()=>[b(x,{class:"form-item",label:"页面标题",name:"headTitle"},{default:I(()=>[b(Ue,{avatar:l.headImage,"onUpdate:avatar":m[0]||(m[0]=w=>l.headImage=w),value:l.headTitle,"onUpdate:value":m[1]||(m[1]=w=>l.headTitle=w)},null,8,["avatar","value"])]),_:1}),b(x,{class:"form-item",label:"简介",name:"headSubTitle"},{default:I(()=>[b(D,{value:l.headSubTitle,"onUpdate:value":m[2]||(m[2]=w=>l.headSubTitle=w),placeholder:"简介将展示在客户端，不超过100个字符"},null,8,["value"])]),_:1}),b(x,{class:"form-item",label:"颜色",name:["pageStyle","headBackgroundColor"]},{default:I(()=>[b(Ba,{value:l.pageStyle.headBackgroundColor,"onUpdate:value":m[3]||(m[3]=w=>l.pageStyle.headBackgroundColor=w)},null,8,["value"])]),_:1}),b(x,{class:"form-item",label:"语言",name:"lang"},{default:I(()=>[b(P,{style:{width:"180px"},value:l.lang,"onUpdate:value":m[4]||(m[4]=w=>l.lang=w),placeholder:"请选择语言"},{default:I(()=>[b(B,{value:"zh-CN"},{default:I(()=>[X("简体中文")]),_:1})]),_:1},8,["value"])]),_:1})]),_:1},8,["model"])])]),_:1})]),f("div",xa,[b(He,{title:"将以下代码复制到网站代码的< /body>标签之前"},{icon:I(()=>[b(N,{name:"sdk",style:{"font-size":"16px",color:"#262626"}})]),action:I(()=>[f("a",{onClick:r},"复制")]),default:I(()=>[f("div",Ma,[f("pre",null,[f("code",null,Q(le(o)),1)])])]),_:1})])]),La])}}},Da=ne(Ua,[["__scopeId","data-v-5c94f72f"]]),Fa={class:"wechat-app-item"},Oa={class:"item-body"},ja=["src"],za={class:"app-info"},Ha={class:"app-name"},qa={class:"app-desc"},Va={class:"item-right"},Wa={__name:"wechat-app-item",props:{item:{type:Object,default:()=>({})}},emits:["edit","delete"],setup(e,{emit:t}){const a=t,s=e;function n(){a("edit",{...s.item})}function o(){a("delete",{...s.item})}return(r,c)=>{const l=Ct;return U(),J("div",Fa,[f("div",Oa,[f("img",{class:"app-avatar",src:e.item.app_avatar,alt:""},null,8,ja),f("div",za,[f("div",Ha,Q(e.item.app_name),1),f("div",qa,"Appid："+Q(e.item.app_id),1)])]),f("div",Va,[f("span",{class:"action-btn edit-btn",onClick:n},[b(l,{name:"edit"})]),f("span",{class:"action-btn delete-btn",onClick:o},[b(l,{name:"delete"})])])])}}},xt=ne(Wa,[["__scopeId","data-v-5bc839ae"]]),Ka={class:"add-label"},Ja={__name:"add-wechat-app",props:{label:{type:String,default:""}},emits:["click"],setup(e,{emit:t}){const a=t,s=e,n=()=>{a("click")};return(o,r)=>(U(),J("div",{class:"add-wechat-app",onClick:n},[b(le(zn),{class:"add-icon"}),f("span",Ka,Q(s.label),1)]))}},Mt=ne(Ja,[["__scopeId","data-v-9ff0b6b4"]]),Ya="/assets/img/preview_01-MRp2-MBv.png",Ga="/assets/img/config_preview_01-BKZKQ3Os.png",hn=e=>(Pe("data-v-dcc62296"),e=e(),Te(),e),Qa={key:0,class:"add-wechat-app-alert"},Xa={class:"alert-body"},Za={class:"form-box"},es={class:"my-ip"},ts={class:"ip-text"},ns=hn(()=>f("div",{class:"preview-box"},[f("img",{class:"preview-img",src:Ya})],-1)),os={key:1,class:"add-wechat-app-alert"},as={class:"config-preview-box"},ss={class:"config-items"},rs={class:"config-item"},is={class:"config-value"},ls={class:"config-item"},cs={class:"config-value"},us={class:"config-item"},ds={class:"config-value"},ps=hn(()=>f("img",{class:"config-preview-img",src:Ga},null,-1)),Vt="/upload/default/official_account_avatar.png",hs={__name:"add-wechat-official-account-alert",emits:["ok"],setup(e,{expose:t,emit:a}){const s=a,{robotInfo:n}=we("robotInfo"),o=V(!1),r=V(1),c=V(!1),l=V(),u=pe({id:void 0,robot_id:n.id,app_name:"",app_id:"",app_secret:"",app_avatar:"",app_avatar_url:Vt,app_type:"official_account"}),y={app_name:[{required:!0,message:"请输入您的公众号名称",trigger:"change"},{trigger:"change",validator:()=>u.app_avatar_url?Promise.resolve():Promise.reject("请上传公众号头像")}],app_id:[{required:!0,message:"请输入您的AppId",trigger:"change"}],app_secret:[{required:!0,message:"请输入您的AppSecret",trigger:"change"}]},R=Ve(()=>{let E=u.id?"编辑微信公众号":"添加微信公众号",A=r.value==1?"-填写公众号开发信息":"-服务器配置";return E+A}),k=({file:E,url:A})=>{u.app_avatar=E,u.app_avatar_url=A},m=pe({push_aeskey:"",push_token:"",push_url:""}),N=()=>{let E={...ge(u)};delete E.app_avatar_url,At(E).then(A=>{Object.assign(m,A.data),r.value=2,se.success("保存成功"),s("ok")})},x=()=>{l.value.validate().then(()=>{N()}).catch(E=>{})},D=()=>{o.value=!1},B=()=>{l.value.clearValidate(),l.value.resetFields(),o.value=!1},P=E=>{Re(E),se.success("复制成功")},$=()=>{P(n.wechat_ip)};return t({open:E=>{E?(E.app_avatar_url=E.app_avatar,E.app_avatar=""):E={id:void 0,robot_id:n.id,app_name:"",app_id:"",app_secret:"",app_avatar:"",app_avatar_url:Vt,app_type:"official_account",wechat_ip:n.wechat_ip},r.value=1,Object.assign(u,E),o.value=!0}}),(E,A)=>{const O=Ke,H=Je,W=xe,Y=Ne,K=ke,G=Ce;return U(),te(G,{width:"1168px",open:o.value,"onUpdate:open":A[7]||(A[7]=F=>o.value=F),title:R.value,onCancel:B},{footer:I(()=>[r.value===1?(U(),te(O,{key:"back",onClick:B},{default:I(()=>[X("取 消")]),_:1})):ee("",!0),r.value===1?(U(),te(O,{key:"submit",type:"primary",loading:c.value,onClick:x},{default:I(()=>[X("保存并进入下一步")]),_:1},8,["loading"])):ee("",!0),r.value===2?(U(),te(O,{key:"submit",type:"primary",loading:c.value,onClick:D},{default:I(()=>[X("已完成配置")]),_:1},8,["loading"])):ee("",!0)]),default:I(()=>[r.value===1?(U(),J("div",Qa,[b(H,{class:"tip-alert",message:"进入微信公众号后台（mp.weixin.qq.com），在【设置与开发-基本配置】获取开发者信息。",type:"info","show-icon":""}),f("div",Xa,[f("div",Za,[b(K,{ref_key:"formRef",ref:l,layout:"vertical",model:u,rules:y},{default:I(()=>[b(W,{label:"公众号头像/名称",name:"app_name"},{default:I(()=>[b(Ue,{autoUpload:!1,avatar:u.app_avatar_url,"onUpdate:avatar":A[0]||(A[0]=F=>u.app_avatar_url=F),value:u.app_name,"onUpdate:value":A[1]||(A[1]=F=>u.app_name=F),valueModifiers:{trim:!0},placeholder:"请输入您的公众号名称",onChangeAvatar:k},null,8,["avatar","value"])]),_:1}),b(W,{label:"AppId",name:"app_id"},{default:I(()=>[b(Y,{value:u.app_id,"onUpdate:value":A[2]||(A[2]=F=>u.app_id=F),valueModifiers:{trim:!0},placeholder:"请输入您的AppId"},null,8,["value"])]),_:1}),b(W,{label:"AppSecret",name:"app_secret"},{default:I(()=>[b(Y,{value:u.app_secret,"onUpdate:value":A[3]||(A[3]=F=>u.app_secret=F),valueModifiers:{trim:!0},placeholder:"请输入您的AppSecret"},null,8,["value"])]),_:1}),b(W,{label:"将以下IP添加到公众号IP白名单中",name:"wechat_ip",required:""},{default:I(()=>[f("div",es,[f("span",ts,Q(le(n).wechat_ip),1),f("a",{class:"copy-btn",onClick:$},"复 制")])]),_:1})]),_:1},8,["model"])]),ns])])):ee("",!0),r.value===2?(U(),J("div",os,[b(H,{class:"tip-alert",message:"进入微信公众号后台（mp.weixin.qq.com），在【设置与开发-基本配置】中配置并启用服务器配置。请按照下图配置",type:"info","show-icon":""}),f("div",as,[f("div",ss,[f("div",rs,[f("span",is,Q(m.push_url),1),f("span",{class:"copy-btn",onClick:A[4]||(A[4]=F=>P(m.push_url))},"复制")]),f("div",ls,[f("span",cs,Q(m.push_token),1),f("span",{class:"copy-btn",onClick:A[5]||(A[5]=F=>P(m.push_token))},"复制")]),f("div",us,[f("span",ds,Q(m.push_aeskey),1),f("span",{class:"copy-btn",onClick:A[6]||(A[6]=F=>P(m.push_aeskey))},"复制")])]),ps])])):ee("",!0)]),_:1},8,["open","title"])}}},fs=ne(hs,[["__scopeId","data-v-dcc62296"]]),_s={class:""},gs={class:"wechat-app-list"},ms={__name:"wechat-official-account",setup(e){const{robotInfo:t}=we("robotInfo"),a=V(),s=V([]),n=()=>{$t({robot_id:t.id,app_type:"official_account",app_name:""}).then(u=>{s.value=u.data})},o=()=>{a.value.open()},r=u=>{let y=3;const R=Ce.confirm({title:`确定移除${u.app_name}吗?`,icon:b(kt),content:"移除后，机器人无法继续回复用户消息。",okText:y+" 确 定",okType:"danger",cancelText:"取消",okButtonProps:{disabled:!0},onOk(){St({id:u.id}).then(()=>{n(),se.success("删除成功")})},onCancel(){}});let k=setInterval(()=>{y==1?(R.update({okText:"确定",okButtonProps:{disabled:!1}}),clearInterval(k),k=void 0):(y-=1,R.update({okText:y+" 确 定",okButtonProps:{disabled:!0}}))},1e3)},c=u=>{u.wechat_ip=t.wechat_ip,a.value.open({...u})},l=()=>{n()};return qe(()=>{n()}),(u,y)=>(U(),J("div",_s,[f("div",gs,[b(Mt,{label:"绑定公众号",onClick:o}),(U(!0),J(Be,null,We(s.value,R=>(U(),te(xt,{key:R.id,item:R,onEdit:c,onDelete:r},null,8,["item"]))),128))]),b(fs,{ref_key:"addAppAlertRef",ref:a,onOk:l},null,512)]))}},vs=ne(ms,[["__scopeId","data-v-d9539ad9"]]),ys="/assets/img/preview_02-B1rWR-NK.png",bs="/assets/img/config_preview_02-BdpKevei.png",fn=e=>(Pe("data-v-51a9cd1b"),e=e(),Te(),e),ws={key:0,class:"add-wechat-app-alert"},Cs={class:"alert-body"},ks={class:"form-box"},As={class:"my-ip"},$s={class:"ip-text"},Ss=fn(()=>f("div",{class:"preview-box"},[f("img",{class:"preview-img",src:ys})],-1)),Es={key:1,class:"add-wechat-app-alert"},Bs={class:"config-preview-box"},Is={class:"config-items"},Ps={class:"config-item"},Ts={class:"config-value"},Rs={class:"config-item"},Ns={class:"config-value"},xs={class:"config-item"},Ms={class:"config-value"},Ls=fn(()=>f("img",{class:"config-preview-img",src:bs},null,-1)),Wt="/upload/default/mini_program_avatar.png",Us={__name:"add-wechat-mini-program-alert",emits:["ok"],setup(e,{expose:t,emit:a}){const s=a,{robotInfo:n}=we("robotInfo"),o=V(!1),r=V(1),c=V(!1),l=V(),u=pe({id:void 0,robot_id:n.id,app_name:"",app_id:"",app_secret:"",app_avatar:"",app_avatar_url:Wt,app_type:"mini_program"}),y={app_name:[{required:!0,message:"请输入您的公众号名称",trigger:"change"},{trigger:"change",validator:()=>u.app_avatar_url?Promise.resolve():Promise.reject("请上传公众号头像")}],app_id:[{required:!0,message:"请输入您的AppId",trigger:"change"}],app_secret:[{required:!0,message:"请输入您的AppSecret",trigger:"change"}]},R=Ve(()=>{let E=u.id?"编辑微信小程序":"添加微信小程序",A=r.value==1?"-填写小程序开发信息":"-服务器配置";return E+A}),k=({file:E,url:A})=>{u.app_avatar=E,u.app_avatar_url=A},m=pe({push_aeskey:"",push_token:"",push_url:""}),N=()=>{let E={...ge(u)};delete E.app_avatar_url,At(E).then(A=>{Object.assign(m,A.data),r.value=2,se.success("保存成功"),s("ok")})},x=()=>{l.value.validate().then(()=>{N()}).catch(E=>{})},D=()=>{o.value=!1},B=()=>{l.value.clearValidate(),l.value.resetFields(),o.value=!1},P=E=>{Re(E),se.success("复制成功")},$=()=>{P(n.wechat_ip)};return t({open:E=>{E?(E.app_avatar_url=E.app_avatar,E.app_avatar=""):E={id:void 0,robot_id:n.id,app_name:"",app_id:"",app_secret:"",app_avatar:"",app_avatar_url:Wt,app_type:"mini_program",wechat_ip:n.wechat_ip},r.value=1,Object.assign(u,E),o.value=!0}}),(E,A)=>{const O=Ke,H=Je,W=xe,Y=Ne,K=ke,G=Ce;return U(),te(G,{width:"1168px",open:o.value,"onUpdate:open":A[7]||(A[7]=F=>o.value=F),title:R.value,onCancel:B},{footer:I(()=>[r.value===1?(U(),te(O,{key:"back",onClick:B},{default:I(()=>[X("取 消")]),_:1})):ee("",!0),r.value===1?(U(),te(O,{key:"submit",type:"primary",loading:c.value,onClick:x},{default:I(()=>[X("保存并进入下一步")]),_:1},8,["loading"])):ee("",!0),r.value===2?(U(),te(O,{key:"submit",type:"primary",loading:c.value,onClick:D},{default:I(()=>[X("已完成配置")]),_:1},8,["loading"])):ee("",!0)]),default:I(()=>[r.value===1?(U(),J("div",ws,[b(H,{class:"tip-alert",message:"进入微信小程序后台（mp.weixin.qq.com），在【开关-开发管理-开发设置】中获取开发者信息",type:"info","show-icon":""}),f("div",Cs,[f("div",ks,[b(K,{ref_key:"formRef",ref:l,layout:"vertical",model:u,rules:y},{default:I(()=>[b(W,{label:"小程序头像/名称",name:"app_name"},{default:I(()=>[b(Ue,{autoUpload:!1,avatar:u.app_avatar_url,"onUpdate:avatar":A[0]||(A[0]=F=>u.app_avatar_url=F),value:u.app_name,"onUpdate:value":A[1]||(A[1]=F=>u.app_name=F),valueModifiers:{trim:!0},placeholder:"请输入您的小程序名称",onChangeAvatar:k},null,8,["avatar","value"])]),_:1}),b(W,{label:"AppId",name:"app_id"},{default:I(()=>[b(Y,{value:u.app_id,"onUpdate:value":A[2]||(A[2]=F=>u.app_id=F),valueModifiers:{trim:!0},placeholder:"请输入您的AppId"},null,8,["value"])]),_:1}),b(W,{label:"AppSecret",name:"app_secret"},{default:I(()=>[b(Y,{value:u.app_secret,"onUpdate:value":A[3]||(A[3]=F=>u.app_secret=F),valueModifiers:{trim:!0},placeholder:"请输入您的AppSecret"},null,8,["value"])]),_:1}),b(W,{label:"将以下IP添加到小程序IP白名单中，如未开启ip白名单保护可不添加",name:"wechat_ip",required:""},{default:I(()=>[f("div",As,[f("span",$s,Q(le(n).wechat_ip),1),f("a",{class:"copy-btn",onClick:$},"复 制")])]),_:1})]),_:1},8,["model"])]),Ss])])):ee("",!0),r.value===2?(U(),J("div",Es,[b(H,{class:"tip-alert",message:"进入微信小程序后台（mp.weixin.qq.com），在【开关-开发管理-开发设置】中配置并启用消息推送。请按照下图配置。",type:"info","show-icon":""}),f("div",Bs,[f("div",Is,[f("div",Ps,[f("span",Ts,Q(m.push_url),1),f("span",{class:"copy-btn",onClick:A[4]||(A[4]=F=>P(m.push_url))},"复制")]),f("div",Rs,[f("span",Ns,Q(m.push_token),1),f("span",{class:"copy-btn",onClick:A[5]||(A[5]=F=>P(m.push_token))},"复制")]),f("div",xs,[f("span",Ms,Q(m.push_aeskey),1),f("span",{class:"copy-btn",onClick:A[6]||(A[6]=F=>P(m.push_aeskey))},"复制")])]),Ls])])):ee("",!0)]),_:1},8,["open","title"])}}},Ds=ne(Us,[["__scopeId","data-v-51a9cd1b"]]),Fs={class:""},Os={class:"wechat-app-list"},js={__name:"wechat-mini-program",setup(e){const{robotInfo:t}=we("robotInfo"),a=V(),s=V([]),n=()=>{$t({robot_id:t.id,app_type:"mini_program",app_name:""}).then(u=>{s.value=u.data})},o=()=>{a.value.open()},r=u=>{let y=3;const R=Ce.confirm({title:`确定移除${u.app_name}吗?`,icon:b(kt),content:"移除后，机器人无法继续回复用户消息。",okText:y+" 确 定",okType:"danger",cancelText:"取消",okButtonProps:{disabled:!0},onOk(){St({id:u.id}).then(()=>{n(),se.success("删除成功")})},onCancel(){}});let k=setInterval(()=>{y==1?(R.update({okText:"确 定",okButtonProps:{disabled:!1}}),clearInterval(k),k=void 0):(y-=1,R.update({okText:y+" 确 定",okButtonProps:{disabled:!0}}))},1e3)},c=u=>{u.wechat_ip=t.wechat_ip,a.value.open({...u})},l=()=>{n()};return qe(()=>{n()}),(u,y)=>(U(),J("div",Fs,[f("div",Os,[b(Mt,{label:"绑定微信小程序",onClick:o}),(U(!0),J(Be,null,We(s.value,R=>(U(),te(xt,{key:R.id,item:R,onEdit:c,onDelete:r},null,8,["item"]))),128))]),b(Ds,{ref_key:"addAppAlertRef",ref:a,onOk:l},null,512)]))}},zs=ne(js,[["__scopeId","data-v-ae8d32c8"]]),Hs="/assets/img/preview_03-DXz9-3qW.png",qs="/assets/img/config_preview_03-DN1fPWUm.png",_n=e=>(Pe("data-v-732d0ea4"),e=e(),Te(),e),Vs={key:0,class:"add-wechat-app-alert"},Ws={class:"alert-body"},Ks={class:"form-box"},Js=_n(()=>f("div",{class:"preview-box"},[f("img",{class:"preview-img",src:Hs})],-1)),Ys={key:1,class:"add-wechat-app-alert"},Gs={class:"config-preview-box"},Qs={class:"config-items"},Xs={class:"config-item"},Zs={class:"config-value"},er={class:"config-item"},tr={class:"config-value"},nr={class:"config-item"},or={class:"config-value"},ar=_n(()=>f("img",{class:"config-preview-img",src:qs},null,-1)),Kt="/upload/default/wechat_kefu_avatar.png",sr={__name:"add-wechat-customer-service-alert",emits:["ok"],setup(e,{expose:t,emit:a}){const s=a,{robotInfo:n}=we("robotInfo"),o=V(!1),r=V(1),c=V(!1),l=V(),u=pe({id:void 0,robot_id:n.id,app_name:"",app_id:"",app_secret:"",app_avatar:"",app_avatar_url:Kt,app_type:"wechat_kefu"}),y={app_name:[{required:!0,message:"请输入您的公众号名称",trigger:"change"},{trigger:"change",validator:()=>u.app_avatar_url?Promise.resolve():Promise.reject("请上传公众号头像")}],app_id:[{required:!0,message:"请输入您的AppId",trigger:"change"}],app_secret:[{required:!0,message:"请输入您的AppSecret",trigger:"change"}]},R=Ve(()=>{let $=u.id?"编辑微信客服":"添加微信客服",w=r.value==1?"-服务器配置":"-填写微信客服开发信息";return $+w}),k=({file:$,url:w})=>{u.app_avatar=$,u.app_avatar_url=w},m=pe({push_aeskey:"",push_token:"",push_url:""}),N=()=>{let $={...ge(u)};delete $.app_avatar_url,At($).then(w=>{Object.assign(m,w.data),r.value=2,se.success("保存成功"),s("ok"),o.value=!1})},x=()=>{l.value.validate().then(()=>{N()}).catch($=>{})},D=()=>{l.value&&(l.value.clearValidate(),l.value.resetFields()),o.value=!1},B=$=>{Re($),se.success("复制成功")};return t({open:$=>{$?($.app_avatar_url=$.app_avatar,$.app_avatar=""):$={id:void 0,robot_id:n.id,app_name:"",app_id:"",app_secret:"",app_avatar:"",app_avatar_url:Kt,app_type:"wechat_kefu",wechat_ip:n.wechat_ip},r.value=1,Object.assign(u,$),o.value=!0}}),($,w)=>{const E=Ke,A=Je,O=xe,H=Ne,W=ke,Y=Ce;return U(),te(Y,{width:"1168px",open:o.value,"onUpdate:open":w[8]||(w[8]=K=>o.value=K),title:R.value,onCancel:D},{footer:I(()=>[b(E,{key:"back",onClick:D},{default:I(()=>[X("取 消")]),_:1}),r.value===1?(U(),te(E,{key:"submit",type:"primary",loading:c.value,onClick:w[0]||(w[0]=K=>r.value=2)},{default:I(()=>[X("保存并进入下一步")]),_:1},8,["loading"])):ee("",!0),r.value===2?(U(),te(E,{key:"submit",type:"primary",loading:c.value,onClick:x},{default:I(()=>[X("已完成配置")]),_:1},8,["loading"])):ee("",!0)]),default:I(()=>[r.value===2?(U(),J("div",Vs,[b(A,{class:"tip-alert",message:"进入微信客服后台（kf.weixin.qq.com），在【开发配置】中启用企业内部接入后获取开发者信息",type:"info","show-icon":""}),f("div",Ws,[f("div",Ks,[b(W,{ref_key:"formRef",ref:l,layout:"vertical",model:u,rules:y},{default:I(()=>[b(O,{label:"企业头像/名称",name:"app_name"},{default:I(()=>[b(Ue,{autoUpload:!1,avatar:u.app_avatar_url,"onUpdate:avatar":w[1]||(w[1]=K=>u.app_avatar_url=K),value:u.app_name,"onUpdate:value":w[2]||(w[2]=K=>u.app_name=K),valueModifiers:{trim:!0},placeholder:"请输入您的企业名称",onChangeAvatar:k},null,8,["avatar","value"])]),_:1}),b(O,{label:"企业id",name:"app_id"},{default:I(()=>[b(H,{value:u.app_id,"onUpdate:value":w[3]||(w[3]=K=>u.app_id=K),valueModifiers:{trim:!0},placeholder:"请输入您的AppId"},null,8,["value"])]),_:1}),b(O,{label:"企业Secret",name:"app_secret"},{default:I(()=>[b(H,{value:u.app_secret,"onUpdate:value":w[4]||(w[4]=K=>u.app_secret=K),valueModifiers:{trim:!0},placeholder:"请输入您的AppSecret"},null,8,["value"])]),_:1})]),_:1},8,["model"])]),Js])])):ee("",!0),r.value===1?(U(),J("div",Ys,[b(A,{class:"tip-alert",message:"进入微信客服后台（kf.weixin.qq.com），在【开发配置】中启用企业内部接入。请按照下图配置",type:"info","show-icon":""}),f("div",Gs,[f("div",Qs,[f("div",Xs,[f("span",Zs,Q(le(n).push_wechat_kefu),1),f("span",{class:"copy-btn",onClick:w[5]||(w[5]=K=>B(le(n).push_wechat_kefu))},"复制")]),f("div",er,[f("span",tr,Q(le(n).push_token),1),f("span",{class:"copy-btn",onClick:w[6]||(w[6]=K=>B(le(n).push_token))},"复制")]),f("div",nr,[f("span",or,Q(le(n).push_aeskey),1),f("span",{class:"copy-btn",onClick:w[7]||(w[7]=K=>B(le(n).push_aeskey))},"复制")])]),ar])])):ee("",!0)]),_:1},8,["open","title"])}}},rr=ne(sr,[["__scopeId","data-v-732d0ea4"]]),ir={class:""},lr={class:"wechat-app-list"},cr={__name:"wechat-customer-service",setup(e){const{robotInfo:t}=we("robotInfo"),a=V(),s=V([]),n=()=>{$t({robot_id:t.id,app_type:"wechat_kefu",app_name:""}).then(u=>{s.value=u.data})},o=()=>{a.value.open()},r=u=>{let y=3;const R=Ce.confirm({title:`确定移除${u.app_name}吗?`,icon:b(kt),content:"移除后，机器人无法继续回复用户消息。",okText:y+" 确 定",okType:"danger",cancelText:"取消",okButtonProps:{disabled:!0},onOk(){St({id:u.id}).then(()=>{n(),se.success("删除成功")})},onCancel(){}});let k=setInterval(()=>{y==1?(R.update({okText:"确 定",okButtonProps:{disabled:!1}}),clearInterval(k),k=void 0):(y-=1,R.update({okText:y+" 确 定",okButtonProps:{disabled:!0}}))},1e3)},c=u=>{u.wechat_ip=t.wechat_ip,a.value.open({...u})},l=()=>{n()};return qe(()=>{n()}),(u,y)=>{const R=Je;return U(),J("div",ir,[b(R,{class:"tip-alert",message:"绑定微信客服，用户通过微信客服咨询时由机器人自动回复",type:"info","show-icon":""}),f("div",lr,[b(Mt,{label:"绑定微信客服",onClick:o}),(U(!0),J(Be,null,We(s.value,k=>(U(),te(xt,{key:k.id,item:k,onEdit:c,onDelete:r},null,8,["item"]))),128))]),b(rr,{ref_key:"addAppAlertRef",ref:a,onOk:l},null,512)])}}},ur=ne(cr,[["__scopeId","data-v-826ac730"]]),dr={class:"external-services-page"},pr={class:"page-header"},hr={class:"page-body"},fr={class:"scroll-box"},_r={__name:"index",setup(e){const t=wt(),{robotInfo:a}=bt(t),{getRobot:s}=t,n={WebAPP:va,EmbedWebsite:Da,WeChatOfficialAccount:vs,WeChatMiniProgram:zs,WeChatCustomerService:ur},o=V("WebAPP"),r=c=>{o.value=c.id};return Tn("robotInfo",{robotInfo:a.value,getRobot:s}),(c,l)=>(U(),J("div",dr,[f("div",pr,[b(Vn,{onChange:r,value:o.value,"onUpdate:value":l[0]||(l[0]=u=>o.value=u)},null,8,["value"])]),f("div",hr,[f("div",fr,[(U(),te(Rn(n[o.value])))])])]))}},Wr=ne(_r,[["__scopeId","data-v-578271c6"]]);export{Wr as default};
