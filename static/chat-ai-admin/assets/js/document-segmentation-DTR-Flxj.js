import{R as ge,au as he,S as ye,O as Z,av as be,X as ce,aw as oe,a2 as de,Q as ue,aq as ke,_ as le,d as ae,c as xe,M as J,E as te,ax as we,B as $e}from"../../index.js";import{f as Se,b as W,e as S,w as qe,k as o,F as R,B as ee,M as _,N as f,W as e,a3 as z,S as g,a2 as H,Q as K,Y as N,Z as O,a9 as U,aa as me,a4 as _e,a5 as ve,V as se,u as ne,a1 as Ce,a0 as Pe}from"./vue-chunks-Chs-lyDX.js";import{a as Fe,b as Ie,e as Te,f as ze,s as Ne}from"./index-DByfIRTu.js";import{F as ie,_ as Oe}from"./index-VeYSCPCu.js";import"./index-9H-48H6s.js";import{I as pe}from"./Password-cmG-BlhH.js";import{u as je}from"./Col-CvDsueo7.js";import{S as Ee,_ as Le}from"./index-MD3V6K2I.js";import{_ as De}from"./index-BUlbC6Wf.js";import{_ as Qe}from"./index-DOqSVN3l.js";import{_ as Ae}from"./TextArea-DvaABMYL.js";import{S as Be}from"./index-B8boHKw3.js";import"./dayjs-CkLU8sYs.js";import"./axios-Cm0UX6qg.js";import"./qs-DjYKlG5V.js";import"./crypto-js-BUUKnz8c.js";import"./index-DBNqHYGh.js";import"./collapseMotion-DN2MDQ98.js";import"./QuestionCircleOutlined-B0hVewZq.js";import"./inputProps-DYO7gEw-.js";import"./slide-CP07UJ8x.js";import"./index-CwZHIw9t.js";import"./CheckOutlined-D4HtVfaw.js";import"./DownOutlined-DRniQ56W.js";import"./move-DwQ0mPkQ.js";const Re={small:8,middle:16,large:24},Ue=()=>({prefixCls:String,size:{type:[String,Number,Array]},direction:de.oneOf(ue("horizontal","vertical")).def("horizontal"),align:de.oneOf(ue("start","end","center","baseline")),wrap:ke()});function Ve(r){return typeof r=="string"?Re[r]:r||0}const X=Se({compatConfig:{MODE:3},name:"ASpace",inheritAttrs:!1,props:Ue(),slots:Object,setup(r,j){let{slots:x,attrs:d}=j;const{prefixCls:m,space:s,direction:u}=ge("space",r),[T,D]=he(m),A=je(),w=W(()=>{var c,l,t;return(t=(c=r.size)!==null&&c!==void 0?c:(l=s==null?void 0:s.value)===null||l===void 0?void 0:l.size)!==null&&t!==void 0?t:"small"}),b=S(),$=S();qe(w,()=>{[b.value,$.value]=(Array.isArray(w.value)?w.value:[w.value,w.value]).map(c=>Ve(c))},{immediate:!0});const C=W(()=>r.align===void 0&&r.direction==="horizontal"?"center":r.align),y=W(()=>ye(m.value,D.value,`${m.value}-${r.direction}`,{[`${m.value}-rtl`]:u.value==="rtl",[`${m.value}-align-${C.value}`]:C.value})),i=W(()=>u.value==="rtl"?"marginLeft":"marginRight"),P=W(()=>{const c={};return A.value&&(c.columnGap=`${b.value}px`,c.rowGap=`${$.value}px`),Z(Z({},c),r.wrap&&{flexWrap:"wrap",marginBottom:`${-$.value}px`})});return()=>{var c,l;const{wrap:t,direction:F="horizontal"}=r,p=(c=x.default)===null||c===void 0?void 0:c.call(x),q=be(p),E=q.length;if(E===0)return null;const I=(l=x.split)===null||l===void 0?void 0:l.call(x),L=`${m.value}-item`,n=b.value,M=E-1;return o("div",ce(ce({},d),{},{class:[y.value,d.class],style:[P.value,d.style]}),[q.map((G,V)=>{let a=p.indexOf(G);a===-1&&(a=`$$space-${V}`);let v={};return A.value||(F==="vertical"?V<M&&(v={marginBottom:`${n/(I?2:1)}px`}):v=Z(Z({},V<M&&{[i.value]:`${n/(I?2:1)}px`}),t&&{paddingBottom:`${$.value}px`})),T(o(R,{key:a},[o("div",{class:L,style:v},[G]),V<M&&I&&o("span",{class:`${L}-split`,style:v},[I])]))})])}}});X.Compact=oe;X.install=function(r){return r.component(X.name,X),r.component(oe.name,oe),r};const Me=X,h=r=>(_e("data-v-75ec43ad"),r=r(),ve(),r),Ge={class:"segmentation-setting"},We={class:"setting-items"},Je=h(()=>e("div",{class:"setting-item-info"},[e("div",{class:"setting-item-name"},"智能分段"),e("div",{class:"setting-item-desc"},"系统自动分段，推荐不了解分段规则时使用")],-1)),Xe={key:0,class:"setting-item-body"},Ye=h(()=>e("div",{class:"sub-setting-item-name"},"文档类型",-1)),Ze={class:"document-types"},He=h(()=>e("div",{class:"sub-setting-item-name"},"文件切分",-1)),Ke={key:0,class:"custom-setting-form excel-qa-form"},et={class:"form-item"},tt=h(()=>e("div",{class:"form-item-label"},"问题所在列：",-1)),st={class:"form-item-body"},nt={class:"form-item"},ot=h(()=>e("div",{class:"form-item-label"},"答案所在列：",-1)),at={class:"form-item-body"},it=h(()=>e("div",{class:"sub-setting-item-name"},"索引方式",-1)),lt={class:"indexing-methods-box"},rt={class:"list-title-block"},ct=h(()=>e("div",{class:"list-content"},"回答用户提问时，将用户提问与导入的问题和答案一起对比相似度，根据相似度高的问题和答案回复",-1)),dt={class:"list-title-block"},ut=h(()=>e("div",{class:"list-content"},"回答用户提问时，将用户提问与导入的问题一起对比相似度，再根据相似度高的问题和对应的答案来回复",-1)),mt={key:1,class:"custom-setting-form problem-identifier-form"},_t={class:"form-item"},vt=h(()=>e("div",{class:"form-item-label"},"问题开始标识符：",-1)),pt={class:"form-item-body"},ft={class:"form-item"},gt=h(()=>e("div",{class:"form-item-label"},"答案开始标识符：",-1)),ht={class:"form-item-body"},yt=h(()=>e("div",{class:"sub-setting-item-name"},"索引方式",-1)),bt={class:"indexing-methods-box"},kt={class:"list-title-block"},xt=h(()=>e("div",{class:"list-content"},"回答用户提问时，将用户提问与导入的问题和答案一起对比相似度，根据相似度高的问题和答案回复",-1)),wt={class:"list-title-block"},$t=h(()=>e("div",{class:"list-content"},"回答用户提问时，将用户提问与导入的问题一起对比相似度，再根据相似度高的问题和对应的答案来回复",-1)),St=h(()=>e("div",{class:"setting-item-info"},[e("div",{class:"setting-item-name"},"自定义分段"),e("div",{class:"setting-item-desc"},"根据文档贵发自行设置分段标识符、分段长度等")],-1)),qt={key:0,class:"setting-item-body"},Ct={class:"custom-setting-form subsection-form"},Pt={class:"form-item",style:{"margin-bottom":"18px"}},Ft=h(()=>e("div",{class:"form-item-label"},"分段标识符：",-1)),It={class:"form-item-body"},Tt={class:"form-item"},zt=h(()=>e("div",{class:"form-item-label"},"分段最大长度：",-1)),Nt={class:"form-item-body"},Ot=h(()=>e("span",{class:"unit-text"},"字符",-1)),jt={class:"form-item"},Et=h(()=>e("div",{class:"form-item-label"},"分段重叠长度：",-1)),Lt={class:"form-item-body"},Dt=h(()=>e("span",{class:"unit-text"},"字符",-1)),Qt={__name:"segmentation-setting",props:{mode:{type:Number,default:0},excellQaLists:{type:Array,default:()=>[]}},emits:["change","validate"],setup(r,{emit:j}){const x=ie.useForm,d=j,m=r,s=ee({is_diy_split:0,separators_no:[],chunk_size:512,chunk_overlap:50,is_qa_doc:0,question_lable:"",answer_lable:"",question_column:void 0,answer_column:void 0,qa_index_type:1}),u=ee({question_lable:[{message:"请输入问题开始标识符",validator:async(l,t)=>s.is_diy_split==0&&s.is_qa_doc==1&&m.mode==0?t?Promise.resolve():Promise.reject("请输入问题开始标识符"):Promise.resolve()}],answer_lable:[{message:"请输入答案开始标识符",validator:async(l,t)=>s.is_diy_split==0&&s.is_qa_doc==1&&m.mode==0?t?Promise.resolve():Promise.reject("请输入答案开始标识符"):Promise.resolve()}],separators_no:[{message:"请选择分段标识符",validator:async(l,t)=>s.is_diy_split==1&&t.length==0?Promise.reject("请选择分段标识符"):Promise.resolve()}],chunk_size:[{validator:async(l,t)=>{if(s.is_diy_split==1){if(t){if(t>2e3)return Promise.reject("最大分段长最大值不得超过2000")}else return Promise.reject("请输入分段最大长度");return Promise.resolve()}return Promise.resolve()}}],chunk_overlap:[{validator:async(l,t)=>{if(s.is_diy_split==1){if(t){if(t<2)return Promise.reject("分段重叠长度最小不得低于2");if(t>parseInt(s.chunk_size/2))return Promise.reject("分段重叠长度最大不得超过最大分段长度的50%")}else return Promise.reject("请输入分段重叠长度");return Promise.resolve()}return Promise.resolve()}}],question_column:[{message:"请选择问题所在列",validator:async(l,t)=>m.mode==1&&s.is_qa_doc==1?t?Promise.resolve():Promise.reject("请选择问题所在列"):Promise.resolve()}],answer_column:[{message:"请选择答案所在列",validator:async(l,t)=>m.mode==1&&s.is_qa_doc==1?t?Promise.resolve():Promise.reject("请选择答案所在列"):Promise.resolve()}]}),{resetFields:T,validate:D,validateInfos:A}=x(s,u),w=l=>{s.is_diy_split=l,$(!1)},b=l=>{s.is_qa_doc=l,$(!1)},$=(l=!0)=>{let t=me(s);D().then(()=>{d("change",{...t}),d("validate","")}).catch(F=>{const{errorFields:p}=F;if(p.length>0){l&&ae.error(p[0].errors[0]),d("validate",p[0].errors[0]);return}d("validate",""),d("change",{...t})})};let C=null;const y=()=>{C&&(clearTimeout(C),C=null),C=setTimeout(()=>{$()},500)},i=S([]);(()=>{Fe().then(l=>{i.value=l.data||[]})})();const c=l=>{l!=s.qa_index_type&&(s.qa_index_type=l,$())};return(l,t)=>{const F=Ee,p=Le,q=xe,E=pe,I=Me,L=De;return _(),f("div",Ge,[e("div",We,[e("div",{class:z(["setting-item intelligent-setting",{active:s.is_diy_split==0}])},[e("div",{class:"setting-item-header",onClick:t[0]||(t[0]=n=>w(0))},[e("span",{class:z(["setting-item-icon intelligent-icon",{active:s.is_diy_split==0}])},null,2),Je]),s.is_diy_split==0?(_(),f("div",Xe,[Ye,e("div",Ze,[e("div",{class:z(["document-type",{active:s.is_qa_doc==0}]),onClick:t[1]||(t[1]=n=>b(0))}," 普通文档 ",2),e("div",{class:z(["document-type",{active:s.is_qa_doc==1}]),onClick:t[2]||(t[2]=n=>b(1))}," QA文档 ",2)]),s.is_qa_doc==1?(_(),f(R,{key:0},[He,m.mode==1?(_(),f("div",Ke,[e("div",et,[tt,e("div",st,[o(p,{value:s.question_column,"onUpdate:value":t[3]||(t[3]=n=>s.question_column=n),onChange:y,placeholder:"请选择列名",style:{width:"100%"}},{default:g(()=>[(_(!0),f(R,null,H(m.excellQaLists,n=>(_(),K(F,{value:n.value,key:n.value},{default:g(()=>[N(O(n.lable),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])])]),e("div",nt,[ot,e("div",at,[o(p,{value:s.answer_column,"onUpdate:value":t[4]||(t[4]=n=>s.answer_column=n),onChange:y,placeholder:"请选择答案所在列",style:{width:"100%"}},{default:g(()=>[(_(!0),f(R,null,H(m.excellQaLists,n=>(_(),K(F,{value:n.value,key:n.value},{default:g(()=>[N(O(n.lable),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])])]),it,e("div",lt,[e("div",{class:z(["list-item",{active:s.qa_index_type==1}]),onClick:t[5]||(t[5]=n=>c(1))},[o(q,{class:"check-icon",name:"check-arrow-filled"}),e("div",rt,[o(q,{name:"file-search"}),N(" 问题与答案一起生成索引 ")]),ct],2),e("div",{class:z(["list-item",{active:s.qa_index_type==2}]),onClick:t[6]||(t[6]=n=>c(2))},[o(q,{class:"check-icon",name:"check-arrow-filled"}),e("div",dt,[o(q,{name:"comment-search"}),N(" 仅对问题生成索引 ")]),ut],2)])])):(_(),f("div",mt,[o(I,{class:"problem-identifier-form-box",size:16},{default:g(()=>[e("div",_t,[vt,e("div",pt,[o(E,{placeholder:"请输入标识符",value:s.question_lable,"onUpdate:value":t[7]||(t[7]=n=>s.question_lable=n),onChange:y},null,8,["value"])])]),e("div",ft,[gt,e("div",ht,[o(E,{placeholder:"请输入标识符",value:s.answer_lable,"onUpdate:value":t[8]||(t[8]=n=>s.answer_lable=n),onChange:y},null,8,["value"])])])]),_:1}),yt,e("div",bt,[e("div",{class:z(["list-item",{active:s.qa_index_type==1}]),onClick:t[9]||(t[9]=n=>c(1))},[o(q,{class:"check-icon",name:"check-arrow-filled"}),e("div",kt,[o(q,{name:"file-search"}),N(" 问题与答案一起生成索引 ")]),xt],2),e("div",{class:z(["list-item",{active:s.qa_index_type==2}]),onClick:t[10]||(t[10]=n=>c(2))},[o(q,{class:"check-icon",name:"check-arrow-filled"}),e("div",wt,[o(q,{name:"comment-search"}),N(" 仅对问题生成索引 ")]),$t],2)])]))],64)):U("",!0)])):U("",!0)],2),m.mode!=1?(_(),f("div",{key:0,class:z(["setting-item custom-setting",{active:s.is_diy_split==1}])},[e("div",{class:"setting-item-header",onClick:t[11]||(t[11]=n=>w(1))},[e("span",{class:z(["setting-item-icon custom-icon",{active:s.is_diy_split==1}])},null,2),St]),s.is_diy_split==1?(_(),f("div",qt,[e("div",Ct,[e("div",Pt,[Ft,e("div",It,[o(p,{placeholder:"请选择",style:{width:"100%"},mode:"multiple",value:s.separators_no,"onUpdate:value":t[12]||(t[12]=n=>s.separators_no=n),onChange:y},{default:g(()=>[(_(!0),f(R,null,H(i.value,n=>(_(),K(F,{value:n.no,key:n.no},{default:g(()=>[N(O(n.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])])]),o(I,{size:16},{default:g(()=>[e("div",Tt,[zt,e("div",Nt,[o(I,null,{default:g(()=>[o(L,{style:{width:"140px"},value:s.chunk_size,"onUpdate:value":t[13]||(t[13]=n=>s.chunk_size=n),placeholder:"分段最大长度",min:200,max:2e3,precision:0,formatter:n=>parseInt(n),parser:n=>parseInt(n),onChange:y},null,8,["value","formatter","parser"]),Ot]),_:1})])]),e("div",jt,[Et,e("div",Lt,[o(I,null,{default:g(()=>[o(L,{style:{width:"140px"},value:s.chunk_overlap,"onUpdate:value":t[14]||(t[14]=n=>s.chunk_overlap=n),placeholder:"分段重叠长度",min:2,formatter:n=>parseInt(n),parser:n=>parseInt(n),onChange:y},null,8,["value","formatter","parser"]),Dt]),_:1})])])]),_:1})])])):U("",!0)],2)):U("",!0)])])}}},At=le(Qt,[["__scopeId","data-v-75ec43ad"]]),Bt={class:"document-fragment"},Rt={class:"fragment-header"},Ut={class:"fragment-info"},Vt={class:"fragment-number"},Mt={key:0,class:"fragment-title"},Gt={class:"fragment-content-lenght"},Wt={class:"fragment-action"},Jt={class:"fragment-content"},Xt={key:0,class:"fragment-content"},Yt={key:1,class:"fragment-content"},Zt={__name:"document-fragment",props:{number:{type:[Number,String]},total:{type:[Number,String]},title:{type:[Number,String]},content:{type:[Number,String]},question:{type:[Number,String]},answer:{type:[Number,String]}},emits:["edit","delete"],setup(r,{emit:j}){const x=j,d=r,m=()=>{x("edit")},s=()=>{x("delete")};return(u,T)=>{const D=Qe;return _(),f("div",Bt,[e("div",Rt,[e("div",Ut,[e("span",Vt,"#"+O(d.number),1),d.title?(_(),f("span",Mt,O(d.title),1)):U("",!0),e("span",Gt,"共"+O(d.total)+"个字符",1)]),e("div",Wt,[e("a",{onClick:m},"编辑"),o(D,{type:"vertical"}),e("a",{onClick:s},"删除")])]),e("div",Jt,O(d.content),1),d.question?(_(),f("div",Xt,"Q："+O(d.question),1)):U("",!0),d.answer?(_(),f("div",Yt,"A："+O(d.answer),1)):U("",!0)])}}},Ht=le(Zt,[["__scopeId","data-v-4f1fe9b3"]]),Kt={__name:"edit-fragment-alert",emits:["ok"],setup(r,{expose:j,emit:x}){const d=x,m=ie.useForm,s=S(!1),u=ee({title:"",content:"",question:"",answer:""}),T=ee({content:[{message:"请输入分段内容",validator:async(y,i)=>b.value||i?Promise.resolve():Promise.reject("请输入分段内容")}],question:[{message:"请输入分段问题",validator:async(y,i)=>b.value?i?Promise.resolve():Promise.reject("请输入分段问题"):Promise.resolve()}],answer:[{message:"请输入分段答案",validator:async(y,i)=>b.value?i?Promise.resolve():Promise.reject("请输入分段答案"):Promise.resolve()}]}),{resetFields:D,validate:A,validateInfos:w}=m(u,T),b=S(!1),$=({title:y,content:i,question:P,answer:c})=>{u.title=y,u.content=i,u.question=P,u.answer=c,b.value=P!="",s.value=!0},C=()=>{A().then(()=>{s.value=!1,d("ok",me(u))})};return j({open:$}),(y,i)=>{const P=pe,c=Oe,l=Ae,t=ie,F=J;return _(),f("div",null,[o(F,{open:s.value,"onUpdate:open":i[4]||(i[4]=p=>s.value=p),title:"编辑分段",onOk:C,width:"746px"},{default:g(()=>[o(t,{layout:"vertical"},{default:g(()=>[o(c,{label:"分段标题："},{default:g(()=>[o(P,{type:"text",placeholder:"请输入分段标题",value:u.title,"onUpdate:value":i[0]||(i[0]=p=>u.title=p)},null,8,["value"])]),_:1}),b.value?(_(),f(R,{key:0},[o(c,se({label:"分段问题："},ne(w).question),{default:g(()=>[o(l,{placeholder:"请输入分段问题",value:u.question,"onUpdate:value":i[1]||(i[1]=p=>u.question=p),style:{height:"100px"}},null,8,["value"])]),_:1},16),o(c,se({label:"分段答案："},ne(w).answer),{default:g(()=>[o(l,{placeholder:"请输入分段答案",value:u.answer,"onUpdate:value":i[2]||(i[2]=p=>u.answer=p),style:{height:"250px"}},null,8,["value"])]),_:1},16)],64)):(_(),K(c,se({key:1,label:"分段内容："},ne(w).content),{default:g(()=>[o(l,{placeholder:"请输入分段内容",value:u.content,"onUpdate:value":i[3]||(i[3]=p=>u.content=p),style:{height:"450px"}},null,8,["value"])]),_:1},16))]),_:1})]),_:1},8,["open"])])}}},es=r=>(_e("data-v-076d6f78"),r=r(),ve(),r),ts={key:0,class:"loading-wrap"},ss={key:1,class:"document-segmentation"},ns={class:"page-container"},os={class:"page-left"},as={class:"page-right"},is={class:"document-fragment-preview"},ls={class:"preview-header"},rs=es(()=>e("span",{class:"label-text"},"分段预览",-1)),cs={class:"fragment-number"},ds={class:"footer-btn-box"},us={__name:"document-segmentation",setup(r){const j=Ce(),x=Pe(),{document_id:d}=j.query,m=S(!0),s=S(1);let u=!1,T={id:d,is_diy_split:0,separators_no:"",chunk_size:512,chunk_overlap:50,is_qa_doc:0,question_lable:"",answer_lable:""};const D=a=>{a.is_diy_split==1&&(a.is_qa_doc=0),typeof a.separators_no=="object"&&(a.separators_no=a.separators_no.join(",")),T={...T,...a},u?J.confirm({title:"提醒",icon:o(te),content:"文档片段已被编辑重新获取文档片段会丢失当前修改过的文档片段内容，确定要重新获取吗？",okText:"确定",okType:"danger",cancelText:"取消",onOk(){u=!1,c()},onCancel(){}}):(u=!1,c())};let A=60*10,w=0,b=null;const $=()=>{m.value||(m.value=!0),Ie({id:d}).then(a=>{const{status:v}=a.data;if(v==0){if(w++,w>A){J.error({title:"提醒",content:"文档解析速度慢请稍后再试"});return}setTimeout(()=>{$()},1e3)}else v==4?(m.value=!1,s.value=parseInt(a.data.is_table_file),b=a.data.library_id,c()):x.replace("/library/details?id="+a.data.library_id);a.data.is_table_file==1&&y()})};$();const C=S([]),y=()=>{Te({id:d}).then(a=>{let v=[];for(let k in a.data)v.push({lable:a.data[k],value:k});C.value=v})},i=S([]),P=S(0),c=()=>{ze(T).then(a=>{i.value=a.data.list||[],P.value=a.data.list.length||0})},l=S(null);let t=null;const F=({title:a,content:v,question:k,answer:B},Y)=>{t=Y,l.value.open({title:a,content:v,question:k,answer:B})},p=({title:a,content:v,question:k,answer:B})=>{(i.value[t].title!=a||i.value[t].content!=v||i.value[t].question!=k||i.value[t].answer!=B)&&(u=!0),i.value[t].title=a,i.value[t].content=v,i.value[t].question=k,i.value[t].answer=B,i.value[t].word_total=B.length+k.length+v.length},q=a=>{J.confirm({title:"提醒",icon:o(te),content:"确定要删除这个片段吗?",okText:"确定",okType:"danger",cancelText:"取消",onOk(){u=!0,i.value.splice(a,1)},onCancel(){}})},E=S(""),I=a=>{E.value=a},L=S(!1),n=()=>{if(E.value)return ae.error(E.value);let a={...T,is_table_file:s.value};delete a.id;let v={id:d,word_total:P.value,split_params:JSON.stringify(a),list:JSON.stringify(i.value)};a.is_qa_doc==1&&(v.qa_index_type=a.qa_index_type),L.value=!0,Ne(v).then(()=>{ae.success("保存成功"),x.replace("/library/details?id="+b)}).finally(()=>{L.value=!1}).catch(k=>{k.data&&k.data.index&&V(k.data.index)})},M=()=>{J.confirm({title:"确定要退出吗?",icon:o(te),content:"",okText:"确定",okType:"danger",cancelText:"取消",onOk(){x.replace("/library/details?id="+b)},onCancel(){}})},G=S(null),V=a=>{a=a-1;let v=G.value.querySelectorAll(".fragment-item");v.length>=a&&v[a].scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})};return(a,v)=>{const k=Be,B=we,Y=$e;return m.value?(_(),f("div",ts,[o(k)])):(_(),f("div",ss,[o(B,null,{default:g(()=>[N("文档分段与清洗")]),_:1}),e("div",ns,[e("div",os,[o(At,{excellQaLists:C.value,mode:s.value,onChange:D,onValidate:I},null,8,["excellQaLists","mode"])]),e("div",as,[e("div",is,[e("div",ls,[rs,e("span",cs,"共"+O(P.value)+"个分段",1)]),e("div",{class:"preview-box",ref_key:"previewBoxRef",ref:G},[(_(!0),f(R,null,H(i.value,(Q,re)=>(_(),f("div",{class:"fragment-item",key:Q.number},[o(Ht,{number:Q.number,title:Q.title,content:Q.content,total:Q.word_total,question:Q.question,answer:Q.answer,onDelete:fe=>q(re),onEdit:fe=>F(Q,re)},null,8,["number","title","content","total","question","answer","onDelete","onEdit"])]))),128))],512)])])]),e("div",ds,[o(Y,{onClick:M},{default:g(()=>[N("取消")]),_:1}),o(Y,{type:"primary",loading:L.value,onClick:n},{default:g(()=>[N("保存")]),_:1},8,["loading"])]),o(Kt,{ref_key:"editFragmentAlertRef",ref:l,onOk:p},null,512)]))}}},Ls=le(us,[["__scopeId","data-v-076d6f78"]]);export{Ls as default};
